/*
 regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
(function(G){var T=window.AmazonUIPageJS||window.P,h=T._namespace||T.attributeErrors,ba=h?h("DetailPagePriceTrackerAssets",""):T;ba.guardFatal?ba.guardFatal(G)(ba,window):ba.execute(function(){G(ba,window)})})(function(G,T,h){"use strict";var ba="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"===typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h};G.register("price-tracker-latency-metrics",function(){return{METRIC_LATENCY_WIDGET:"priceTrackerWidget:assetsLoadedNonCriticalATF"}});
G.execute("price-tracker-init",function(){var V=function(){var h=navigator.userAgent,n=h.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];if(/trident/i.test(n[1]))return h=/\brv[ :]+(\d+)/g.exec(h)||[],{vendor:"IE",version:parseInt(h[1])||null}}();V&&null!=V.vendor&&0===V.vendor.localeCompare("IE")&&null!=V.version&&11>=V.version||(G.register("price-tracker-d3",function(){function v(d,e){return e||(e=d.slice(0)),Object.freeze(Object.defineProperties(d,{raw:{value:Object.freeze(e)}}))}
function n(d,e,l){return(e=G(e))in d?Object.defineProperty(d,e,{value:l,enumerable:!0,configurable:!0,writable:!0}):d[e]=l,d}function l(){return l=Object.assign?Object.assign.bind():function(d){for(var e=1;e<arguments.length;e++){var l=arguments[e],h;for(h in l)({}).hasOwnProperty.call(l,h)&&(d[h]=l[h])}return d},l.apply(null,arguments)}function r(d,e){var l=Array.isArray(d)?d:void 0;if(!l)a:{var h=null==d?null:"undefined"!=typeof Symbol&&d[Symbol.iterator]||d["@@iterator"];if(null!=h){var Eb,n,u,
r=[],F=!0,v=!1;try{if(n=(h=h.call(d)).next,0===e){if(Object(h)!==h){l=void 0;break a}F=!1}else for(;!(F=(Eb=n.call(h)).done)&&(r.push(Eb.value),r.length!==e);F=!0);}catch(Qg){v=!0;var x=Qg}finally{try{if(!F&&null!=h["return"]&&(u=h["return"](),Object(u)!==u)){l=void 0;break a}}finally{if(v)throw x;}}l=r}else l=void 0}if(!(d=l||V(d,e)))throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");return d}
function C(d,e,l){e=I(e);e=u()?Reflect.construct(e,l||[],I(d).constructor):e.apply(d,l);if(!e||"object"!=W(e)&&"function"!=typeof e){if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}else d=e;return d}function N(d,e,l,h){var n=L(I(1&h?d.prototype:d),e,l);return 2&h&&"function"==typeof n?function(d){return n.apply(l,d)}:n}function L(){return L="undefined"!=
typeof Reflect&&Reflect.get?Reflect.get.bind():function(d,e,l){var h;for(h=d;!{}.hasOwnProperty.call(h,e)&&null!==(h=I(h)););if(h)return h=Object.getOwnPropertyDescriptor(h,e),h.get?h.get.call(3>arguments.length?d:l):h.value},L.apply(null,arguments)}function D(d,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(e&&e.prototype,{constructor:{value:d,writable:!0,configurable:!0}});Object.defineProperty(d,"prototype",
{writable:!1});e&&y(d,e)}function O(d){var l="function"==typeof Map?new Map:void 0;return O=function(d){function h(){return E(d,arguments,I(this).constructor)}if(null===d||!e(d))return d;if("function"!=typeof d)throw new TypeError("Super expression must either be null or a function");if(void 0!==l){if(l.has(d))return l.get(d);l.set(d,h)}return h.prototype=Object.create(d.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),y(h,d)},O(d)}function E(d,e,l){if(u())return Reflect.construct.apply(null,
arguments);var h=[null];h.push.apply(h,e);h=new (d.bind.apply(d,h));return l&&y(h,l.prototype),h}function u(){try{var d=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(Eb){}return(u=function(){return!!d})()}function e(d){try{return-1!==Function.toString.call(d).indexOf("[native code]")}catch(Eb){return"function"==typeof d}}function y(d,e){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(d,e){return d.__proto__=e,d},y(d,e)}function I(d){return I=
Object.setPrototypeOf?Object.getPrototypeOf.bind():function(d){return d.__proto__||Object.getPrototypeOf(d)},I(d)}function ia(d,e){if(!(d instanceof e))throw new TypeError("Cannot call a class as a function");}function S(d,e){for(var h=0;h<e.length;h++){var l=e[h];l.enumerable=l.enumerable||!1;l.configurable=!0;"value"in l&&(l.writable=!0);Object.defineProperty(d,G(l.key),l)}}function M(d,e,l){return e&&S(d.prototype,e),l&&S(d,l),Object.defineProperty(d,"prototype",{writable:!1}),d}function G(d){a:if("object"==
W(d)&&d){var e=d[Symbol.toPrimitive];if(void 0!==e){d=e.call(d,"string");if("object"!=W(d))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}d=String(d)}return"symbol"==W(d)?d:d+""}function Da(d){var e=Array.isArray(d)?ta(d):void 0;e||(e="undefined"!=typeof Symbol&&null!=d[Symbol.iterator]||null!=d["@@iterator"]?Array.from(d):void 0);if(!(d=e||V(d)))throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
return d}function W(d){"@babel/helpers - typeof";return W="function"==typeof Symbol&&"symbol"==ba(Symbol.iterator)?function(d){return"undefined"===typeof d?"undefined":ba(d)}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":"undefined"===typeof d?"undefined":ba(d)},W(d)}function ca(){function d(d,e,l){return Object.defineProperty(d,e,{value:l,enumerable:!0,configurable:!0,writable:!0}),d[e]}function e(d,e,l,n){e=Object.create((e&&e.prototype instanceof
h?e:h).prototype);n=new B(n||[]);return O(e,"_invoke",{value:v(d,l,n)}),e}function l(d,e,l){try{return{type:"normal",arg:d.call(e,l)}}catch(hb){return{type:"throw",arg:hb}}}function h(){}function n(){}function u(){}function r(e){["next","throw","return"].forEach(function(l){d(e,l,function(d){return this._invoke(l,d)})})}function F(d,e){function h(n,u,r,Ea){n=l(d[n],d,u);if("throw"!==n.type){var ua=n.arg;return(n=ua.value)&&"object"==W(n)&&J.call(n,"__await")?e.resolve(n.__await).then(function(d){h("next",
d,r,Ea)},function(d){h("throw",d,r,Ea)}):e.resolve(n).then(function(d){ua.value=d;r(ua)},function(d){return h("throw",d,r,Ea)})}Ea(n.arg)}var n;O(this,"_invoke",{value:function(d,l){function u(){return new e(function(e,n){h(d,l,e,n)})}return n=n?n.then(u,u):u()}})}function v(d,e,h){var n=jb;return function(u,r){if(n===kb)throw Error("Generator is already running");if(n===ia){if("throw"===u)throw r;return{value:y,done:!0}}h.method=u;for(h.arg=r;;){if(u=h.delegate)if(u=x(u,h)){if(u===M)continue;return u}if("next"===
h.method)h.sent=h._sent=h.arg;else if("throw"===h.method){if(n===jb)throw n=ia,h.arg;h.dispatchException(h.arg)}else"return"===h.method&&h.abrupt("return",h.arg);n=kb;u=l(d,e,h);if("normal"===u.type){if(n=h.done?ia:Hb,u.arg===M)continue;return{value:u.arg,done:h.done}}"throw"===u.type&&(n=ia,h.method="throw",h.arg=u.arg)}}}function x(d,e){var h=e.method,n=d.iterator[h];if(n===y)return e.delegate=null,"throw"===h&&d.iterator["return"]&&(e.method="return",e.arg=y,x(d,e),"throw"===e.method)||"return"!==
h&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+h+"' method")),M;h=l(n,d.iterator,e.arg);return"throw"===h.type?(e.method="throw",e.arg=h.arg,e.delegate=null,M):(h=h.arg)?h.done?(e[d.resultName]=h.value,e.next=d.nextLoc,"return"!==e.method&&(e.method="next",e.arg=y),e.delegate=null,M):h:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,M)}function Q(d){var e={tryLoc:d[0]};1 in d&&(e.catchLoc=d[1]);2 in d&&(e.finallyLoc=d[2],e.afterLoc=
d[3]);this.tryEntries.push(e)}function C(d){var e=d.completion||{};e.type="normal";delete e.arg;d.completion=e}function B(d){this.tryEntries=[{tryLoc:"root"}];d.forEach(Q,this);this.reset(!0)}function E(d){if(d||""===d){var e=d[la];if(e)return e.call(d);if("function"==typeof d.next)return d;if(!isNaN(d.length)){var h=-1;e=function va(){for(;++h<d.length;)if(J.call(d,h))return va.value=d[h],va.done=!1,va;return va.value=y,va.done=!0,va};return e.next=e}}throw new TypeError(W(d)+" is not iterable");
}ca=function(){return D};var y,D={},fa=Object.prototype,J=fa.hasOwnProperty,O=Object.defineProperty||function(d,e,h){d[e]=h.value},I="function"==typeof Symbol?Symbol:{},la=I.iterator||"@@iterator",L=I.asyncIterator||"@@asyncIterator",N=I.toStringTag||"@@toStringTag";try{d({},"")}catch(Ea){d=function(d,e,h){return d[e]=h}}D.wrap=e;var jb="suspendedStart",Hb="suspendedYield",kb="executing",ia="completed",M={};I={};d(I,la,function(){return this});var S=Object.getPrototypeOf;(S=S&&S(S(E([]))))&&S!==fa&&
J.call(S,la)&&(I=S);var G=u.prototype=h.prototype=Object.create(I);return n.prototype=u,O(G,"constructor",{value:u,configurable:!0}),O(u,"constructor",{value:n,configurable:!0}),n.displayName=d(u,N,"GeneratorFunction"),D.isGeneratorFunction=function(d){d="function"==typeof d&&d.constructor;return!!d&&(d===n||"GeneratorFunction"===(d.displayName||d.name))},D.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,d(e,N,"GeneratorFunction")),e.prototype=Object.create(G),
e},D.awrap=function(d){return{__await:d}},r(F.prototype),d(F.prototype,L,function(){return this}),D.AsyncIterator=F,D.async=function(d,h,l,n,u){void 0===u&&(u=Promise);var r=new F(e(d,h,l,n),u);return D.isGeneratorFunction(h)?r:r.next().then(function(d){return d.done?d.value:r.next()})},r(G),d(G,N,"Generator"),d(G,la,function(){return this}),d(G,"toString",function(){return"[object Generator]"}),D.keys=function(d){var e=Object(d),h=[],l;for(l in e)h.push(l);return h.reverse(),function ma(){for(;h.length;){var d=
h.pop();if(d in e)return ma.value=d,ma.done=!1,ma}return ma.done=!0,ma}},D.values=E,B.prototype={constructor:B,reset:function(d){if(this.prev=0,this.next=0,this.sent=this._sent=y,this.done=!1,this.delegate=null,this.method="next",this.arg=y,this.tryEntries.forEach(C),!d)for(var e in this)"t"===e.charAt(0)&&J.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=y)},stop:function(){this.done=!0;var d=this.tryEntries[0].completion;if("throw"===d.type)throw d.arg;return this.rval},dispatchException:function(d){function e(e,
l){return u.type="throw",u.arg=d,h.next=e,l&&(h.method="next",h.arg=y),!!l}if(this.done)throw d;for(var h=this,l=this.tryEntries.length-1;0<=l;--l){var n=this.tryEntries[l],u=n.completion;if("root"===n.tryLoc)return e("end");if(n.tryLoc<=this.prev){var r=J.call(n,"catchLoc"),F=J.call(n,"finallyLoc");if(r&&F){if(this.prev<n.catchLoc)return e(n.catchLoc,!0);if(this.prev<n.finallyLoc)return e(n.finallyLoc)}else if(r){if(this.prev<n.catchLoc)return e(n.catchLoc,!0)}else{if(!F)throw Error("try statement without catch or finally");
if(this.prev<n.finallyLoc)return e(n.finallyLoc)}}}},abrupt:function(d,e){for(var h=this.tryEntries.length-1;0<=h;--h){var l=this.tryEntries[h];if(l.tryLoc<=this.prev&&J.call(l,"finallyLoc")&&this.prev<l.finallyLoc){var n=l;break}}n&&("break"===d||"continue"===d)&&n.tryLoc<=e&&e<=n.finallyLoc&&(n=null);h=n?n.completion:{};return h.type=d,h.arg=e,n?(this.method="next",this.next=n.finallyLoc,M):this.complete(h)},complete:function(d,e){if("throw"===d.type)throw d.arg;return"break"===d.type||"continue"===
d.type?this.next=d.arg:"return"===d.type?(this.rval=this.arg=d.arg,this.method="return",this.next="end"):"normal"===d.type&&e&&(this.next=e),M},finish:function(d){for(var e=this.tryEntries.length-1;0<=e;--e){var h=this.tryEntries[e];if(h.finallyLoc===d)return this.complete(h.completion,h.afterLoc),C(h),M}},"catch":function(d){for(var e=this.tryEntries.length-1;0<=e;--e){var h=this.tryEntries[e];if(h.tryLoc===d){d=h.completion;if("throw"===d.type){var l=d.arg;C(h)}return l}}throw Error("illegal catch attempt");
},delegateYield:function(d,e,h){return this.delegate={iterator:E(d),resultName:e,nextLoc:h},"next"===this.method&&(this.arg=y),M}},D}function B(d,e){var h="undefined"!=typeof Symbol&&d[Symbol.iterator]||d["@@iterator"];if(!h){if(Array.isArray(d)||(h=V(d))||e&&d&&"number"==typeof d.length){h&&(d=h);var l=0;e=function(){};return{s:e,n:function(){return l>=d.length?{done:!0}:{done:!1,value:d[l++]}},e:function(d){throw d;},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}var n,u=!0,r=!1;return{s:function(){h=h.call(d)},n:function(){var d=h.next();return u=d.done,d},e:function(d){r=!0;n=d},f:function(){try{u||null==h["return"]||h["return"]()}finally{if(r)throw n;}}}}function V(d,e){if(d){if("string"==typeof d)return ta(d,e);var h={}.toString.call(d).slice(8,-1);return"Object"===h&&d.constructor&&(h=d.constructor.name),"Map"===h||"Set"===h?Array.from(d):"Arguments"===h||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h)?ta(d,e):void 0}}function ta(d,e){(null==e||e>
d.length)&&(e=d.length);for(var h=0,l=Array(e);h<e;h++)l[h]=d[h];return l}var x,F,Q,fa,la,J,jb,Hb,Ud,kb,Vd,Wd,Xd,Yd;return function(d){function e(a,b){return null==a||null==b?NaN:a<b?-1:a>b?1:a>=b?0:NaN}function u(a,b){return null==a||null==b?NaN:b<a?-1:b>a?1:b>=a?0:NaN}function y(a){function b(a,b){var g=2<arguments.length&&arguments[2]!==h?arguments[2]:0,k=3<arguments.length&&arguments[3]!==h?arguments[3]:a.length;if(g<k){if(0!==c(b,b))return k;do{var m=g+k>>>1;0>f(a[m],b)?g=m+1:k=m}while(g<k)}return g}
if(2!==a.length){var c=e;var f=function(b,c){return e(a(b),c)};var g=function(b,c){return a(b)-c}}else c=a===e||a===u?a:E,g=f=a;return{left:b,center:function(a,c){var f=2<arguments.length&&arguments[2]!==h?arguments[2]:0,k=b(a,c,f,(3<arguments.length&&arguments[3]!==h?arguments[3]:a.length)-1);return k>f&&g(a[k-1],c)>-g(a[k],c)?k-1:k},right:function(a,b){var g=2<arguments.length&&arguments[2]!==h?arguments[2]:0,k=3<arguments.length&&arguments[3]!==h?arguments[3]:a.length;if(g<k){if(0!==c(b,b))return k;
do{var m=g+k>>>1;0>=f(a[m],b)?g=m+1:k=m}while(g<k)}return g}}}function E(){return 0}function I(a){return null===a?NaN:+a}function L(a,b){var c,f,g,m,q,z,k;return ca().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(b!==h){p.next=21;break}c=B(a);p.prev=2;c.s();case 4:if((f=c.n()).done){p.next=11;break}g=f.value;if(!(null!=g&&(g=+g)>=g)){p.next=9;break}p.next=9;return g;case 9:p.next=4;break;case 11:p.next=16;break;case 13:p.prev=13,p.t0=p["catch"](2),c.e(p.t0);case 16:return p.prev=16,c.f(),
p.finish(16);case 19:p.next=40;break;case 21:m=-1,q=B(a),p.prev=23,q.s();case 25:if((z=q.n()).done){p.next=32;break}k=z.value;if(!(null!=(k=b(k,++m,a))&&(k=+k)>=k)){p.next=30;break}p.next=30;return k;case 30:p.next=25;break;case 32:p.next=37;break;case 34:p.prev=34,p.t1=p["catch"](23),q.e(p.t1);case 37:return p.prev=37,q.f(),p.finish(37);case 40:case "end":return p.stop()}},Ug,null,[[2,13,16,19],[23,34,37,40]])}function S(a){return function(b,c){var f=2<arguments.length&&arguments[2]!==h?arguments[2]:
c;if(!(0<=(c=+c)))throw new RangeError("invalid rx");if(!(0<=(f=+f)))throw new RangeError("invalid ry");var g=b.data,m=b.width,q=b.height;if(!(0<=(m=Math.floor(m))))throw new RangeError("invalid width");if(!(0<=(q=Math.floor(q!==h?q:g.length/m))))throw new RangeError("invalid height");if(!m||!q||!c&&!f)return b;var z=c&&a(c);f=f&&a(f);var k=g.slice();z&&f?(G(z,k,g,m,q),G(z,g,k,m,q),G(z,k,g,m,q),V(f,g,k,m,q),V(f,k,g,m,q),V(f,g,k,m,q)):z?(G(z,g,k,m,q),G(z,k,g,m,q),G(z,g,k,m,q)):f&&(V(f,g,k,m,q),V(f,
k,g,m,q),V(f,g,k,m,q));return b}}function G(a,b,c,f,g){var m=0;for(g*=f;m<g;)a(b,c,m,m+=f,1)}function V(a,b,c,f,g){var m=0;for(g*=f;m<f;++m)a(b,c,m,m+g,f)}function wc(a){var b=Math.floor(a);if(b===a)return ba(a);var c=a-b,f=2*a+1;return function(a,m,q,z,k){if((z-=k)>=q){for(var g=b*m[q],w=k*b,t=w+k,d=q,A=q+w;d<A;d+=k)g+=m[Math.min(z,d)];d=q;for(A=z;d<=A;d+=k)g+=m[Math.min(z,d+w)],a[d]=(g+c*(m[Math.max(q,d-t)]+m[Math.min(z,d+t)]))/f,g-=m[Math.max(q,d-w)]}}}function ba(a){var b=2*a+1;return function(c,
f,g,m,q){if((m-=q)>=g){for(var z=a*f[g],k=q*a,p=g,w=g+k;p<w;p+=q)z+=f[Math.min(m,p)];p=g;for(w=m;p<=w;p+=q)z+=f[Math.min(m,p+k)],c[p]=z/b,z-=f[Math.max(g,p-k)]}}}function ta(a,b){var c=0;if(b===h){a=B(a);var f;try{for(a.s();!(f=a.n()).done;){var g=f.value;null!=g&&(g=+g)>=g&&++c}}catch(z){a.e(z)}finally{a.f()}}else{f=-1;g=B(a);var m;try{for(g.s();!(m=g.n()).done;){var q=m.value;null!=(q=b(q,++f,a))&&(q=+q)>=q&&++c}}catch(z){g.e(z)}finally{g.f()}}return c}function xc(a){return a.length|0}function Rg(a){return!(0<
a)}function Sg(a){return"object"!==W(a)||"length"in a?a:Array.from(a)}function Tg(a){return function(b){return a.apply(void 0,Da(b))}}function Ld(a,b){var c=0,f=0,g=0;if(b===h){a=B(a);var m;try{for(a.s();!(m=a.n()).done;){var q=m.value;if(null!=q&&(q=+q)>=q){var z=q-f;f+=z/++c;g+=z*(q-f)}}}catch(w){a.e(w)}finally{a.f()}}else{m=-1;q=B(a);var k;try{for(q.s();!(k=q.n()).done;){var p=k.value;null!=(p=b(p,++m,a))&&(p=+p)>=p&&(z=p-f,f+=z/++c,g+=z*(p-f))}}catch(w){q.e(w)}finally{q.f()}}if(1<c)return g/(c-
1)}function Kd(a,b){return(a=Ld(a,b))?Math.sqrt(a):a}function Gb(a,b){var c,f;if(b===h){a=B(a);var g;try{for(a.s();!(g=a.n()).done;){var m=g.value;null!=m&&(c===h?m>=m&&(c=f=m):(c>m&&(c=m),f<m&&(f=m)))}}catch(k){a.e(k)}finally{a.f()}}else{g=-1;m=B(a);var q;try{for(m.s();!(q=m.n()).done;){var z=q.value;null!=(z=b(z,++g,a))&&(c===h?z>=z&&(c=f=z):(c>z&&(c=z),f<z&&(f=z)))}}catch(k){m.e(k)}finally{m.f()}}return[c,f]}function zc(a,b){var c=a._intern;a=a._key;a=a(b);return c.has(a)?c.get(a):b}function Qd(a,
b){var c=a._intern;a=a._key;a=a(b);if(c.has(a))return c.get(a);c.set(a,b);return b}function Rd(a,b){var c=a._intern;a=a._key;a=a(b);c.has(a)&&(b=c.get(a),c["delete"](a));return b}function Md(a){return null!==a&&"object"===W(a)?a.valueOf():a}function Xa(a){return a}function Nd(a){for(var b=arguments.length,c=Array(1<b?b-1:0),f=1;f<b;f++)c[f-1]=arguments[f];return ua(a,Xa,Xa,c)}function Od(a){for(var b=arguments.length,c=Array(1<b?b-1:0),f=1;f<b;f++)c[f-1]=arguments[f];return ua(a,Array.from,Xa,c)}
function Pd(a,b){var c=1;for(b=b.length;c<b;++c)a=a.flatMap(function(a){return a.pop().map(function(b){var c=r(b,2);b=c[0];c=c[1];return[].concat(Da(a),[b,c])})});return a}function Sd(a,b){for(var c=arguments.length,f=Array(2<c?c-2:0),g=2;g<c;g++)f[g-2]=arguments[g];return ua(a,Xa,b,f)}function Td(a,b){for(var c=arguments.length,f=Array(2<c?c-2:0),g=2;g<c;g++)f[g-2]=arguments[g];return ua(a,Array.from,b,f)}function Ea(a){if(1!==a.length)throw Error("duplicate key");return a[0]}function ua(a,b,c,f){return function z(a,
q){if(q>=f.length)return c(a);var k=new lb,m=f[q++],w=-1,t=B(a),d;try{for(t.s();!(d=t.n()).done;){var A=d.value,e=m(A,++w,a),h=k.get(e);h?h.push(A):k.set(e,[A])}}catch(pa){t.e(pa)}finally{t.f()}a=B(k);var l;try{for(a.s();!(l=a.n()).done;){var n=r(l.value,2);k.set(n[0],z(n[1],q))}}catch(pa){a.e(pa)}finally{a.f()}return b(k)}(a,0)}function Jd(a,b){return Array.from(b,function(b){return a[b]})}function hb(a){for(var b=arguments.length,c=Array(1<b?b-1:0),f=1;f<b;f++)c[f-1]=arguments[f];if("function"!==
typeof a[Symbol.iterator])throw new TypeError("values is not iterable");a=Array.from(a);var g=r(c,1)[0];return g&&2!==g.length||1<c.length?(b=Uint32Array.from(a,function(a,b){return b}),1<c.length?(c=c.map(function(b){return a.map(b)}),b.sort(function(a,b){var f=B(c),k;try{for(f.s();!(k=f.n()).done;){var g=k.value,m=ma(g[a],g[b]);if(m)return m}}catch(t){f.e(t)}finally{f.f()}})):(g=a.map(g),b.sort(function(a,b){return ma(g[a],g[b])})),Jd(a,b)):a.sort(va(g))}function va(){var a=0<arguments.length&&
arguments[0]!==h?arguments[0]:e;if(a===e)return ma;if("function"!==typeof a)throw new TypeError("compare is not a function");return function(b,c){var f=a(b,c);return f||0===f?f:(0===a(c,c))-(0===a(b,b))}}function ma(a,b){return(null==a||!(a>=a))-(null==b||!(b>=b))||(a<b?-1:a>b?1:0)}function yc(a){return function(){return a}}function Fb(a,b,c){var f=(b-a)/Math.max(0,c),g=Math.floor(Math.log10(f));f/=Math.pow(10,g);f=f>=Vg?10:f>=Wg?5:f>=Xg?2:1;if(0>g){var m=Math.pow(10,-g)/f;g=Math.round(a*m);f=Math.round(b*
m);g/m<a&&++g;f/m>b&&--f;m=-m}else m=Math.pow(10,g)*f,g=Math.round(a/m),f=Math.round(b/m),g*m<a&&++g,f*m>b&&--f;return f<g&&.5<=c&&2>c?Fb(a,b,2*c):[g,f,m]}function ib(a,b,c){b=+b;a=+a;c=+c;if(!(0<c))return[];if(a===b)return[a];var f=b<a;a=f?Fb(b,a,c):Fb(a,b,c);a=r(a,3);var g=a[0],m=a[1];a=a[2];if(!(m>=g))return[];b=m-g+1;c=Array(b);if(f)if(0>a)for(f=0;f<b;++f)c[f]=(m-f)/-a;else for(f=0;f<b;++f)c[f]=(m-f)*a;else if(0>a)for(f=0;f<b;++f)c[f]=(g+f)/-a;else for(f=0;f<b;++f)c[f]=(g+f)*a;return c}function Ka(a,
b,c){return Fb(+a,+b,+c)[2]}function Ib(a,b,c){b=+b;a=+a;c=+c;var f=b<a;a=f?Ka(b,a,c):Ka(a,b,c);return(f?-1:1)*(0>a?1/-a:a)}function Zd(a,b,c){for(var f;;){var g=Ka(a,b,c);if(g===f||0===g||!isFinite(g))return[a,b];0<g?(a=Math.floor(a/g)*g,b=Math.ceil(b/g)*g):0>g&&(a=Math.ceil(a*g)/g,b=Math.floor(b*g)/g);f=g}}function $d(a){return Math.max(1,Math.ceil(Math.log(ta(a))/Math.LN2)+1)}function ae(){function a(a){Array.isArray(a)||(a=Array.from(a));var g,q=a.length,d,k,p=Array(q);for(g=0;g<q;++g)p[g]=b(a[g],
g,a);var w=c(p),t=w[0];w=w[1];var H=f(p,t,w);if(!Array.isArray(H)){var A=w;g=+H;c===Gb&&(t=Zd(t,w,g),w=r(t,2),t=w[0],w=w[1]);H=ib(t,w,g);H[0]<=t&&(k=Ka(t,w,g));H[H.length-1]>=w&&(A>=w&&c===Gb?(A=Ka(t,w,g),isFinite(A)&&(0<A?w=(Math.floor(w/A)+1)*A:0>A&&(w=(Math.ceil(w*-A)+1)/-A))):H.pop())}A=H.length;g=0;for(var e=A;H[g]<=t;)++g;for(;H[e-1]>w;)--e;if(g||e<A)H=H.slice(g,e),A=e-g;e=Array(A+1);for(g=0;g<=A;++g){var h=e[g]=[];h.x0=0<g?H[g-1]:t;h.x1=g<A?H[g]:w}if(isFinite(k))if(0<k)for(g=0;g<q;++g)null!=
(d=p[g])&&t<=d&&d<=w&&e[Math.min(A,Math.floor((d-t)/k))].push(a[g]);else{if(0>k)for(g=0;g<q;++g)null!=(d=p[g])&&t<=d&&d<=w&&(h=Math.floor((t-d)*k),e[Math.min(A,h+(H[h]<=d))].push(a[g]))}else for(g=0;g<q;++g)null!=(d=p[g])&&t<=d&&d<=w&&e[La(H,d,0,A)].push(a[g]);return e}var b=Xa,c=Gb,f=$d;a.value=function(c){return arguments.length?(b="function"===typeof c?c:yc(c),a):b};a.domain=function(b){return arguments.length?(c="function"===typeof b?b:yc([b[0],b[1]]),a):c};a.thresholds=function(b){return arguments.length?
(f="function"===typeof b?b:yc(Array.isArray(b)?Yg.call(b):b),a):f};return a}function Ac(a,b){var c;if(b===h){a=B(a);var f;try{for(a.s();!(f=a.n()).done;){var g=f.value;null!=g&&(c<g||c===h&&g>=g)&&(c=g)}}catch(z){a.e(z)}finally{a.f()}}else{f=-1;g=B(a);var m;try{for(g.s();!(m=g.n()).done;){var q=m.value;null!=(q=b(q,++f,a))&&(c<q||c===h&&q>=q)&&(c=q)}}catch(z){g.e(z)}finally{g.f()}}return c}function Bc(a,b){var c=-1,f=-1;if(b===h){a=B(a);var g;try{for(a.s();!(g=a.n()).done;){var m=g.value;++f;if(null!=
m&&(q<m||q===h&&m>=m)){var q=m;c=f}}}catch(p){a.e(p)}finally{a.f()}}else{g=B(a);var d;try{for(g.s();!(d=g.n()).done;){var k=d.value;null!=(k=b(k,++f,a))&&(q<k||q===h&&k>=k)&&(q=k,c=f)}}catch(p){g.e(p)}finally{g.f()}}return c}function Jb(a,b){var c;if(b===h){a=B(a);var f;try{for(a.s();!(f=a.n()).done;){var g=f.value;null!=g&&(c>g||c===h&&g>=g)&&(c=g)}}catch(z){a.e(z)}finally{a.f()}}else{f=-1;g=B(a);var m;try{for(g.s();!(m=g.n()).done;){var q=m.value;null!=(q=b(q,++f,a))&&(c>q||c===h&&q>=q)&&(c=q)}}catch(z){g.e(z)}finally{g.f()}}return c}
function Cc(a,b){var c=-1,f=-1;if(b===h){a=B(a);var g;try{for(a.s();!(g=a.n()).done;){var m=g.value;++f;if(null!=m&&(q>m||q===h&&m>=m)){var q=m;c=f}}}catch(p){a.e(p)}finally{a.f()}}else{g=B(a);var d;try{for(g.s();!(d=g.n()).done;){var k=d.value;null!=(k=b(k,++f,a))&&(q>k||q===h&&k>=k)&&(q=k,c=f)}}catch(p){g.e(p)}finally{g.f()}}return c}function Kb(a,b){var c=2<arguments.length&&arguments[2]!==h?arguments[2]:0,f=3<arguments.length&&arguments[3]!==h?arguments[3]:Infinity,g=4<arguments.length?arguments[4]:
h;b=Math.floor(b);c=Math.floor(Math.max(0,c));f=Math.floor(Math.min(a.length-1,f));if(!(c<=b&&b<=f))return a;for(g=g===h?ma:va(g);f>c;){if(600<f-c){var m=f-c+1,q=b-c+1,d=Math.log(m),k=.5*Math.exp(2*d/3);d=.5*Math.sqrt(d*k*(m-k)/m)*(0>q-m/2?-1:1);Kb(a,b,Math.max(c,Math.floor(b-q*k/m+d)),Math.min(f,Math.floor(b+(m-q)*k/m+d)),g)}m=a[b];q=c;k=f;mb(a,c,b);for(0<g(a[f],m)&&mb(a,c,f);q<k;){mb(a,q,k);++q;for(--k;0>g(a[q],m);)++q;for(;0<g(a[k],m);)--k}0===g(a[c],m)?mb(a,c,k):(++k,mb(a,k,f));k<=b&&(c=k+1);
b<=k&&(f=k-1)}return a}function mb(a,b,c){var f=a[b];a[b]=a[c];a[c]=f}function be(a){var b=1<arguments.length&&arguments[1]!==h?arguments[1]:e,c=!1;if(1===b.length){var f=B(a),g;try{for(f.s();!(g=f.n()).done;){var m=g.value,q=b(m);if(c?0<e(q,k):0===e(q,q)){var d=m;var k=q;c=!0}}}catch(w){f.e(w)}finally{f.f()}}else{k=B(a);try{for(k.s();!(f=k.n()).done;){var p=f.value;if(c?0<b(p,d):0===b(p,p))d=p,c=!0}}catch(w){k.e(w)}finally{k.f()}}return d}function nb(a,b,c){a=Float64Array.from(L(a,c));if((c=a.length)&&
!isNaN(b=+b)){if(0>=b||2>c)return Jb(a);if(1<=b)return Ac(a);b*=c-1;c=Math.floor(b);var f=Ac(Kb(a,c).subarray(0,c+1));a=Jb(a.subarray(c+1));return f+(a-f)*(b-c)}}function ce(a,b){var c=2<arguments.length&&arguments[2]!==h?arguments[2]:I;if((f=a.length)&&!isNaN(b=+b)){if(0>=b||2>f)return+c(a[0],0,a);if(1<=b)return+c(a[f-1],f-1,a);var f;f=(f-1)*b;var g=Math.floor(f),m=+c(a[g],g,a);c=+c(a[g+1],g+1,a);return m+(c-m)*(f-g)}}function de(a,b){var c=2<arguments.length&&arguments[2]!==h?arguments[2]:I;if(!isNaN(b=
+b)){var f=Float64Array.from(a,function(b,f){return I(c(a[f],f,a))});if(0>=b)return Cc(f);if(1<=b)return Bc(f);var g=Uint32Array.from(a,function(a,b){return b}),m=f.length-1,q=Math.floor(m*b);Kb(g,q,0,m,function(a,b){return ma(f[a],f[b])});q=be(g.subarray(0,q+1),function(a){return f[a]});return 0<=q?q:-1}}function ee(a){var b,c,f;return ca().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:b=B(a),g.prev=1,b.s();case 3:if((c=b.n()).done){g.next=8;break}f=c.value;return g.delegateYield(f,"t0",6);
case 6:g.next=3;break;case 8:g.next=13;break;case 10:g.prev=10,g.t1=g["catch"](1),b.e(g.t1);case 13:return g.prev=13,b.f(),g.finish(13);case 16:case "end":return g.stop()}},Zg,null,[[1,10,13,16]])}function $g(a,b){return[a,b]}function fe(a,b,c){a=+a;b=+b;c=2>(g=arguments.length)?(b=a,a=0,1):3>g?1:+c;for(var f=-1,g=Math.max(0,Math.ceil((b-a)/c))|0,m=Array(g);++f<g;)m[f]=a+f*c;return m}function ge(a){var b=1<arguments.length&&arguments[1]!==h?arguments[1]:e;if(1===b.length)return Cc(a,b);var c=-1,f=
-1,g=B(a),m;try{for(g.s();!(m=g.n()).done;){var q=m.value;++f;if(0>c?0===b(q,q):0>b(q,d)){var d=q;c=f}}}catch(k){g.e(k)}finally{g.f()}return c}function he(a){return function(b){for(var c=1<arguments.length&&arguments[1]!==h?arguments[1]:0,f=(2<arguments.length&&arguments[2]!==h?arguments[2]:b.length)-(c=+c);f;){var g=a()*f--|0,m=b[f+c];b[f+c]=b[g+c];b[g+c]=m}return b}}function ie(a){if(!(m=a.length))return[];for(var b=-1,c=Jb(a,ah),f=Array(c);++b<c;)for(var g=-1,m,q=f[b]=Array(m);++g<m;)q[g]=a[g][b];
return f}function ah(a){return a.length}function bh(a){return a instanceof Ma?a:new Ma(a)}function je(a,b){a=a[Symbol.iterator]();var c=new Set;b=B(b);var f;try{for(b.s();!(f=b.n()).done;){var g=ke(f.value);if(!c.has(g))for(var m=void 0,q=void 0;d=a.next(),m=d.value,q=d.done,d;){var d;if(q)return!1;var k=ke(m);c.add(k);if(Object.is(g,k))break}}}catch(p){b.e(p)}finally{b.f()}return!0}function ke(a){return null!==a&&"object"===W(a)?a.valueOf():a}function ch(a){return a}function dh(a){return"translate("+
a+",0)"}function eh(a){return"translate(0,"+a+")"}function fh(a){return function(b){return+a(b)}}function gh(a,b){b=Math.max(0,a.bandwidth()-2*b)/2;a.round()&&(b=Math.round(b));return function(c){return+a(c)+b}}function hh(){return!this.__axis}function Lb(a,b){function c(c){var z=null==g?b.ticks?b.ticks.apply(b,f):b.domain():g,e=null==m?b.tickFormat?b.tickFormat.apply(b,f):ch:m,A=Math.max(q,0)+k,h=b.range(),l=+h[0]+p;h=+h[h.length-1]+p;var n=(b.bandwidth?gh:fh)(b.copy(),p),u=c.selection?c.selection():
c,r=u.selectAll(".domain").data([null]);z=u.selectAll(".tick").data(z,b).order();var F=z.exit(),y=z.enter().append("g").attr("class","tick"),v=z.select("line"),Na=z.select("text");r=r.merge(r.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor"));z=z.merge(y);v=v.merge(y.append("line").attr("stroke","currentColor").attr(t+"2",w*q));Na=Na.merge(y.append("text").attr("fill","currentColor").attr(t,w*A).attr("dy",1===a?"0em":3===a?"0.71em":"0.32em"));c!==u&&(r=r.transition(c),
z=z.transition(c),v=v.transition(c),Na=Na.transition(c),F=F.transition(c).attr("opacity",1E-6).attr("transform",function(a){return isFinite(a=n(a))?H(a+p):this.getAttribute("transform")}),y.attr("opacity",1E-6).attr("transform",function(a){var b=this.parentNode.__axis;return H((b&&isFinite(b=b(a))?b:n(a))+p)}));F.remove();r.attr("d",4===a||2===a?d?"M"+w*d+","+l+"H"+p+"V"+h+"H"+w*d:"M"+p+","+l+"V"+h:d?"M"+l+","+w*d+"V"+p+"H"+h+"V"+w*d:"M"+l+","+p+"H"+h);z.attr("opacity",1).attr("transform",function(a){return H(n(a)+
p)});v.attr(t+"2",w*q);Na.attr(t,w*A).text(e);u.filter(hh).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===a?"start":4===a?"end":"middle");u.each(function(){this.__axis=n})}var f=[],g=null,m=null,q=6,d=6,k=3,p="undefined"!==typeof T&&1<T.devicePixelRatio?0:.5,w=1===a||4===a?-1:1,t=4===a||2===a?"x":"y",H=1===a||3===a?dh:eh;c.scale=function(a){return arguments.length?(b=a,c):b};c.ticks=function(){return f=Array.from(arguments),c};c.tickArguments=function(a){return arguments.length?
(f=null==a?[]:Array.from(a),c):f.slice()};c.tickValues=function(a){return arguments.length?(g=null==a?null:Array.from(a),c):g&&g.slice()};c.tickFormat=function(a){return arguments.length?(m=a,c):m};c.tickSize=function(a){return arguments.length?(q=d=+a,c):q};c.tickSizeInner=function(a){return arguments.length?(q=+a,c):q};c.tickSizeOuter=function(a){return arguments.length?(d=+a,c):d};c.tickPadding=function(a){return arguments.length?(k=+a,c):k};c.offset=function(a){return arguments.length?(p=+a,c):
p};return c}function na(a,b){switch(arguments.length){case 0:break;case 1:this.range(a);break;default:this.range(b).domain(a)}return this}function ya(a,b){switch(arguments.length){case 0:break;case 1:"function"===typeof a?this.interpolator(a):this.range(a);break;default:this.domain(a),"function"===typeof b?this.interpolator(b):this.range(b)}return this}function Dc(){function a(a){var m=b.get(a);if(m===h){if(g!==Ec)return g;b.set(a,m=c.push(a)-1)}return f[m%f.length]}var b=new lb,c=[],f=[],g=Ec;a.domain=
function(f){if(!arguments.length)return c.slice();c=[];b=new lb;var g=B(f),m;try{for(g.s();!(m=g.n()).done;){var k=m.value;b.has(k)||b.set(k,c.push(k)-1)}}catch(p){g.e(p)}finally{g.f()}return a};a.range=function(b){return arguments.length?(f=Array.from(b),a):f.slice()};a.unknown=function(b){return arguments.length?(g=b,a):g};a.copy=function(){return Dc(c,f).unknown(g)};na.apply(a,arguments);return a}function Fc(){function a(){var a=c().length,b=m<g,z=b?m:g,e=b?g:m;q=(e-z)/Math.max(1,a-p+2*w);k&&(q=
Math.floor(q));z+=(e-z-q*(a-p))*t;d=q*(1-p);k&&(z=Math.round(z),d=Math.round(d));a=fe(a).map(function(a){return z+q*a});return f(b?a.reverse():a)}var b=Dc().unknown(h),c=b.domain,f=b.range,g=0,m=1,q,d,k=!1,p=0,w=0,t=.5;delete b.unknown;b.domain=function(b){return arguments.length?(c(b),a()):c()};b.range=function(b){var c;return arguments.length?(c=r(b,2),g=c[0],m=c[1],g=+g,m=+m,a()):[g,m]};b.rangeRound=function(b){var c;return c=r(b,2),g=c[0],m=c[1],g=+g,m=+m,k=!0,a()};b.bandwidth=function(){return d};
b.step=function(){return q};b.round=function(b){return arguments.length?(k=!!b,a()):k};b.padding=function(b){return arguments.length?(p=Math.min(1,w=+b),a()):p};b.paddingInner=function(b){return arguments.length?(p=Math.min(1,b),a()):p};b.paddingOuter=function(b){return arguments.length?(w=+b,a()):w};b.align=function(b){return arguments.length?(t=Math.max(0,Math.min(1,b)),a()):t};b.copy=function(){return Fc(c(),[g,m]).round(k).paddingInner(p).paddingOuter(w).align(t)};return na.apply(a(),arguments)}
function le(a){var b=a.copy;a.padding=a.paddingOuter;delete a.paddingInner;delete a.paddingOuter;a.copy=function(){return le(b())};return a}function Gc(a,b,c){a.prototype=b.prototype=c;c.constructor=a}function me(a,b){a=Object.create(a.prototype);for(var c in b)a[c]=b[c];return a}function pb(){}function ne(){return this.rgb().formatHex()}function oe(){return this.rgb().formatRgb()}function Oa(a){var b,c;a=(a+"").trim().toLowerCase();return(b=jh.exec(a))?(c=b[1].length,b=parseInt(b[1],16),6===c?pe(b):
3===c?new ja(b>>8&15|b>>4&240,b>>4&15|b&240,(b&15)<<4|b&15,1):8===c?Mb(b>>24&255,b>>16&255,b>>8&255,(b&255)/255):4===c?Mb(b>>12&15|b>>8&240,b>>8&15|b>>4&240,b>>4&15|b&240,((b&15)<<4|b&15)/255):null):(b=kh.exec(a))?new ja(b[1],b[2],b[3],1):(b=lh.exec(a))?new ja(255*b[1]/100,255*b[2]/100,255*b[3]/100,1):(b=mh.exec(a))?Mb(b[1],b[2],b[3],b[4]):(b=nh.exec(a))?Mb(255*b[1]/100,255*b[2]/100,255*b[3]/100,b[4]):(b=oh.exec(a))?qe(b[1],b[2]/100,b[3]/100,1):(b=ph.exec(a))?qe(b[1],b[2]/100,b[3]/100,b[4]):re.hasOwnProperty(a)?
pe(re[a]):"transparent"===a?new ja(NaN,NaN,NaN,0):null}function pe(a){return new ja(a>>16&255,a>>8&255,a&255,1)}function Mb(a,b,c,f){0>=f&&(a=b=c=NaN);return new ja(a,b,c,f)}function Hc(a,b,c,f){if(1===arguments.length){var g=a;g instanceof pb||(g=Oa(g));g?(g=g.rgb(),g=new ja(g.r,g.g,g.b,g.opacity)):g=new ja}else g=new ja(a,b,c,null==f?1:f);return g}function ja(a,b,c,f){this.r=+a;this.g=+b;this.b=+c;this.opacity=+f}function se(){return"#".concat(Pa(this.r)).concat(Pa(this.g)).concat(Pa(this.b))}function te(){var a=
Nb(this.opacity);return"".concat(1===a?"rgb(":"rgba(").concat(Qa(this.r),", ").concat(Qa(this.g),", ").concat(Qa(this.b)).concat(1===a?")":", ".concat(a,")"))}function Nb(a){return isNaN(a)?1:Math.max(0,Math.min(1,a))}function Qa(a){return Math.max(0,Math.min(255,Math.round(a)||0))}function Pa(a){a=Qa(a);return(16>a?"0":"")+a.toString(16)}function qe(a,b,c,f){0>=f?a=b=c=NaN:0>=c||1<=c?a=b=NaN:0>=b&&(a=NaN);return new qa(a,b,c,f)}function ue(a){if(a instanceof qa)return new qa(a.h,a.s,a.l,a.opacity);
a instanceof pb||(a=Oa(a));if(!a)return new qa;if(a instanceof qa)return a;a=a.rgb();var b=a.r/255,c=a.g/255,f=a.b/255,g=Math.min(b,c,f),m=Math.max(b,c,f),q=NaN,d=m-g,k=(m+g)/2;d?(q=b===m?(c-f)/d+6*(c<f):c===m?(f-b)/d+2:(b-c)/d+4,d/=.5>k?m+g:2-m-g,q*=60):d=0<k&&1>k?0:q;return new qa(q,d,k,a.opacity)}function qa(a,b,c,f){this.h=+a;this.s=+b;this.l=+c;this.opacity=+f}function ve(a){a=(a||0)%360;return 0>a?a+360:a}function Ob(a){return Math.max(0,Math.min(1,a||0))}function Ic(a,b,c){return 255*(60>a?
b+(c-b)*a/60:180>a?c:240>a?b+(c-b)*(240-a)/60:b)}function qh(a,b){return function(c){return a+c*b}}function rh(a,b,c){return a=Math.pow(a,c),b=Math.pow(b,c)-a,c=1/c,function(f){return Math.pow(a+f*b,c)}}function sh(a){return 1===(a=+a)?we:function(b,c){return c-b?rh(b,c,a):Jc(isNaN(b)?c:b)}}function we(a,b){var c=b-a;return c?qh(a,c):Jc(isNaN(a)?b:a)}function th(a,b){b||(b=[]);var c=a?Math.min(b.length,a.length):0,f=b.slice(),g;return function(m){for(g=0;g<c;++g)f[g]=a[g]*(1-m)+b[g]*m;return f}}function uh(a,
b){var c=b?b.length:0,f=a?Math.min(c,a.length):0,g=Array(f),m=Array(c),q;for(q=0;q<f;++q)g[q]=Ya(a[q],b[q]);for(;q<c;++q)m[q]=b[q];return function(a){for(q=0;q<f;++q)m[q]=g[q](a);return m}}function vh(a,b){var c=new Date;return a=+a,b=+b,function(f){return c.setTime(a*(1-f)+b*f),c}}function ra(a,b){return a=+a,b=+b,function(c){return a*(1-c)+b*c}}function wh(a,b){var c={},f={},g;if(null===a||"object"!==W(a))a={};if(null===b||"object"!==W(b))b={};for(g in b)g in a?c[g]=Ya(a[g],b[g]):f[g]=b[g];return function(a){for(g in c)f[g]=
c[g](a);return f}}function xh(a){return function(){return a}}function yh(a){return function(b){return a(b)+""}}function xe(a,b){var c=Kc.lastIndex=Lc.lastIndex=0,f,g,m,q=-1,d=[],k=[];a+="";for(b+="";(f=Kc.exec(a))&&(g=Lc.exec(b));)(m=g.index)>c&&(m=b.slice(c,m),d[q]?d[q]+=m:d[++q]=m),(f=f[0])===(g=g[0])?d[q]?d[q]+=g:d[++q]=g:(d[++q]=null,k.push({i:q,x:ra(f,g)})),c=Lc.lastIndex;c<b.length&&(m=b.slice(c),d[q]?d[q]+=m:d[++q]=m);return 2>d.length?k[0]?yh(k[0].x):xh(b):(b=k.length,function(a){for(var c=
0,f;c<b;++c)d[(f=k[c]).i]=f.x(a);return d.join("")})}function Ya(a,b){var c=W(b);if(null==b||"boolean"===c)a=Jc(b);else{if("number"===c)var f=ra;else"string"===c?c=(f=Oa(b))?(b=f,Pb):xe:(b instanceof Oa?f=Pb:b instanceof Date?f=vh:(f=b,f=!ArrayBuffer.isView(f)||f instanceof DataView?Array.isArray(b)?uh:"function"!==typeof b.valueOf&&"function"!==typeof b.toString||isNaN(b)?wh:ra:th),c=f),f=c;a=f(a,b)}return a}function Mc(a,b){return a=+a,b=+b,function(c){return Math.round(a*(1-c)+b*c)}}function ye(a,
b,c,f,g,m){var q,d,k;if(q=Math.sqrt(a*a+b*b))a/=q,b/=q;if(k=a*c+b*f)c-=a*k,f-=b*k;if(d=Math.sqrt(c*c+f*f))c/=d,f/=d,k/=d;a*f<b*c&&(a=-a,b=-b,k=-k,q=-q);return{translateX:g,translateY:m,rotate:Math.atan2(b,a)*ze,skewX:Math.atan(k)*ze,scaleX:q,scaleY:d}}function Ae(a,b,c,f){function g(a){return a.length?a.pop()+" ":""}function m(a,f,k,g,m,q){a!==k||f!==g?(m=m.push("translate(",null,b,null,c),q.push({i:m-4,x:ra(a,k)},{i:m-2,x:ra(f,g)})):(k||g)&&m.push("translate("+k+b+g+c)}function q(a,b,c,k){a!==b?
(180<a-b?b+=360:180<b-a&&(a+=360),k.push({i:c.push(g(c)+"rotate(",null,f)-2,x:ra(a,b)})):b&&c.push(g(c)+"rotate("+b+f)}function d(a,b,c,k){a!==b?k.push({i:c.push(g(c)+"skewX(",null,f)-2,x:ra(a,b)}):b&&c.push(g(c)+"skewX("+b+f)}function k(a,b,c,f,k,m){a!==c||b!==f?(k=k.push(g(k)+"scale(",null,",",null,")"),m.push({i:k-4,x:ra(a,c)},{i:k-2,x:ra(b,f)})):1===c&&1===f||k.push(g(k)+"scale("+c+","+f+")")}return function(b,c){var f=[],g=[];b=a(b);c=a(c);m(b.translateX,b.translateY,c.translateX,c.translateY,
f,g);q(b.rotate,c.rotate,f,g);d(b.skewX,c.skewX,f,g);k(b.scaleX,b.scaleY,c.scaleX,c.scaleY,f,g);b=c=null;return function(a){for(var b=-1,c=g.length,k;++b<c;)f[(k=g[b]).i]=k.x(a);return f.join("")}}}function zh(a,b){b===h&&(b=a,a=Ya);for(var c=0,f=b.length-1,g=b[0],m=Array(0>f?0:f);c<f;)m[c]=a(g,g=b[++c]);return function(a){var b=Math.max(0,Math.min(f-1,Math.floor(a*=f)));return m[b](a-b)}}function Ah(a){return function(){return a}}function Qb(a){return+a}function Y(a){return a}function Nc(a,b){return(b-=
a=+a)?function(c){return(c-a)/b}:Ah(isNaN(b)?NaN:.5)}function Bh(a,b){if(a>b){var c=a;a=b;b=c}return function(c){return Math.max(a,Math.min(b,c))}}function Ch(a,b,c){var f=a[0];a=a[1];var g=b[0];b=b[1];a<f?(f=Nc(a,f),g=c(b,g)):(f=Nc(f,a),g=c(g,b));return function(a){return g(f(a))}}function Dh(a,b,c){var f=Math.min(a.length,b.length)-1,g=Array(f),m=Array(f),q=-1;a[f]<a[0]&&(a=a.slice().reverse(),b=b.slice().reverse());for(;++q<f;)g[q]=Nc(a[q],a[q+1]),m[q]=c(b[q],b[q+1]);return function(b){var c=La(a,
b,1,f)-1;return m[c](g[c](b))}}function qb(a,b){return b.domain(a.domain()).range(a.range()).interpolate(a.interpolate()).clamp(a.clamp()).unknown(a.unknown())}function Za(){function a(){var a=Math.min(c.length,f.length);k!==Y&&(k=Bh(c[0],c[a-1]));p=2<a?Dh:Ch;w=t=null;return b}function b(a){return null==a||isNaN(a=+a)?d:(w||(w=p(c.map(m),f,g)))(m(k(a)))}var c=Be,f=Be,g=Ya,m,q,d,k=Y,p,w,t;b.invert=function(a){return k(q((t||(t=p(f,c.map(m),ra)))(a)))};b.domain=function(b){return arguments.length?(c=
Array.from(b,Qb),a()):c.slice()};b.range=function(b){return arguments.length?(f=Array.from(b),a()):f.slice()};b.rangeRound=function(b){return f=Array.from(b),g=Mc,a()};b.clamp=function(b){return arguments.length?(k=b?!0:Y,a()):k!==Y};b.interpolate=function(b){return arguments.length?(g=b,a()):g};b.unknown=function(a){return arguments.length?(d=a,b):d};return function(b,c){m=b;q=c;return a()}}function Rb(a,b){if(0>(b=(a=b?a.toExponential(b-1):a.toExponential()).indexOf("e")))return null;var c=a.slice(0,
b);return[1<c.length?c[0]+c.slice(2):c,+a.slice(b+1)]}function $a(a){return a=Rb(Math.abs(a)),a?a[1]:NaN}function Eh(a,b){return function(c,f){for(var g=c.length,m=[],q=0,d=a[0],k=0;0<g&&0<d;){k+d+1>f&&(d=Math.max(1,f-k));m.push(c.substring(g-=d,g+d));if((k+=d+1)>f)break;d=a[q=(q+1)%a.length]}return m.reverse().join(b)}}function Fh(a){return function(b){return b.replace(/[0-9]/g,function(b){return a[+b]})}}function rb(a){if(!(b=Gh.exec(a)))throw Error("invalid format: "+a);var b;return new Oc({fill:b[1],
align:b[2],sign:b[3],symbol:b[4],zero:b[5],width:b[6],comma:b[7],precision:b[8]&&b[8].slice(1),trim:b[9],type:b[10]})}function Oc(a){this.fill=a.fill===h?" ":a.fill+"";this.align=a.align===h?"\x3e":a.align+"";this.sign=a.sign===h?"-":a.sign+"";this.symbol=a.symbol===h?"":a.symbol+"";this.zero=!!a.zero;this.width=a.width===h?h:+a.width;this.comma=!!a.comma;this.precision=a.precision===h?h:+a.precision;this.trim=!!a.trim;this.type=a.type===h?"":a.type+""}function Ce(a,b){b=Rb(a,b);if(!b)return a+"";
a=b[0];b=b[1];return 0>b?"0."+Array(-b).join("0")+a:a.length>b+1?a.slice(0,b+1)+"."+a.slice(b+1):a+Array(b-a.length+2).join("0")}function De(a){return a}function Hh(a){function b(a){function b(a){var b=x,f=D,g,d;if("c"===v)f=E(a)+f,a="";else{a=+a;var t=0>a||0>1/a;a=isNaN(a)?p:E(Math.abs(a),F);if(y){var H=a.length,A=1,h=-1;a:for(;A<H;++A)switch(a[A]){case ".":h=g=A;break;case "0":0===h&&(h=A);g=A;break;default:if(!+a[A])break a;0<h&&(h=0)}a=0<h?a.slice(0,h)+a.slice(g+1):a}t&&0===+a&&"+"!==e&&(t=!1);
b=(t?"("===e?e:k:"-"===e||"("===e?"":e)+b;f=("s"===v?Ee[8+Fe/3]:"")+f+(t&&"("===e?")":"");if(Na)for(t=-1,g=a.length;++t<g;)if(d=a.charCodeAt(t),48>d||57<d){f=(46===d?m+a.slice(t+1):a.slice(t))+f;a=a.slice(0,t);break}}r&&!n&&(a=c(a,Infinity));d=b.length+a.length+f.length;t=d<u?Array(u-d+1).join(w):"";r&&n&&(a=c(t+a,t.length?u-f.length:Infinity),t="");switch(z){case "\x3c":a=b+a+f+t;break;case "\x3d":a=b+t+a+f;break;case "^":a=t.slice(0,d=t.length>>1)+b+a+f+t.slice(d);break;default:a=t+b+a+f}return q(a)}
a=rb(a);var w=a.fill,z=a.align,e=a.sign,l=a.symbol,n=a.zero,u=a.width,r=a.comma,F=a.precision,y=a.trim,v=a.type;"n"===v?(r=!0,v="g"):Ge[v]||(F===h&&(F=12),y=!0,v="g");if(n||"0"===w&&"\x3d"===z)n=!0,w="0",z="\x3d";var x="$"===l?f:"#"===l&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",D="$"===l?g:/[%p]/.test(v)?d:"",E=Ge[v],Na=/[defgprs%]/.test(v);F=F===h?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,F)):Math.max(0,Math.min(20,F));b.toString=function(){return a+""};return b}var c=a.grouping===h||a.thousands===
h?De:Eh(He.call(a.grouping,Number),a.thousands+""),f=a.currency===h?"":a.currency[0]+"",g=a.currency===h?"":a.currency[1]+"",m=a.decimal===h?".":a.decimal+"",q=a.numerals===h?De:Fh(He.call(a.numerals,String)),d=a.percent===h?"%":a.percent+"",k=a.minus===h?"âˆ’":a.minus+"",p=a.nan===h?"NaN":a.nan+"";return{format:b,formatPrefix:function(a,c){var f=b((a=rb(a),a.type="f",a));a=3*Math.max(-8,Math.min(8,Math.floor($a(c)/3)));var k=Math.pow(10,-a),g=Ee[8+a/3];return function(a){return f(k*a)+g}}}}function Ie(a,
b,c,f){c=Ib(a,b,c);f=rb(null==f?",f":f);switch(f.type){case "s":a=Math.max(Math.abs(a),Math.abs(b));if(b=null==f.precision){var g=isNaN;c=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor($a(a)/3)))-$a(Math.abs(c)));b=!g(g=c)}b&&(f.precision=g);return Je(f,a);case "":case "e":case "g":case "p":case "r":var m;if(m=null==f.precision)g=isNaN,a=Math.max(Math.abs(a),Math.abs(b)),c=Math.abs(c),a=Math.abs(a)-c,c=Math.max(0,$a(a)-$a(c))+1,m=!g(g=c);m&&(f.precision=g-("e"===f.type));break;case "f":case "%":null!=
f.precision||isNaN(g=Math.max(0,-$a(Math.abs(c))))||(f.precision=g-2*("%"===f.type))}return Pc(f)}function Fa(a){var b=a.domain;a.ticks=function(a){var c=b();return ib(c[0],c[c.length-1],null==a?10:a)};a.tickFormat=function(a,f){var c=b();return Ie(c[0],c[c.length-1],null==a?10:a,f)};a.nice=function(c){null==c&&(c=10);var f=b(),g=0,m=f.length-1,d=f[g],z=f[m],k=10;if(z<d){var p=d;d=z;z=p;p=g;g=m;m=p}for(;0<k--;){p=Ka(d,z,c);if(p===w)return f[g]=d,f[m]=z,b(f);if(0<p)d=Math.floor(d/p)*p,z=Math.ceil(z/
p)*p;else if(0>p)d=Math.ceil(d*p)/p,z=Math.floor(z*p)/p;else break;var w=p}return a};return a}function Ke(){var a=Za()(Y,Y);a.copy=function(){return qb(a,Ke())};na.apply(a,arguments);return Fa(a)}function Le(a){function b(a){return null==a||isNaN(a=+a)?c:a}var c;b.invert=b;b.domain=b.range=function(c){return arguments.length?(a=Array.from(c,Qb),b):a.slice()};b.unknown=function(a){return arguments.length?(c=a,b):c};b.copy=function(){return Le(a).unknown(c)};a=arguments.length?Array.from(a,Qb):[0,1];
return Fa(b)}function Me(a,b){a=a.slice();var c=0,f=a.length-1,g=a[c],m=a[f];if(m<g){var d=c;c=f;f=d;d=g;g=m;m=d}a[c]=b.floor(g);a[f]=b.ceil(m);return a}function Ne(a){return Math.log(a)}function Oe(a){return Math.exp(a)}function Ih(a){return-Math.log(-a)}function Jh(a){return-Math.exp(-a)}function Kh(a){return isFinite(a)?+("1e"+a):0>a?0:a}function Lh(a){return 10===a?Kh:a===Math.E?Math.exp:function(b){return Math.pow(a,b)}}function Mh(a){return a===Math.E?Math.log:10===a&&Math.log10||2===a&&Math.log2||
(a=Math.log(a),function(b){return Math.log(b)/a})}function Pe(a){return function(b,c){return-a(-b,c)}}function Qc(a){function b(){m=Mh(g);d=Lh(g);0>f()[0]?(m=Pe(m),d=Pe(d),a(Ih,Jh)):a(Ne,Oe);return c}var c=a(Ne,Oe),f=c.domain,g=10,m,d;c.base=function(a){return arguments.length?(g=+a,b()):g};c.domain=function(a){return arguments.length?(f(a),b()):f()};c.ticks=function(a){var b=f(),c=b[0],q=b[b.length-1];if(b=q<c)q=[q,c],c=q[0],q=q[1];var t=m(c),z=m(q),e=null==a?10:+a,h=[];if(!(g%1)&&z-t<e){t=Math.floor(t);
z=Math.ceil(z);if(0<c)for(;t<=z;++t)for(a=1;a<g;++a){var l=0>t?a/d(-t):a*d(t);if(!(l<c)){if(l>q)break;h.push(l)}}else for(;t<=z;++t)for(a=g-1;1<=a;--a)if(l=0<t?a/d(-t):a*d(t),!(l<c)){if(l>q)break;h.push(l)}2*h.length<e&&(h=ib(c,q,e))}else h=ib(t,z,Math.min(z-t,e)).map(d);return b?h.reverse():h};c.tickFormat=function(a,b){null==a&&(a=10);null==b&&(b=10===g?"s":",");"function"!==typeof b&&(g%1||null!=(b=rb(b)).precision||(b.trim=!0),b=Pc(b));if(Infinity===a)return b;var f=Math.max(1,g*a/c.ticks().length);
return function(a){var c=a/d(Math.round(m(a)));c*g<g-.5&&(c*=g);return c<=f?b(a):""}};c.nice=function(){return f(Me(f(),{floor:function(a){return d(Math.floor(m(a)))},ceil:function(a){return d(Math.ceil(m(a)))}}))};return c}function Qe(){var a=Qc(Za()).domain([1,10]);a.copy=function(){return qb(a,Qe()).base(a.base())};na.apply(a,arguments);return a}function Re(a){return function(b){return Math.sign(b)*Math.log1p(Math.abs(b/a))}}function Se(a){return function(b){return Math.sign(b)*Math.expm1(Math.abs(b))*
a}}function Rc(a){var b=1,c=a(Re(b),Se(b));c.constant=function(c){return arguments.length?a(Re(b=+c),Se(b)):b};return Fa(c)}function Te(){var a=Rc(Za());a.copy=function(){return qb(a,Te()).constant(a.constant())};return na.apply(a,arguments)}function Ue(a){return function(b){return 0>b?-Math.pow(-b,a):Math.pow(b,a)}}function Nh(a){return 0>a?-Math.sqrt(-a):Math.sqrt(a)}function Oh(a){return 0>a?-a*a:a*a}function Sc(a){var b=a(Y,Y),c=1;b.exponent=function(b){return arguments.length?(c=+b,1===c?a(Y,
Y):.5===c?a(Nh,Oh):a(Ue(c),Ue(1/c))):c};return Fa(b)}function Tc(){var a=Sc(Za());a.copy=function(){return qb(a,Tc()).exponent(a.exponent())};na.apply(a,arguments);return a}function Ve(a){return Math.sign(a)*a*a}function We(){function a(a){a=b(a);a=Math.sign(a)*Math.sqrt(Math.abs(a));return isNaN(a)?g:f?Math.round(a):a}var b=Za()(Y,Y),c=[0,1],f=!1,g;a.invert=function(a){return b.invert(Ve(a))};a.domain=function(c){return arguments.length?(b.domain(c),a):b.domain()};a.range=function(f){return arguments.length?
(b.range((c=Array.from(f,Qb)).map(Ve)),a):c.slice()};a.rangeRound=function(b){return a.range(b).round(!0)};a.round=function(b){return arguments.length?(f=!!b,a):f};a.clamp=function(c){return arguments.length?(b.clamp(c),a):b.clamp()};a.unknown=function(b){return arguments.length?(g=b,a):g};a.copy=function(){return We(b.domain(),c).round(f).clamp(b.clamp()).unknown(g)};na.apply(a,arguments);return Fa(a)}function Xe(){function a(){var a=0,m=Math.max(1,f.length);for(g=Array(m-1);++a<m;)g[a-1]=ce(c,a/
m);return b}function b(a){return null==a||isNaN(a=+a)?m:f[La(g,a)]}var c=[],f=[],g=[],m;b.invertExtent=function(a){a=f.indexOf(a);return 0>a?[NaN,NaN]:[0<a?g[a-1]:c[0],a<g.length?g[a]:c[c.length-1]]};b.domain=function(b){if(!arguments.length)return c.slice();c=[];var f=B(b),k;try{for(f.s();!(k=f.n()).done;){var g=k.value;null==g||isNaN(g=+g)||c.push(g)}}catch(w){f.e(w)}finally{f.f()}c.sort(e);return a()};b.range=function(b){return arguments.length?(f=Array.from(b),a()):f.slice()};b.unknown=function(a){return arguments.length?
(m=a,b):m};b.quantiles=function(){return g.slice()};b.copy=function(){return Xe().domain(c).range(f).unknown(m)};return na.apply(b,arguments)}function Ye(){function a(a){return null!=a&&a<=a?d[La(m,a,0,g)]:e}function b(){var b=-1;for(m=Array(g);++b<g;)m[b]=((b+1)*f-(b-g)*c)/(g+1);return a}var c=0,f=1,g=1,m=[.5],d=[0,1],e;a.domain=function(a){var k;return arguments.length?(k=r(a,2),c=k[0],f=k[1],c=+c,f=+f,b()):[c,f]};a.range=function(a){return arguments.length?(g=(d=Array.from(a)).length-1,b()):d.slice()};
a.invertExtent=function(a){a=d.indexOf(a);return 0>a?[NaN,NaN]:1>a?[c,m[0]]:a>=g?[m[g-1],f]:[m[a-1],m[a]]};a.unknown=function(b){return arguments.length?(e=b,a):a};a.thresholds=function(){return m.slice()};a.copy=function(){return Ye().domain([c,f]).range(d).unknown(e)};return na.apply(Fa(a),arguments)}function Ze(){function a(a){return null!=a&&a<=a?c[La(b,a,0,g)]:f}var b=[.5],c=[0,1],f,g=1;a.domain=function(f){return arguments.length?(b=Array.from(f),g=Math.min(b.length,c.length-1),a):b.slice()};
a.range=function(f){return arguments.length?(c=Array.from(f),g=Math.min(b.length,c.length-1),a):c.slice()};a.invertExtent=function(a){a=c.indexOf(a);return[b[a-1],b[a]]};a.unknown=function(b){return arguments.length?(f=b,a):f};a.copy=function(){return Ze().domain(b).range(c).unknown(f)};return na.apply(a,arguments)}function Z(a,b,c,f){function g(b){return a(b=0===arguments.length?new Date:new Date(+b)),b}g.floor=function(b){return a(b=new Date(+b)),b};g.ceil=function(c){return a(c=new Date(c-1)),
b(c,1),a(c),c};g.round=function(a){var b=g(a),c=g.ceil(a);return a-b<c-a?b:c};g.offset=function(a,c){return b(a=new Date(+a),null==c?1:Math.floor(c)),a};g.range=function(c,f,d){var k=[];c=g.ceil(c);d=null==d?1:Math.floor(d);if(!(c<f&&0<d))return k;var m;do k.push(m=new Date(+c)),b(c,d),a(c);while(m<c&&c<f);return k};g.filter=function(c){return Z(function(b){if(b>=b)for(;a(b),!c(b);)b.setTime(b-1)},function(a,f){if(a>=a)if(0>f)for(;0>=++f;)for(;b(a,-1),!c(a););else for(;0<=--f;)for(;b(a,1),!c(a););
})};c&&(g.count=function(b,f){Uc.setTime(+b);Vc.setTime(+f);a(Uc);a(Vc);return Math.floor(c(Uc,Vc))},g.every=function(a){a=Math.floor(a);return isFinite(a)&&0<a?1<a?g.filter(f?function(b){return 0===f(b)%a}:function(b){return 0===g.count(0,b)%a}):g:null});return g}function Ra(a){return Z(function(b){b.setDate(b.getDate()-(b.getDay()+7-a)%7);b.setHours(0,0,0,0)},function(a,c){a.setDate(a.getDate()+7*c)},function(a,c){return(c-a-6E4*(c.getTimezoneOffset()-a.getTimezoneOffset()))/Wc})}function Sa(a){return Z(function(b){b.setUTCDate(b.getUTCDate()-
(b.getUTCDay()+7-a)%7);b.setUTCHours(0,0,0,0)},function(a,c){a.setUTCDate(a.getUTCDate()+7*c)},function(a,c){return(c-a)/Wc})}function $e(a,b,c,f,g,d){function m(b,c,f){var g=Math.abs(c-b)/f,k=y(function(a){return r(a,3)[2]}).right(e,g);if(k===e.length)return a.every(Ib(b/Xc,c/Xc,f));if(0===k)return Sb.every(Math.max(Ib(b,c,f),1));b=r(e[g/e[k-1][2]<e[k][2]/g?k-1:k],2);return b[0].every(b[1])}var e=[[Ta,1,1E3],[Ta,5,5E3],[Ta,15,15E3],[Ta,30,3E4],[d,1,6E4],[d,5,3E5],[d,15,9E5],[d,30,18E5],[g,1,36E5],
[g,3,108E5],[g,6,216E5],[g,12,432E5],[f,1,864E5],[f,2,1728E5],[c,1,Wc],[b,1,af],[b,3,3*af],[a,1,Xc]];return[function(a,b,c){var f=b<a;f&&(b=[b,a],a=b[0],b=b[1]);a=(c=c&&"function"===typeof c.range?c:m(a,b,c))?c.range(a,+b+1):[];return f?a.reverse():a},m]}function Yc(a){if(0<=a.y&&100>a.y){var b=new Date(-1,a.m,a.d,a.H,a.M,a.S,a.L);b.setFullYear(a.y);return b}return new Date(a.y,a.m,a.d,a.H,a.M,a.S,a.L)}function Zc(a){if(0<=a.y&&100>a.y){var b=new Date(Date.UTC(-1,a.m,a.d,a.H,a.M,a.S,a.L));b.setUTCFullYear(a.y);
return b}return new Date(Date.UTC(a.y,a.m,a.d,a.H,a.M,a.S,a.L))}function sb(a,b,c){return{y:a,m:b,d:c,H:0,M:0,S:0,L:0}}function Ph(a){function b(a,b){return function(c){var f=[],g=-1,k=0,d=a.length,m,p;for(c instanceof Date||(c=new Date(+c));++g<d;)if(37===a.charCodeAt(g)){f.push(a.slice(k,g));null!=(k=bf[m=a.charAt(++g)])?m=a.charAt(++g):k="e"===m?" ":"0";if(p=b[m])m=p(c,k);f.push(m);k=g+1}f.push(a.slice(k,g));return f.join("")}}function c(a,b){return function(c){var g=sb(1900,h,1);if(f(g,a,c+="",
0)!=c.length)return null;if("Q"in g)return new Date(g.Q);if("s"in g)return new Date(1E3*g.s+("L"in g?g.L:0));!b||"Z"in g||(g.Z=0);"p"in g&&(g.H=g.H%12+12*g.p);g.m===h&&(g.m="q"in g?g.q:0);if("V"in g){if(1>g.V||53<g.V)return null;"w"in g||(g.w=1);if("Z"in g){c=Zc(sb(g.y,0,1));var k=c.getUTCDay();c=4<k||0===k?Tb.ceil(c):Tb(c);c=Ub.offset(c,7*(g.V-1));g.y=c.getUTCFullYear();g.m=c.getUTCMonth();g.d=c.getUTCDate()+(g.w+6)%7}else c=Yc(sb(g.y,0,1)),k=c.getDay(),c=4<k||0===k?Vb.ceil(c):Vb(c),c=tb.offset(c,
7*(g.V-1)),g.y=c.getFullYear(),g.m=c.getMonth(),g.d=c.getDate()+(g.w+6)%7}else if("W"in g||"U"in g)"w"in g||(g.w="u"in g?g.u%7:"W"in g?1:0),k="Z"in g?Zc(sb(g.y,0,1)).getUTCDay():Yc(sb(g.y,0,1)).getDay(),g.m=0,g.d="W"in g?(g.w+6)%7+7*g.W-(k+5)%7:g.w+7*g.U-(k+6)%7;return"Z"in g?(g.H+=g.Z/100|0,g.M+=g.Z%100,Zc(g)):Yc(g)}}function f(a,b,c,f){for(var g=0,k=b.length,d=c.length,m;g<k;){if(f>=d)return-1;m=b.charCodeAt(g++);if(37===m){if(m=b.charAt(g++),m=E[m in bf?b.charAt(g++):m],!m||0>(f=m(a,c,f)))return-1}else if(m!=
c.charCodeAt(f++))return-1}return f}var g=a.dateTime,d=a.date,q=a.time,e=a.periods,k=a.days,p=a.shortDays,w=a.months,t=a.shortMonths,H=ub(e),A=vb(e),l=ub(k),n=vb(k),u=ub(p),r=vb(p),pa=ub(w),F=vb(w),v=ub(t),y=vb(t),x={a:function(a){return p[a.getDay()]},A:function(a){return k[a.getDay()]},b:function(a){return t[a.getMonth()]},B:function(a){return w[a.getMonth()]},c:null,d:cf,e:cf,f:Qh,g:Rh,G:Sh,H:Th,I:Uh,j:Vh,L:df,m:Wh,M:Xh,p:function(a){return e[+(12<=a.getHours())]},q:function(a){return 1+~~(a.getMonth()/
3)},Q:ef,s:ff,S:Yh,u:Zh,U:$h,V:ai,w:bi,W:ci,x:null,X:null,y:di,Y:ei,Z:fi,"%":gf},D={a:function(a){return p[a.getUTCDay()]},A:function(a){return k[a.getUTCDay()]},b:function(a){return t[a.getUTCMonth()]},B:function(a){return w[a.getUTCMonth()]},c:null,d:hf,e:hf,f:gi,g:hi,G:ii,H:ji,I:ki,j:li,L:jf,m:mi,M:ni,p:function(a){return e[+(12<=a.getUTCHours())]},q:function(a){return 1+~~(a.getUTCMonth()/3)},Q:ef,s:ff,S:oi,u:pi,U:qi,V:ri,w:si,W:ti,x:null,X:null,y:ui,Y:vi,Z:wi,"%":gf},E={a:function(a,b,c){return(b=
u.exec(b.slice(c)))?(a.w=r.get(b[0].toLowerCase()),c+b[0].length):-1},A:function(a,b,c){return(b=l.exec(b.slice(c)))?(a.w=n.get(b[0].toLowerCase()),c+b[0].length):-1},b:function(a,b,c){return(b=v.exec(b.slice(c)))?(a.m=y.get(b[0].toLowerCase()),c+b[0].length):-1},B:function(a,b,c){return(b=pa.exec(b.slice(c)))?(a.m=F.get(b[0].toLowerCase()),c+b[0].length):-1},c:function(a,b,c){return f(a,g,b,c)},d:kf,e:kf,f:xi,g:lf,G:mf,H:nf,I:nf,j:yi,L:zi,m:Ai,M:Bi,p:function(a,b,c){return(b=H.exec(b.slice(c)))?
(a.p=A.get(b[0].toLowerCase()),c+b[0].length):-1},q:Ci,Q:Di,s:Ei,S:Fi,u:Gi,U:Hi,V:Ii,w:Ji,W:Ki,x:function(a,b,c){return f(a,d,b,c)},X:function(a,b,c){return f(a,q,b,c)},y:lf,Y:mf,Z:Li,"%":Mi};x.x=b(d,x);x.X=b(q,x);x.c=b(g,x);D.x=b(d,D);D.X=b(q,D);D.c=b(g,D);return{format:function(a){var c=b(a+="",x);c.toString=function(){return a};return c},parse:function(a){var b=c(a+="",!1);b.toString=function(){return a};return b},utcFormat:function(a){var c=b(a+="",D);c.toString=function(){return a};return c},
utcParse:function(a){var b=c(a+="",!0);b.toString=function(){return a};return b}}}function P(a,b,c){var f=0>a?"-":"";a=(f?-a:a)+"";var g=a.length;return f+(g<c?Array(c-g+1).join(b)+a:a)}function Ni(a){return a.replace(Oi,"\\$\x26")}function ub(a){return new RegExp("^(?:"+a.map(Ni).join("|")+")","i")}function vb(a){return new Map(a.map(function(a,c){return[a.toLowerCase(),c]}))}function Ji(a,b,c){return(b=aa.exec(b.slice(c,c+1)))?(a.w=+b[0],c+b[0].length):-1}function Gi(a,b,c){return(b=aa.exec(b.slice(c,
c+1)))?(a.u=+b[0],c+b[0].length):-1}function Hi(a,b,c){return(b=aa.exec(b.slice(c,c+2)))?(a.U=+b[0],c+b[0].length):-1}function Ii(a,b,c){return(b=aa.exec(b.slice(c,c+2)))?(a.V=+b[0],c+b[0].length):-1}function Ki(a,b,c){return(b=aa.exec(b.slice(c,c+2)))?(a.W=+b[0],c+b[0].length):-1}function mf(a,b,c){return(b=aa.exec(b.slice(c,c+4)))?(a.y=+b[0],c+b[0].length):-1}function lf(a,b,c){return(b=aa.exec(b.slice(c,c+2)))?(a.y=+b[0]+(68<+b[0]?1900:2E3),c+b[0].length):-1}function Li(a,b,c){return(b=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(b.slice(c,
c+6)))?(a.Z=b[1]?0:-(b[2]+(b[3]||"00")),c+b[0].length):-1}function Ci(a,b,c){return(b=aa.exec(b.slice(c,c+1)))?(a.q=3*b[0]-3,c+b[0].length):-1}function Ai(a,b,c){return(b=aa.exec(b.slice(c,c+2)))?(a.m=b[0]-1,c+b[0].length):-1}function kf(a,b,c){return(b=aa.exec(b.slice(c,c+2)))?(a.d=+b[0],c+b[0].length):-1}function yi(a,b,c){return(b=aa.exec(b.slice(c,c+3)))?(a.m=0,a.d=+b[0],c+b[0].length):-1}function nf(a,b,c){return(b=aa.exec(b.slice(c,c+2)))?(a.H=+b[0],c+b[0].length):-1}function Bi(a,b,c){return(b=
aa.exec(b.slice(c,c+2)))?(a.M=+b[0],c+b[0].length):-1}function Fi(a,b,c){return(b=aa.exec(b.slice(c,c+2)))?(a.S=+b[0],c+b[0].length):-1}function zi(a,b,c){return(b=aa.exec(b.slice(c,c+3)))?(a.L=+b[0],c+b[0].length):-1}function xi(a,b,c){return(b=aa.exec(b.slice(c,c+6)))?(a.L=Math.floor(b[0]/1E3),c+b[0].length):-1}function Mi(a,b,c){return(a=Pi.exec(b.slice(c,c+1)))?c+a[0].length:-1}function Di(a,b,c){return(b=aa.exec(b.slice(c)))?(a.Q=+b[0],c+b[0].length):-1}function Ei(a,b,c){return(b=aa.exec(b.slice(c)))?
(a.s=+b[0],c+b[0].length):-1}function cf(a,b){return P(a.getDate(),b,2)}function Th(a,b){return P(a.getHours(),b,2)}function Uh(a,b){return P(a.getHours()%12||12,b,2)}function Vh(a,b){return P(1+tb.count(za(a),a),b,3)}function df(a,b){return P(a.getMilliseconds(),b,3)}function Qh(a,b){return df(a,b)+"000"}function Wh(a,b){return P(a.getMonth()+1,b,2)}function Xh(a,b){return P(a.getMinutes(),b,2)}function Yh(a,b){return P(a.getSeconds(),b,2)}function Zh(a){a=a.getDay();return 0===a?7:a}function $h(a,
b){return P(Wb.count(za(a)-1,a),b,2)}function of(a){var b=a.getDay();return 4<=b||0===b?ab(a):ab.ceil(a)}function ai(a,b){a=of(a);return P(ab.count(za(a),a)+(4===za(a).getDay()),b,2)}function bi(a){return a.getDay()}function ci(a,b){return P(Vb.count(za(a)-1,a),b,2)}function di(a,b){return P(a.getFullYear()%100,b,2)}function Rh(a,b){a=of(a);return P(a.getFullYear()%100,b,2)}function ei(a,b){return P(a.getFullYear()%1E4,b,4)}function Sh(a,b){var c=a.getDay();a=4<=c||0===c?ab(a):ab.ceil(a);return P(a.getFullYear()%
1E4,b,4)}function fi(a){a=a.getTimezoneOffset();return(0<a?"-":(a*=-1,"+"))+P(a/60|0,"0",2)+P(a%60,"0",2)}function hf(a,b){return P(a.getUTCDate(),b,2)}function ji(a,b){return P(a.getUTCHours(),b,2)}function ki(a,b){return P(a.getUTCHours()%12||12,b,2)}function li(a,b){return P(1+Ub.count(Aa(a),a),b,3)}function jf(a,b){return P(a.getUTCMilliseconds(),b,3)}function gi(a,b){return jf(a,b)+"000"}function mi(a,b){return P(a.getUTCMonth()+1,b,2)}function ni(a,b){return P(a.getUTCMinutes(),b,2)}function oi(a,
b){return P(a.getUTCSeconds(),b,2)}function pi(a){a=a.getUTCDay();return 0===a?7:a}function qi(a,b){return P(Xb.count(Aa(a)-1,a),b,2)}function pf(a){var b=a.getUTCDay();return 4<=b||0===b?bb(a):bb.ceil(a)}function ri(a,b){a=pf(a);return P(bb.count(Aa(a),a)+(4===Aa(a).getUTCDay()),b,2)}function si(a){return a.getUTCDay()}function ti(a,b){return P(Tb.count(Aa(a)-1,a),b,2)}function ui(a,b){return P(a.getUTCFullYear()%100,b,2)}function hi(a,b){a=pf(a);return P(a.getUTCFullYear()%100,b,2)}function vi(a,
b){return P(a.getUTCFullYear()%1E4,b,4)}function ii(a,b){var c=a.getUTCDay();a=4<=c||0===c?bb(a):bb.ceil(a);return P(a.getUTCFullYear()%1E4,b,4)}function wi(){return"+0000"}function gf(){return"%"}function ef(a){return+a}function ff(a){return Math.floor(+a/1E3)}function Qi(a){return new Date(a)}function Ri(a){return a instanceof Date?+a:+new Date(+a)}function $c(a,b,c,f,g,d,q,e,k,p){function m(a){return(k(a)<a?l:e(a)<a?n:q(a)<a?u:d(a)<a?r:f(a)<a?g(a)<a?pa:F:c(a)<a?v:y)(a)}var t=Za()(Y,Y),z=t.invert,
h=t.domain,l=p(".%L"),n=p(":%S"),u=p("%I:%M"),r=p("%I %p"),pa=p("%a %d"),F=p("%b %d"),v=p("%B"),y=p("%Y");t.invert=function(a){return new Date(z(a))};t.domain=function(a){return arguments.length?h(Array.from(a,Ri)):h().map(Qi)};t.ticks=function(b){var c=h();return a(c[0],c[c.length-1],null==b?10:b)};t.tickFormat=function(a,b){return null==b?m:p(b)};t.nice=function(a){var c=h();a&&"function"===typeof a.range||(a=b(c[0],c[c.length-1],null==a?10:a));return a?h(Me(c,a)):t};t.copy=function(){return qb(t,
$c(a,b,c,f,g,d,q,e,k,p))};return t}function Yb(){function a(a){return null==a||isNaN(a=+a)?w:k(0===q?.5:(a=(e(a)-g)*q,p?Math.max(0,Math.min(1,a)):a))}function b(b){return function(c){var f,g,d;return arguments.length?(f=r(c,2),g=f[0],d=f[1],k=b(g,d),a):[k(0),k(1)]}}var c=0,f=1,g,d,q,e,k=Y,p=!1,w;a.domain=function(b){var k;return arguments.length?(k=r(b,2),c=k[0],f=k[1],g=e(c=+c),d=e(f=+f),q=g===d?0:1/(d-g),a):[c,f]};a.clamp=function(b){return arguments.length?(p=!!b,a):p};a.interpolator=function(b){return arguments.length?
(k=b,a):k};a.range=b(Ya);a.rangeRound=b(Mc);a.unknown=function(b){return arguments.length?(w=b,a):w};return function(b){e=b;g=b(c);d=b(f);q=g===d?0:1/(d-g);return a}}function Ga(a,b){return b.domain(a.domain()).interpolator(a.interpolator()).clamp(a.clamp()).unknown(a.unknown())}function qf(){var a=Fa(Yb()(Y));a.copy=function(){return Ga(a,qf())};return ya.apply(a,arguments)}function rf(){var a=Qc(Yb()).domain([1,10]);a.copy=function(){return Ga(a,rf()).base(a.base())};return ya.apply(a,arguments)}
function sf(){var a=Rc(Yb());a.copy=function(){return Ga(a,sf()).constant(a.constant())};return ya.apply(a,arguments)}function ad(){var a=Sc(Yb());a.copy=function(){return Ga(a,ad()).exponent(a.exponent())};return ya.apply(a,arguments)}function tf(){function a(a){if(null!=a&&!isNaN(a=+a))return c((La(b,a,1)-1)/(b.length-1))}var b=[],c=Y;a.domain=function(c){if(!arguments.length)return b.slice();b=[];var f=B(c),d;try{for(f.s();!(d=f.n()).done;){var q=d.value;null==q||isNaN(q=+q)||b.push(q)}}catch(z){f.e(z)}finally{f.f()}b.sort(e);
return a};a.interpolator=function(b){return arguments.length?(c=b,a):c};a.range=function(){return b.map(function(a,g){return c(g/(b.length-1))})};a.quantiles=function(a){return Array.from({length:a+1},function(c,f){return nb(b,f/a)})};a.copy=function(){return tf(c).domain(b)};return ya.apply(a,arguments)}function Zb(){function a(a){return isNaN(a=+a)?l:(a=.5+((a=+H(a))-e)*(d*a<d*e?p:w),t(h?Math.max(0,Math.min(1,a)):a))}function b(b){return function(c){var f,g,k,d;return arguments.length?(f=r(c,3),
g=f[0],k=f[1],d=f[2],t=zh(b,[g,k,d]),a):[t(0),t(.5),t(1)]}}var c=0,f=.5,g=1,d=1,q,e,k,p,w,t=Y,H,h=!1,l;a.domain=function(b){var m;return arguments.length?(m=r(b,3),c=m[0],f=m[1],g=m[2],q=H(c=+c),e=H(f=+f),k=H(g=+g),p=q===e?0:.5/(e-q),w=e===k?0:.5/(k-e),d=e<q?-1:1,a):[c,f,g]};a.clamp=function(b){return arguments.length?(h=!!b,a):h};a.interpolator=function(b){return arguments.length?(t=b,a):t};a.range=b(Ya);a.rangeRound=b(Mc);a.unknown=function(b){return arguments.length?(l=b,a):l};return function(b){H=
b;q=b(c);e=b(f);k=b(g);p=q===e?0:.5/(e-q);w=e===k?0:.5/(k-e);d=e<q?-1:1;return a}}function uf(){var a=Fa(Zb()(Y));a.copy=function(){return Ga(a,uf())};return ya.apply(a,arguments)}function vf(){var a=Qc(Zb()).domain([.1,1,10]);a.copy=function(){return Ga(a,vf()).base(a.base())};return ya.apply(a,arguments)}function wf(){var a=Rc(Zb());a.copy=function(){return Ga(a,wf()).constant(a.constant())};return ya.apply(a,arguments)}function bd(){var a=Sc(Zb());a.copy=function(){return Ga(a,bd()).exponent(a.exponent())};
return ya.apply(a,arguments)}function wb(a){var b=a+="",c=b.indexOf(":");0<=c&&"xmlns"!==(b=a.slice(0,c))&&(a=a.slice(c+1));return cd.hasOwnProperty(b)?{space:cd[b],local:a}:a}function Si(a){return function(){var b=this.ownerDocument,c=this.namespaceURI;return"http://www.w3.org/1999/xhtml"===c&&"http://www.w3.org/1999/xhtml"===b.documentElement.namespaceURI?b.createElement(a):b.createElementNS(c,a)}}function Ti(a){return function(){return this.ownerDocument.createElementNS(a.space,a.local)}}function $b(a){a=
wb(a);return(a.local?Ti:Si)(a)}function Ui(){}function ac(a){return null==a?Ui:function(){return this.querySelector(a)}}function xf(a){return null==a?[]:Array.isArray(a)?a:Array.from(a)}function Vi(){return[]}function dd(a){return null==a?Vi:function(){return this.querySelectorAll(a)}}function Wi(a){return function(){return xf(a.apply(this,arguments))}}function ed(a){return function(){return this.matches(a)}}function yf(a){return function(b){return b.matches(a)}}function Xi(a){return function(){return Yi.call(this.children,
a)}}function Zi(){return this.firstElementChild}function $i(){return Array.from(this.children)}function aj(a){return function(){return bj.call(this.children,a)}}function zf(a){return Array(a.length)}function bc(a,b){this.ownerDocument=a.ownerDocument;this.namespaceURI=a.namespaceURI;this._next=null;this._parent=a;this.__data__=b}function cj(a){return function(){return a}}function dj(a,b,c,f,g,d){for(var m=0,e,k=b.length,p=d.length;m<p;++m)(e=b[m])?(e.__data__=d[m],f[m]=e):c[m]=new bc(a,d[m]);for(;m<
k;++m)if(e=b[m])g[m]=e}function ej(a,b,c,f,g,d,q){var m,k,p=new Map,w=b.length,t=d.length,e=Array(w),h;for(m=0;m<w;++m)if(k=b[m])e[m]=h=q.call(k,k.__data__,m,b)+"",p.has(h)?g[m]=k:p.set(h,k);for(m=0;m<t;++m)h=q.call(a,d[m],m,d)+"",(k=p.get(h))?(f[m]=k,k.__data__=d[m],p["delete"](h)):c[m]=new bc(a,d[m]);for(m=0;m<w;++m)(k=b[m])&&p.get(e[m])===k&&(g[m]=k)}function fj(a){return a.__data__}function gj(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}function hj(a){return function(){this.removeAttribute(a)}}function ij(a){return function(){this.removeAttributeNS(a.space,
a.local)}}function jj(a,b){return function(){this.setAttribute(a,b)}}function kj(a,b){return function(){this.setAttributeNS(a.space,a.local,b)}}function lj(a,b){return function(){var c=b.apply(this,arguments);null==c?this.removeAttribute(a):this.setAttribute(a,c)}}function mj(a,b){return function(){var c=b.apply(this,arguments);null==c?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,c)}}function fd(a){return a.ownerDocument&&a.ownerDocument.defaultView||a.document&&a||
a.defaultView}function nj(a){return function(){this.style.removeProperty(a)}}function oj(a,b,c){return function(){this.style.setProperty(a,b,c)}}function pj(a,b,c){return function(){var f=b.apply(this,arguments);null==f?this.style.removeProperty(a):this.style.setProperty(a,f,c)}}function Ua(a,b){return a.style.getPropertyValue(b)||fd(a).getComputedStyle(a,null).getPropertyValue(b)}function qj(a){return function(){delete this[a]}}function rj(a,b){return function(){this[a]=b}}function sj(a,b){return function(){var c=
b.apply(this,arguments);null==c?delete this[a]:this[a]=c}}function gd(a){return a.classList||new Af(a)}function Af(a){this._node=a;this._names=(a.getAttribute("class")||"").trim().split(/^|\s+/)}function Bf(a,b){a=gd(a);for(var c=-1,f=b.length;++c<f;)a.add(b[c])}function Cf(a,b){a=gd(a);for(var c=-1,f=b.length;++c<f;)a.remove(b[c])}function tj(a){return function(){Bf(this,a)}}function uj(a){return function(){Cf(this,a)}}function vj(a,b){return function(){(b.apply(this,arguments)?Bf:Cf)(this,a)}}function wj(){this.textContent=
""}function xj(a){return function(){this.textContent=a}}function yj(a){return function(){var b=a.apply(this,arguments);this.textContent=null==b?"":b}}function zj(){this.innerHTML=""}function Aj(a){return function(){this.innerHTML=a}}function Bj(a){return function(){var b=a.apply(this,arguments);this.innerHTML=null==b?"":b}}function Cj(){this.nextSibling&&this.parentNode.appendChild(this)}function Dj(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ej(){return null}
function Fj(){var a=this.parentNode;a&&a.removeChild(this)}function Gj(){var a=this.cloneNode(!1),b=this.parentNode;return b?b.insertBefore(a,this.nextSibling):a}function Hj(){var a=this.cloneNode(!0),b=this.parentNode;return b?b.insertBefore(a,this.nextSibling):a}function Ij(a){return function(b){a.call(this,b,this.__data__)}}function Jj(a){return a.trim().split(/^|\s+/).map(function(a){var b="",f=a.indexOf(".");0<=f&&(b=a.slice(f+1),a=a.slice(0,f));return{type:a,name:b}})}function Kj(a){return function(){var b=
this.__on;if(b){for(var c=0,f=-1,g=b.length,d;c<g;++c)(d=b[c],a.type&&d.type!==a.type||d.name!==a.name)?b[++f]=d:this.removeEventListener(d.type,d.listener,d.options);++f?b.length=f:delete this.__on}}}function Lj(a,b,c){return function(){var f=this.__on,g,d=Ij(b);if(f)for(var q=0,e=f.length;q<e;++q)if((g=f[q]).type===a.type&&g.name===a.name){this.removeEventListener(g.type,g.listener,g.options);this.addEventListener(g.type,g.listener=d,g.options=c);g.value=b;return}this.addEventListener(a.type,d,
c);g={type:a.type,name:a.name,value:b,listener:d,options:c};f?f.push(g):this.__on=[g]}}function Df(a,b,c){var f=fd(a),g=f.CustomEvent;"function"===typeof g?g=new g(b,c):(g=f.document.createEvent("Event"),c?(g.initEvent(b,c.bubbles,c.cancelable),g.detail=c.detail):g.initEvent(b,!1,!1));a.dispatchEvent(g)}function Mj(a,b){return function(){return Df(this,a,b)}}function Nj(a,b){return function(){return Df(this,a,b.apply(this,arguments))}}function Ef(){var a,b,c,f,g,d,q;return ca().wrap(function(m){for(;;)switch(m.prev=
m.next){case 0:a=this._groups,b=0,c=a.length;case 1:if(!(b<c)){m.next=13;break}f=a[b];g=0;d=f.length;case 3:if(!(g<d)){m.next=10;break}if(!(q=f[g])){m.next=7;break}m.next=7;return q;case 7:++g;m.next=3;break;case 10:++b;m.next=1;break;case 13:case "end":return m.stop()}},Oj,this)}function ha(a,b){this._groups=a;this._parents=b}function Va(){return new ha([[document.documentElement]],hd)}function Ff(a){return"string"===typeof a?new ha([[document.querySelector(a)]],[document.documentElement]):new ha([[a]],
hd)}function Gf(){return new id}function id(){this._="@"+(++Pj).toString(36)}function Hf(a){for(var b;b=a.sourceEvent;)a=b;return a}function If(a,b){a=Hf(a);b===h&&(b=a.currentTarget);if(b){var c=b.ownerSVGElement||b;if(c.createSVGPoint)return c=c.createSVGPoint(),c.x=a.clientX,c.y=a.clientY,c=c.matrixTransform(b.getScreenCTM().inverse()),[c.x,c.y];if(b.getBoundingClientRect)return c=b.getBoundingClientRect(),[a.clientX-c.left-b.clientLeft,a.clientY-c.top-b.clientTop]}return[a.pageX,a.pageY]}function K(a){return function(){return a}}
function Jf(a){return 1<=a?cc:-1>=a?-cc:Math.asin(a)}function Kf(a){this._+=a[0];for(var b=1,c=a.length;b<c;++b)this._+=arguments[b]+a[b]}function Qj(a){var b=Math.floor(a);if(!(0<=b))throw Error("invalid digits: ".concat(a));if(15<b)return Kf;var c=Math.pow(10,b);return function(a){this._+=a[0];for(var b=1,f=a.length;b<f;++b)this._+=Math.round(arguments[b]*c)/c+a[b]}}function xb(a){var b=3;a.digits=function(c){if(!arguments.length)return b;if(null==c)b=null;else{var f=Math.floor(c);if(!(0<=f))throw new RangeError("invalid digits: ".concat(c));
b=f}return a};return function(){return new Rj(b)}}function Sj(a){return a.innerRadius}function Tj(a){return a.outerRadius}function Uj(a){return a.startAngle}function Vj(a){return a.endAngle}function Wj(a){return a&&a.padAngle}function dc(a,b,c,f,g,d,q){var m=a-c,k=b-f;q=(q?d:-d)/U(m*m+k*k);k*=q;m*=-q;var p=a+k,w=b+m,t=c+k,e=f+m;c=(p+t)/2;f=(w+e)/2;b=t-p;a=e-w;q=b*b+a*a;d=g-d;e=p*e-t*w;var h=(0>a?-1:1)*U(Xj(0,d*d*q-e*e));p=(e*a-b*h)/q;w=(-e*b-a*h)/q;t=(e*a+b*h)/q;b=(-e*b+a*h)/q;a=p-c;q=w-f;c=t-c;f=
b-f;a*a+q*q>c*c+f*f&&(p=t,w=b);return{cx:p,cy:w,x01:-k,y01:-m,x11:p*(g/d-1),y11:w*(g/d-1)}}function ec(a){return"object"===W(a)&&"length"in a?a:Array.from(a)}function Lf(a){this._context=a}function fc(a){return new Lf(a)}function jd(a){return a[0]}function kd(a){return a[1]}function ld(a,b){function c(c){var k,m=(c=ec(c)).length,t,h=!1,A;null==g&&(q=d(A=e()));for(k=0;k<=m;++k)!(k<m&&f(t=c[k],k,c))===h&&((h=!h)?q.lineStart():q.lineEnd()),h&&q.point(+a(t,k,c),+b(t,k,c));if(A)return q=null,A+""||null}
var f=K(!0),g=null,d=fc,q=null,e=xb(c);a="function"===typeof a?a:a===h?jd:K(a);b="function"===typeof b?b:b===h?kd:K(b);c.x=function(b){return arguments.length?(a="function"===typeof b?b:K(+b),c):a};c.y=function(a){return arguments.length?(b="function"===typeof a?a:K(+a),c):b};c.defined=function(a){return arguments.length?(f="function"===typeof a?a:K(!!a),c):f};c.curve=function(a){return arguments.length?(d=a,null!=g&&(q=d(g)),c):d};c.context=function(a){return arguments.length?(null==a?g=q=null:q=
d(g=a),c):g};return c}function Mf(a,b,c){function f(f){var g,m,t=(f=ec(f)).length,h,z=!1,l,n=Array(t),u=Array(t);null==e&&(p=k(l=w()));for(g=0;g<=t;++g){if(!(g<t&&q(h=f[g],g,f))===z)if(z=!z){var r=g;p.areaStart();p.lineStart()}else{p.lineEnd();p.lineStart();for(m=g-1;m>=r;--m)p.point(n[m],u[m]);p.lineEnd();p.areaEnd()}z&&(n[g]=+a(h,g,f),u[g]=+b(h,g,f),p.point(d?+d(h,g,f):n[g],c?+c(h,g,f):u[g]))}if(l)return p=null,l+""||null}function g(){return ld().defined(q).curve(k).context(e)}var d=null,q=K(!0),
e=null,k=fc,p=null,w=xb(f);a="function"===typeof a?a:a===h?jd:K(+a);b="function"===typeof b?b:b===h?K(0):K(+b);c="function"===typeof c?c:c===h?kd:K(+c);f.x=function(b){return arguments.length?(a="function"===typeof b?b:K(+b),d=null,f):a};f.x0=function(b){return arguments.length?(a="function"===typeof b?b:K(+b),f):a};f.x1=function(a){return arguments.length?(d=null==a?null:"function"===typeof a?a:K(+a),f):d};f.y=function(a){return arguments.length?(b="function"===typeof a?a:K(+a),c=null,f):b};f.y0=
function(a){return arguments.length?(b="function"===typeof a?a:K(+a),f):b};f.y1=function(a){return arguments.length?(c=null==a?null:"function"===typeof a?a:K(+a),f):c};f.lineX0=f.lineY0=function(){return g().x(a).y(b)};f.lineY1=function(){return g().x(a).y(c)};f.lineX1=function(){return g().x(d).y(b)};f.defined=function(a){return arguments.length?(q="function"===typeof a?a:K(!!a),f):q};f.curve=function(a){return arguments.length?(k=a,null!=e&&(p=k(e)),f):k};f.context=function(a){return arguments.length?
(null==a?e=p=null:p=k(e=a),f):e};return f}function Yj(a,b){return b<a?-1:b>a?1:b>=a?0:NaN}function Zj(a){return a}function Nf(a){this._curve=a}function md(a){function b(b){return new Nf(a(b))}b._curve=a;return b}function yb(a){var b=a.curve;a.angle=a.x;delete a.x;a.radius=a.y;delete a.y;a.curve=function(a){return arguments.length?b(md(a)):b()._curve};return a}function Of(){return yb(ld().curve(Pf))}function Qf(){var a=Mf().curve(Pf),b=a.curve,c=a.lineX0,f=a.lineX1,g=a.lineY0,d=a.lineY1;a.angle=a.x;
delete a.x;a.startAngle=a.x0;delete a.x0;a.endAngle=a.x1;delete a.x1;a.radius=a.y;delete a.y;a.innerRadius=a.y0;delete a.y0;a.outerRadius=a.y1;delete a.y1;a.lineStartAngle=function(){return yb(c())};delete a.lineX0;a.lineEndAngle=function(){return yb(f())};delete a.lineX1;a.lineInnerRadius=function(){return yb(g())};delete a.lineY0;a.lineOuterRadius=function(){return yb(d())};delete a.lineY1;a.curve=function(a){return arguments.length?b(md(a)):b()._curve};return a}function zb(a,b){return[(b=+b)*Math.cos(a-=
Math.PI/2),b*Math.sin(a)]}function Rf(a){return new Sf(a,!0)}function Tf(a){return new Sf(a,!1)}function ak(a){return new bk(a)}function ck(a){return a.source}function dk(a){return a.target}function gc(a){function b(){var b,m=ek.call(arguments),t=c.apply(this,m),h=f.apply(this,m);null==q&&(e=a(b=k()));e.lineStart();m[0]=t;e.point(+g.apply(this,m),+d.apply(this,m));m[0]=h;e.point(+g.apply(this,m),+d.apply(this,m));e.lineEnd();if(b)return e=null,b+""||null}var c=ck,f=dk,g=jd,d=kd,q=null,e=null,k=xb(b);
b.source=function(a){return arguments.length?(c=a,b):c};b.target=function(a){return arguments.length?(f=a,b):f};b.x=function(a){return arguments.length?(g="function"===typeof a?a:K(+a),b):g};b.y=function(a){return arguments.length?(d="function"===typeof a?a:K(+a),b):d};b.context=function(c){return arguments.length?(null==c?q=e=null:e=a(q=c),b):q};return b}function Ha(){}function hc(a,b,c){a._context.bezierCurveTo((2*a._x0+a._x1)/3,(2*a._y0+a._y1)/3,(a._x0+2*a._x1)/3,(a._y0+2*a._y1)/3,(a._x0+4*a._x1+
b)/6,(a._y0+4*a._y1+c)/6)}function ic(a){this._context=a}function Uf(a){this._context=a}function Vf(a){this._context=a}function Wf(a,b){this._basis=new ic(a);this._beta=b}function jc(a,b,c){a._context.bezierCurveTo(a._x1+a._k*(a._x2-a._x0),a._y1+a._k*(a._y2-a._y0),a._x2+a._k*(a._x1-b),a._y2+a._k*(a._y1-c),a._x2,a._y2)}function nd(a,b){this._context=a;this._k=(1-b)/6}function od(a,b){this._context=a;this._k=(1-b)/6}function pd(a,b){this._context=a;this._k=(1-b)/6}function qd(a,b,c){var f=a._x1,g=a._y1,
d=a._x2,q=a._y2;if(1E-12<a._l01_a){var e=2*a._l01_2a+3*a._l01_a*a._l12_a+a._l12_2a,k=3*a._l01_a*(a._l01_a+a._l12_a);f=(f*e-a._x0*a._l12_2a+a._x2*a._l01_2a)/k;g=(g*e-a._y0*a._l12_2a+a._y2*a._l01_2a)/k}1E-12<a._l23_a&&(e=2*a._l23_2a+3*a._l23_a*a._l12_a+a._l12_2a,k=3*a._l23_a*(a._l23_a+a._l12_a),d=(d*e+a._x1*a._l23_2a-b*a._l12_2a)/k,q=(q*e+a._y1*a._l23_2a-c*a._l12_2a)/k);a._context.bezierCurveTo(f,g,d,q,a._x2,a._y2)}function Xf(a,b){this._context=a;this._alpha=b}function Yf(a,b){this._context=a;this._alpha=
b}function Zf(a,b){this._context=a;this._alpha=b}function $f(a){this._context=a}function ag(a,b,c){var f=a._x1-a._x0;b-=a._x1;var g=(a._y1-a._y0)/(f||0>b&&-0);a=(c-a._y1)/(b||0>f&&-0);return((0>g?-1:1)+(0>a?-1:1))*Math.min(Math.abs(g),Math.abs(a),.5*Math.abs((g*b+a*f)/(f+b)))||0}function bg(a,b){var c=a._x1-a._x0;return c?(3*(a._y1-a._y0)/c-b)/2:b}function rd(a,b,c){var f=a._x0,g=a._x1,d=a._y1,q=(g-f)/3;a._context.bezierCurveTo(f+q,a._y0+q*b,g-q,d-q*c,g,d)}function kc(a){this._context=a}function cg(a){this._context=
new dg(a)}function dg(a){this._context=a}function eg(a){this._context=a}function fg(a){var b,c=a.length-1,f=Array(c),g=Array(c),d=Array(c);f[0]=0;g[0]=2;d[0]=a[0]+2*a[1];for(b=1;b<c-1;++b)f[b]=1,g[b]=4,d[b]=4*a[b]+2*a[b+1];f[c-1]=2;g[c-1]=7;d[c-1]=8*a[c-1]+a[c];for(b=1;b<c;++b){var q=f[b]/g[b-1];g[b]-=q;d[b]-=q*d[b-1]}f[c-1]=d[c-1]/g[c-1];for(b=c-2;0<=b;--b)f[b]=(d[b]-f[b+1])/g[b];g[c-1]=(a[c]+f[c-1])/2;for(b=0;b<c-1;++b)g[b]=2*a[b+1]-f[b+1];return[f,g]}function lc(a,b){this._context=a;this._t=b}
function cb(a,b){if(1<(q=a.length))for(var c=1,f,g,d=a[b[0]],q,e=d.length;c<q;++c)for(g=d,d=a[b[c]],f=0;f<e;++f)d[f][1]+=d[f][0]=isNaN(g[f][1])?g[f][0]:g[f][1]}function db(a){a=a.length;for(var b=Array(a);0<=--a;)b[a]=a;return b}function fk(a,b){return a[b]}function gk(a){var b=[];b.key=a;return b}function gg(a){var b=a.map(hk);return db(a).sort(function(a,f){return b[a]-b[f]})}function hk(a){for(var b=-1,c=0,f=a.length,g,d=-Infinity;++b<f;)(g=+a[b][1])>d&&(d=g,c=b);return c}function hg(a){var b=
a.map(ig);return db(a).sort(function(a,f){return b[a]-b[f]})}function ig(a){for(var b=0,c=-1,f=a.length,g;++c<f;)if(g=+a[c][1])b+=g;return b}function jg(){for(var a=0,b=arguments.length,c={},f;a<b;++a){if(!(f=arguments[a]+"")||f in c||/[\s.]/.test(f))throw Error("illegal type: "+f);c[f]=[]}return new mc(c)}function mc(a){this._=a}function ik(a,b){return a.trim().split(/^|\s+/).map(function(a){var c="",g=a.indexOf(".");0<=g&&(c=a.slice(g+1),a=a.slice(0,g));if(a&&!b.hasOwnProperty(a))throw Error("unknown type: "+
a);return{type:a,name:c}})}function kg(a,b,c){for(var f=0,g=a.length;f<g;++f)if(a[f].name===b){a[f]=jk;a=a.slice(0,f).concat(a.slice(f+1));break}null!=c&&a.push({name:b,value:c});return a}function sd(){return Wa||(lg(kk),Wa=Ab.now()+nc)}function kk(){Wa=0}function oc(){this._call=this._time=this._next=null}function mg(a,b,c){var f=new oc;f.restart(a,b,c);return f}function ng(){Wa=(pc=Ab.now())+nc;eb=Bb=0;try{sd();++eb;for(var a=qc,b;a;)0<=(b=Wa-a._time)&&a._call.call(h,b),a=a._next;--eb}finally{eb=
0;a=qc;for(var c=Infinity;a;)if(a._call){c>a._time&&(c=a._time);var f=a;a=a._next}else b=a._next,a._next=null,a=f?f._next=b:qc=b;Cb=f;td(c);Wa=0}}function lk(){var a=Ab.now(),b=a-pc;1E3<b&&(nc-=b,pc=a)}function td(a){eb||(Bb&&(Bb=clearTimeout(Bb)),24<a-Wa?(Infinity>a&&(Bb=setTimeout(ng,a-Ab.now()-nc)),Db&&(Db=clearInterval(Db))):(Db||(pc=Ab.now(),Db=setInterval(lk,1E3)),eb=1,lg(ng)))}function og(a,b,c){var f=new oc;b=null==b?0:+b;f.restart(function(c){f.stop();a(c+b)},b,c);return f}function rc(a,
b,c,f,g,d){var m=a.__transition;if(!m)a.__transition={};else if(c in m)return;mk(a,c,{name:b,index:f,group:g,on:nk,tween:ok,time:d.time,delay:d.delay,duration:d.duration,ease:d.ease,timer:null,state:0})}function ud(a,b){a=sa(a,b);if(0<a.state)throw Error("too late; already scheduled");return a}function wa(a,b){a=sa(a,b);if(3<a.state)throw Error("too late; already running");return a}function sa(a,b){a=a.__transition;if(!a||!(a=a[b]))throw Error("transition not found");return a}function mk(a,b,c){function f(k){var m,
w;if(1!==c.state)return d();for(h in q){var t=q[h];if(t.name===c.name){if(3===t.state)return og(f);4===t.state?(t.state=6,t.timer.stop(),t.on.call("interrupt",a,a.__data__,t.index,t.group),delete q[h]):+h<b&&(t.state=6,t.timer.stop(),t.on.call("cancel",a,a.__data__,t.index,t.group),delete q[h])}}og(function(){3===c.state&&(c.state=4,c.timer.restart(g,c.delay,c.time),g(k))});c.state=2;c.on.call("start",a,a.__data__,c.index,c.group);if(2===c.state){c.state=3;e=Array(w=c.tween.length);var h=0;for(m=
-1;h<w;++h)if(t=c.tween[h].value.call(a,a.__data__,c.index,c.group))e[++m]=t;e.length=m+1}}function g(b){b=b<c.duration?c.ease.call(null,b/c.duration):(c.timer.restart(d),c.state=5,1);for(var f=-1,g=e.length;++f<g;)e[f].call(a,b);5===c.state&&(c.on.call("end",a,a.__data__,c.index,c.group),d())}function d(){c.state=6;c.timer.stop();delete q[b];for(var f in q)return;delete a.__transition}var q=a.__transition,e;q[b]=c;c.timer=mg(function(a){c.state=1;c.timer.restart(f,c.delay,c.time);c.delay<=a&&f(a-
c.delay)},0,c.time)}function pg(a,b){var c=a.__transition,f,g=!0,d;if(c){b=null==b?null:b+"";for(d in c)if((f=c[d]).name!==b)g=!1;else{var q=2<f.state&&5>f.state;f.state=6;f.timer.stop();f.on.call(q?"interrupt":"cancel",a,a.__data__,f.index,f.group);delete c[d]}g&&delete a.__transition}}function pk(a,b){var c,f;return function(){var g=wa(this,a),d=g.tween;if(d!==c){f=c=d;d=0;for(var q=f.length;d<q;++d)if(f[d].name===b){f=f.slice();f.splice(d,1);break}}g.tween=f}}function qk(a,b,c){var f,g;if("function"!==
typeof c)throw Error();return function(){var d=wa(this,a),q=d.tween;if(q!==f){g=(f=q).slice();q={name:b,value:c};for(var e=0,k=g.length;e<k;++e)if(g[e].name===b){g[e]=q;break}e===k&&g.push(q)}d.tween=g}}function vd(a,b,c){var f=a._id;a.each(function(){var a=wa(this,f);(a.value||(a.value={}))[b]=c.apply(this,arguments)});return function(a){return sa(a,f).value[b]}}function qg(a,b){var c;return("number"===typeof b?ra:b instanceof Oa?Pb:(c=Oa(b))?(b=c,Pb):xe)(a,b)}function rk(a){return function(){this.removeAttribute(a)}}
function sk(a){return function(){this.removeAttributeNS(a.space,a.local)}}function tk(a,b,c){var f,g=c+"",d;return function(){var m=this.getAttribute(a);return m===g?null:m===f?d:d=b(f=m,c)}}function uk(a,b,c){var f,g=c+"",d;return function(){var m=this.getAttributeNS(a.space,a.local);return m===g?null:m===f?d:d=b(f=m,c)}}function vk(a,b,c){var f,g,d;return function(){var m=c(this);if(null==m)return void this.removeAttribute(a);var e=this.getAttribute(a);var k=m+"";return e===k?null:e===f&&k===g?
d:(g=k,d=b(f=e,m))}}function wk(a,b,c){var f,g,d;return function(){var m=c(this);if(null==m)return void this.removeAttributeNS(a.space,a.local);var e=this.getAttributeNS(a.space,a.local);var k=m+"";return e===k?null:e===f&&k===g?d:(g=k,d=b(f=e,m))}}function xk(a,b){return function(c){this.setAttribute(a,b.call(this,c))}}function yk(a,b){return function(c){this.setAttributeNS(a.space,a.local,b.call(this,c))}}function zk(a,b){function c(){var c=b.apply(this,arguments);c!==g&&(f=(g=c)&&yk(a,c));return f}
var f,g;c._value=b;return c}function Ak(a,b){function c(){var c=b.apply(this,arguments);c!==g&&(f=(g=c)&&xk(a,c));return f}var f,g;c._value=b;return c}function Bk(a,b){return function(){ud(this,a).delay=+b.apply(this,arguments)}}function Ck(a,b){return b=+b,function(){ud(this,a).delay=b}}function Dk(a,b){return function(){wa(this,a).duration=+b.apply(this,arguments)}}function Ek(a,b){return b=+b,function(){wa(this,a).duration=b}}function Fk(a,b){if("function"!==typeof b)throw Error();return function(){wa(this,
a).ease=b}}function Gk(a,b){return function(){var c=b.apply(this,arguments);if("function"!==typeof c)throw Error();wa(this,a).ease=c}}function Hk(a){return(a+"").trim().split(/^|\s+/).every(function(a){var b=a.indexOf(".");0<=b&&(a=a.slice(0,b));return!a||"start"===a})}function Ik(a,b,c){var f,g,d=Hk(b)?ud:wa;return function(){var m=d(this,a),e=m.on;if(e!==f)(g=(f=e).copy()).on(b,c);m.on=g}}function Jk(a){return function(){var b=this.parentNode,c;for(c in this.__transition)if(+c!==a)return;b&&b.removeChild(this)}}
function Kk(a,b){var c,f,g;return function(){var d=Ua(this,a),e=(this.style.removeProperty(a),Ua(this,a));return d===e?null:d===c&&e===f?g:g=b(c=d,f=e)}}function rg(a){return function(){this.style.removeProperty(a)}}function Lk(a,b,c){var f,g=c+"",d;return function(){var m=Ua(this,a);return m===g?null:m===f?d:d=b(f=m,c)}}function Mk(a,b,c){var f,g,d;return function(){var m=Ua(this,a),e=c(this),k=e+"";null==e&&(k=e=(this.style.removeProperty(a),Ua(this,a)));return m===k?null:m===f&&k===g?d:(g=k,d=
b(f=m,e))}}function Nk(a,b){var c,f,g,d="style."+b,e="end."+d,l;return function(){var k=wa(this,a),m=k.on,q=null==k.value[d]?l||(l=rg(b)):h;if(m!==c||g!==q)(f=(c=m).copy()).on(e,g=q);k.on=f}}function Ok(a,b,c){return function(f){this.style.setProperty(a,b.call(this,f),c)}}function Pk(a,b,c){function f(){var f=b.apply(this,arguments);f!==d&&(g=(d=f)&&Ok(a,f,c));return g}var g,d;f._value=b;return f}function Qk(a){return function(){this.textContent=a}}function Rk(a){return function(){var b=a(this);this.textContent=
null==b?"":b}}function Sk(a){return function(b){this.textContent=a.call(this,b)}}function Tk(a){function b(){var b=a.apply(this,arguments);b!==f&&(c=(f=b)&&Sk(b));return c}var c,f;b._value=a;return b}function xa(a,b,c,f){this._groups=a;this._parents=b;this._name=c;this._id=f}function sg(a){return Va().transition(a)}var Ug=ca().mark(L),Zg=ca().mark(ee),Oj=ca().mark(Ef),tg=y(e),ug=tg.right,Uk=tg.left,Vk=y(I).center,La=ug,Wk=S(wc),Xk=S(function(a){var b=wc(a);return function(a,f,g,d,e){g<<=2;d<<=2;e<<=
2;b(a,f,g+0,d+0,e);b(a,f,g+1,d+1,e);b(a,f,g+2,d+2,e);b(a,f,g+3,d+3,e)}}),wd=function(){function a(){ia(this,a);this._partials=new Float64Array(32);this._n=0}return M(a,[{key:"add",value:function(a){for(var b=this._partials,f=0,g=0;g<this._n&&32>g;g++){var d=b[g],e=a+d;(a=Math.abs(a)<Math.abs(d)?a-(e-d):d-(e-a))&&(b[f++]=a);a=e}b[f]=a;this._n=f+1;return this}},{key:"valueOf",value:function(){var a=this._partials,c=this._n,f=0;if(0<c){for(f=a[--c];0<c;){var g=f;var d=a[--c];f=g+d;if(g=d-(f-g))break}0<
c&&(0>g&&0>a[c-1]||0<g&&0<a[c-1])&&(d=2*g,g=f+d,d==g-f&&(f=g))}return f}}])}(),lb=function(a){function b(a){var c=1<arguments.length&&arguments[1]!==h?arguments[1]:Md;ia(this,b);var g=C(this,b);Object.defineProperties(g,{_intern:{value:new Map},_key:{value:c}});if(null!=a){c=B(a);var d;try{for(c.s();!(d=c.n()).done;){var e=r(d.value,2);g.set(e[0],e[1])}}catch(z){c.e(z)}finally{c.f()}}return g}D(b,a);return M(b,[{key:"get",value:function(a){return N(b,"get",this,3)([zc(this,a)])}},{key:"has",value:function(a){return N(b,
"has",this,3)([zc(this,a)])}},{key:"set",value:function(a,f){return N(b,"set",this,3)([Qd(this,a),f])}},{key:"delete",value:function(a){return N(b,"delete",this,3)([Rd(this,a)])}}])}(O(Map)),Ma=function(a){function b(a){var c=1<arguments.length&&arguments[1]!==h?arguments[1]:Md;ia(this,b);var g=C(this,b);Object.defineProperties(g,{_intern:{value:new Map},_key:{value:c}});if(null!=a){c=B(a);var d;try{for(c.s();!(d=c.n()).done;)g.add(d.value)}catch(q){c.e(q)}finally{c.f()}}return g}D(b,a);return M(b,
[{key:"has",value:function(a){return N(b,"has",this,3)([zc(this,a)])}},{key:"add",value:function(a){return N(b,"add",this,3)([Qd(this,a)])}},{key:"delete",value:function(a){return N(b,"delete",this,3)([Rd(this,a)])}}])}(O(Set)),Yg=Array.prototype.slice,Vg=Math.sqrt(50),Wg=Math.sqrt(10),Xg=Math.sqrt(2),Yk=he(Math.random),Ec=Symbol("implicit"),sc=1/.7,jh=/^#([0-9a-f]{3,8})$/,kh=new RegExp("^rgb\\(".concat("\\s*([+-]?\\d+)\\s*",",").concat("\\s*([+-]?\\d+)\\s*",",").concat("\\s*([+-]?\\d+)\\s*","\\)$")),
lh=new RegExp("^rgb\\(".concat("\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",",").concat("\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",",").concat("\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*","\\)$")),mh=new RegExp("^rgba\\(".concat("\\s*([+-]?\\d+)\\s*",",").concat("\\s*([+-]?\\d+)\\s*",",").concat("\\s*([+-]?\\d+)\\s*",",").concat("\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*","\\)$")),nh=new RegExp("^rgba\\(".concat("\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",
",").concat("\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",",").concat("\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",",").concat("\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*","\\)$")),oh=new RegExp("^hsl\\(".concat("\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",",").concat("\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",",").concat("\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*","\\)$")),ph=new RegExp("^hsla\\(".concat("\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",
",").concat("\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",",").concat("\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",",").concat("\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*","\\)$")),re={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,
cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,
floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,
lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,
moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,
sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Gc(pb,Oa,{copy:function(a){return l(new this.constructor,this,a)},displayable:function(){return this.rgb().displayable()},hex:ne,formatHex:ne,formatHex8:function(){return this.rgb().formatHex8()},
formatHsl:function(){return ue(this).formatHsl()},formatRgb:oe,toString:oe});Gc(ja,Hc,me(pb,{brighter:function(a){a=null==a?sc:Math.pow(sc,a);return new ja(this.r*a,this.g*a,this.b*a,this.opacity)},darker:function(a){a=null==a?.7:Math.pow(.7,a);return new ja(this.r*a,this.g*a,this.b*a,this.opacity)},rgb:function(){return this},clamp:function(){return new ja(Qa(this.r),Qa(this.g),Qa(this.b),Nb(this.opacity))},displayable:function(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&
255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:se,formatHex:se,formatHex8:function(){return"#".concat(Pa(this.r)).concat(Pa(this.g)).concat(Pa(this.b)).concat(Pa(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:te,toString:te}));Gc(qa,function(a,b,c,f){return 1===arguments.length?ue(a):new qa(a,b,c,null==f?1:f)},me(pb,{brighter:function(a){a=null==a?sc:Math.pow(sc,a);return new qa(this.h,this.s,this.l*a,this.opacity)},darker:function(a){a=null==a?.7:Math.pow(.7,a);return new qa(this.h,this.s,
this.l*a,this.opacity)},rgb:function(){var a=this.h%360+360*(0>this.h),b=isNaN(a)||isNaN(this.s)?0:this.s,c=this.l;b=c+(.5>c?c:1-c)*b;c=2*c-b;return new ja(Ic(240<=a?a-240:a+120,c,b),Ic(a,c,b),Ic(120>a?a+240:a-120,c,b),this.opacity)},clamp:function(){return new qa(ve(this.h),Ob(this.s),Ob(this.l),Nb(this.opacity))},displayable:function(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl:function(){var a=Nb(this.opacity);return"".concat(1===
a?"hsl(":"hsla(").concat(ve(this.h),", ").concat(100*Ob(this.s),"%, ").concat(100*Ob(this.l),"%").concat(1===a?")":", ".concat(a,")"))}}));var Jc=function(a){return function(){return a}},Pb=function c(b){function f(b,c){var f=g((b=Hc(b)).r,(c=Hc(c)).r),k=g(b.g,c.g),d=g(b.b,c.b),m=we(b.opacity,c.opacity);return function(c){b.r=f(c);b.g=k(c);b.b=d(c);b.opacity=m(c);return b+""}}var g=sh(b);f.gamma=c;return f}(1),Kc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Lc=new RegExp(Kc.source,"g"),ze=180/Math.PI,
xd={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},tc,Zk=Ae(function(b){b=new ("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(b+"");return b.isIdentity?xd:ye(b.a,b.b,b.c,b.d,b.e,b.f)},"px, ","px)","deg)"),$k=Ae(function(b){if(null==b)return xd;tc||(tc=document.createElementNS("http://www.w3.org/2000/svg","g"));tc.setAttribute("transform",b);if(!(b=tc.transform.baseVal.consolidate()))return xd;b=b.matrix;return ye(b.a,b.b,b.c,b.d,b.e,b.f)},", ",")",")"),Be=[0,1],Gh=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;
rb.prototype=Oc.prototype;Oc.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===h?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===h?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};var Fe,Ge={"%":function(b,c){return(100*b).toFixed(c)},b:function(b){return Math.round(b).toString(2)},c:function(b){return b+""},d:function(b){return 1E21<=Math.abs(b=Math.round(b))?b.toLocaleString("en").replace(/,/g,""):
b.toString(10)},e:function(b,c){return b.toExponential(c)},f:function(b,c){return b.toFixed(c)},g:function(b,c){return b.toPrecision(c)},o:function(b){return Math.round(b).toString(8)},p:function(b,c){return Ce(100*b,c)},r:Ce,s:function(b,c){var f=Rb(b,c);if(!f)return b+"";var g=f[0];f=f[1];f=f-(Fe=3*Math.max(-8,Math.min(8,Math.floor(f/3))))+1;var d=g.length;return f===d?g:f>d?g+Array(f-d+1).join("0"):0<f?g.slice(0,f)+"."+g.slice(f):"0."+Array(1-f).join("0")+Rb(b,Math.max(0,c+f-1))[0]},X:function(b){return Math.round(b).toString(16).toUpperCase()},
x:function(b){return Math.round(b).toString(16)}},He=Array.prototype.map,Ee="y z a f p n Âµ m  k M G T P E Z Y".split(" "),uc,Pc,Je;(function(b){uc=Hh(b);Pc=uc.format;Je=uc.formatPrefix;return uc})({thousands:",",grouping:[3],currency:["$",""]});var Uc=new Date,Vc=new Date,Sb=Z(function(){},function(b,c){b.setTime(+b+c)},function(b,c){return c-b});Sb.every=function(b){b=Math.floor(b);return isFinite(b)&&0<b?1<b?Z(function(c){c.setTime(Math.floor(c/b)*b)},function(c,f){c.setTime(+c+f*b)},function(c,
f){return(f-c)/b}):Sb:null};Sb.range;var Wc=6048E5,af=2592E6,Xc=31536E6,Ta=Z(function(b){b.setTime(b-b.getMilliseconds())},function(b,c){b.setTime(+b+1E3*c)},function(b,c){return(c-b)/1E3},function(b){return b.getUTCSeconds()});Ta.range;var yd=Z(function(b){b.setTime(b-b.getMilliseconds()-1E3*b.getSeconds())},function(b,c){b.setTime(+b+6E4*c)},function(b,c){return(c-b)/6E4},function(b){return b.getMinutes()});yd.range;var zd=Z(function(b){b.setUTCSeconds(0,0)},function(b,c){b.setTime(+b+6E4*c)},function(b,
c){return(c-b)/6E4},function(b){return b.getUTCMinutes()});zd.range;var Ad=Z(function(b){b.setTime(b-b.getMilliseconds()-1E3*b.getSeconds()-6E4*b.getMinutes())},function(b,c){b.setTime(+b+36E5*c)},function(b,c){return(c-b)/36E5},function(b){return b.getHours()});Ad.range;var Bd=Z(function(b){b.setUTCMinutes(0,0,0)},function(b,c){b.setTime(+b+36E5*c)},function(b,c){return(c-b)/36E5},function(b){return b.getUTCHours()});Bd.range;var tb=Z(function(b){return b.setHours(0,0,0,0)},function(b,c){return b.setDate(b.getDate()+
c)},function(b,c){return(c-b-6E4*(c.getTimezoneOffset()-b.getTimezoneOffset()))/864E5},function(b){return b.getDate()-1});tb.range;var Ub=Z(function(b){b.setUTCHours(0,0,0,0)},function(b,c){b.setUTCDate(b.getUTCDate()+c)},function(b,c){return(c-b)/864E5},function(b){return b.getUTCDate()-1});Ub.range;var vg=Z(function(b){b.setUTCHours(0,0,0,0)},function(b,c){b.setUTCDate(b.getUTCDate()+c)},function(b,c){return(c-b)/864E5},function(b){return Math.floor(b/864E5)});vg.range;var Wb=Ra(0),Vb=Ra(1),al=
Ra(2),bl=Ra(3),ab=Ra(4),cl=Ra(5),dl=Ra(6);Wb.range;Vb.range;al.range;bl.range;ab.range;cl.range;dl.range;var Xb=Sa(0),Tb=Sa(1),el=Sa(2),fl=Sa(3),bb=Sa(4),gl=Sa(5),hl=Sa(6);Xb.range;Tb.range;el.range;fl.range;bb.range;gl.range;hl.range;var Cd=Z(function(b){b.setDate(1);b.setHours(0,0,0,0)},function(b,c){b.setMonth(b.getMonth()+c)},function(b,c){return c.getMonth()-b.getMonth()+12*(c.getFullYear()-b.getFullYear())},function(b){return b.getMonth()});Cd.range;var Dd=Z(function(b){b.setUTCDate(1);b.setUTCHours(0,
0,0,0)},function(b,c){b.setUTCMonth(b.getUTCMonth()+c)},function(b,c){return c.getUTCMonth()-b.getUTCMonth()+12*(c.getUTCFullYear()-b.getUTCFullYear())},function(b){return b.getUTCMonth()});Dd.range;var za=Z(function(b){b.setMonth(0,1);b.setHours(0,0,0,0)},function(b,c){b.setFullYear(b.getFullYear()+c)},function(b,c){return c.getFullYear()-b.getFullYear()},function(b){return b.getFullYear()});za.every=function(b){return isFinite(b=Math.floor(b))&&0<b?Z(function(c){c.setFullYear(Math.floor(c.getFullYear()/
b)*b);c.setMonth(0,1);c.setHours(0,0,0,0)},function(c,f){c.setFullYear(c.getFullYear()+f*b)}):null};za.range;var Aa=Z(function(b){b.setUTCMonth(0,1);b.setUTCHours(0,0,0,0)},function(b,c){b.setUTCFullYear(b.getUTCFullYear()+c)},function(b,c){return c.getUTCFullYear()-b.getUTCFullYear()},function(b){return b.getUTCFullYear()});Aa.every=function(b){return isFinite(b=Math.floor(b))&&0<b?Z(function(c){c.setUTCFullYear(Math.floor(c.getUTCFullYear()/b)*b);c.setUTCMonth(0,1);c.setUTCHours(0,0,0,0)},function(c,
f){c.setUTCFullYear(c.getUTCFullYear()+f*b)}):null};Aa.range;var il=$e(Aa,Dd,Xb,vg,Bd,zd),wg=r(il,2),jl=wg[0],kl=wg[1],ll=$e(za,Cd,Wb,tb,Ad,yd),xg=r(ll,2),ml=xg[0],nl=xg[1],bf={"-":"",_:" ",0:"0"},aa=/^\s*\d+/,Pi=/^%/,Oi=/[\\^$*+?|[\]().{}]/g,fb,yg,zg;(function(b){fb=Ph(b);yg=fb.format;fb.parse;zg=fb.utcFormat;fb.utcParse;return fb})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),
months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});var cd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Yi=Array.prototype.find,bj=Array.prototype.filter;bc.prototype={constructor:bc,appendChild:function(b){return this._parent.insertBefore(b,
this._next)},insertBefore:function(b,c){return this._parent.insertBefore(b,c)},querySelector:function(b){return this._parent.querySelector(b)},querySelectorAll:function(b){return this._parent.querySelectorAll(b)}};Af.prototype={add:function(b){0>this._names.indexOf(b)&&(this._names.push(b),this._node.setAttribute("class",this._names.join(" ")))},remove:function(b){b=this._names.indexOf(b);0<=b&&(this._names.splice(b,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(b){return 0<=
this._names.indexOf(b)}};var hd=[null];ha.prototype=Va.prototype=n({constructor:ha,select:function(b){"function"!==typeof b&&(b=ac(b));for(var c=this._groups,f=c.length,g=Array(f),d=0;d<f;++d)for(var e=c[d],h=e.length,k=g[d]=Array(h),p,w,t=0;t<h;++t)(p=e[t])&&(w=b.call(p,p.__data__,t,e))&&("__data__"in p&&(w.__data__=p.__data__),k[t]=w);return new ha(g,this._parents)},selectAll:function(b){b="function"===typeof b?Wi(b):dd(b);for(var c=this._groups,f=c.length,g=[],d=[],e=0;e<f;++e)for(var h=c[e],k=
h.length,p,w=0;w<k;++w)if(p=h[w])g.push(b.call(p,p.__data__,w,h)),d.push(p);return new ha(g,d)},selectChild:function(b){return this.select(null==b?Zi:Xi("function"===typeof b?b:yf(b)))},selectChildren:function(b){return this.selectAll(null==b?$i:aj("function"===typeof b?b:yf(b)))},filter:function(b){"function"!==typeof b&&(b=ed(b));for(var c=this._groups,f=c.length,g=Array(f),d=0;d<f;++d)for(var e=c[d],h=e.length,k=g[d]=[],p,w=0;w<h;++w)(p=e[w])&&b.call(p,p.__data__,w,e)&&k.push(p);return new ha(g,
this._parents)},data:function(b,c){if(!arguments.length)return Array.from(this,fj);var f=c?ej:dj,g=this._parents,d=this._groups;"function"!==typeof b&&(b=cj(b));for(var e=d.length,h=Array(e),k=Array(e),p=Array(e),w=0;w<e;++w){var t=g[w],H=d[w],A=H.length,l=b.call(t,t&&t.__data__,w,g);var n="object"===W(l)&&"length"in l?l:Array.from(l);l=n.length;var u=k[w]=Array(l),r=h[w]=Array(l);A=p[w]=Array(A);f(t,H,u,r,A,n,c);for(H=t=0;t<l;++t)if(A=u[t]){for(t>=H&&(H=t+1);!(n=r[H])&&++H<l;);A._next=n||null}}h=
new ha(h,g);h._enter=k;h._exit=p;return h},enter:function(){return new ha(this._enter||this._groups.map(zf),this._parents)},exit:function(){return new ha(this._exit||this._groups.map(zf),this._parents)},join:function(b,c,f){var g=this.enter(),d=this,e=this.exit();"function"===typeof b?(g=b(g))&&(g=g.selection()):g=g.append(b+"");null!=c&&(d=c(d))&&(d=d.selection());null==f?e.remove():f(e);return g&&d?g.merge(d).order():d},merge:function(b){var c=b.selection?b.selection():b;b=this._groups;c=c._groups;
for(var f=b.length,g=Math.min(f,c.length),d=Array(f),e=0;e<g;++e)for(var h=b[e],k=c[e],p=h.length,w=d[e]=Array(p),t,H=0;H<p;++H)if(t=h[H]||k[H])w[H]=t;for(;e<f;++e)d[e]=b[e];return new ha(d,this._parents)},selection:function(){return this},order:function(){for(var b=this._groups,c=-1,f=b.length;++c<f;)for(var g=b[c],d=g.length-1,e=g[d],h;0<=--d;)if(h=g[d])e&&h.compareDocumentPosition(e)^4&&e.parentNode.insertBefore(h,e),e=h;return this},sort:function(b){function c(c,f){return c&&f?b(c.__data__,f.__data__):
!c-!f}b||(b=gj);for(var f=this._groups,g=f.length,d=Array(g),e=0;e<g;++e){for(var h=f[e],k=h.length,p=d[e]=Array(k),w,t=0;t<k;++t)if(w=h[t])p[t]=w;p.sort(c)}return(new ha(d,this._parents)).order()},call:function(){var b=arguments[0];arguments[0]=this;b.apply(null,arguments);return this},nodes:function(){return Array.from(this)},node:function(){for(var b=this._groups,c=0,f=b.length;c<f;++c)for(var g=b[c],d=0,e=g.length;d<e;++d){var h=g[d];if(h)return h}return null},size:function(){var b=0,c=B(this);
try{for(c.s();!c.n().done;)++b}catch(f){c.e(f)}finally{c.f()}return b},empty:function(){return!this.node()},each:function(b){for(var c=this._groups,f=0,g=c.length;f<g;++f)for(var d=c[f],e=0,h=d.length,k;e<h;++e)(k=d[e])&&b.call(k,k.__data__,e,d);return this},attr:function(b,c){var f=wb(b);if(2>arguments.length){var g=this.node();return f.local?g.getAttributeNS(f.space,f.local):g.getAttribute(f)}return this.each((null==c?f.local?ij:hj:"function"===typeof c?f.local?mj:lj:f.local?kj:jj)(f,c))},style:function(b,
c,f){return 1<arguments.length?this.each((null==c?nj:"function"===typeof c?pj:oj)(b,c,null==f?"":f)):Ua(this.node(),b)},property:function(b,c){return 1<arguments.length?this.each((null==c?qj:"function"===typeof c?sj:rj)(b,c)):this.node()[b]},classed:function(b,c){var f=(b+"").trim().split(/^|\s+/);if(2>arguments.length){for(var g=gd(this.node()),d=-1,e=f.length;++d<e;)if(!g.contains(f[d]))return!1;return!0}return this.each(("function"===typeof c?vj:c?tj:uj)(f,c))},text:function(b){return arguments.length?
this.each(null==b?wj:("function"===typeof b?yj:xj)(b)):this.node().textContent},html:function(b){return arguments.length?this.each(null==b?zj:("function"===typeof b?Bj:Aj)(b)):this.node().innerHTML},raise:function(){return this.each(Cj)},lower:function(){return this.each(Dj)},append:function(b){var c="function"===typeof b?b:$b(b);return this.select(function(){return this.appendChild(c.apply(this,arguments))})},insert:function(b,c){var f="function"===typeof b?b:$b(b),g=null==c?Ej:"function"===typeof c?
c:ac(c);return this.select(function(){return this.insertBefore(f.apply(this,arguments),g.apply(this,arguments)||null)})},remove:function(){return this.each(Fj)},clone:function(b){return this.select(b?Hj:Gj)},datum:function(b){return arguments.length?this.property("__data__",b):this.node().__data__},on:function(b,c,f){var g=Jj(b+""),d=g.length,e;if(2>arguments.length){var h=this.node().__on;if(h)for(var k=0,p=h.length,w;k<p;++k){var t=0;for(w=h[k];t<d;++t)if((e=g[t]).type===w.type&&e.name===w.name)return w.value}}else{h=
c?Lj:Kj;for(t=0;t<d;++t)this.each(h(g[t],c,f));return this}},dispatch:function(b,c){return this.each(("function"===typeof c?Nj:Mj)(b,c))}},Symbol.iterator,Ef);var Pj=0;id.prototype=Gf.prototype={constructor:id,get:function(b){for(var c=this._;!(c in b);)if(!(b=b.parentNode))return;return b[c]},set:function(b,c){return b[this._]=c},remove:function(b){return this._ in b&&delete b[this._]},toString:function(){return this._}};var Ag=Math.abs,ea=Math.atan2,Ba=Math.cos,Xj=Math.max,gb=Math.min,ka=Math.sin,
U=Math.sqrt,Ia=Math.PI,cc=Ia/2,Ja=2*Ia,Ed=Math.PI,Fd=2*Ed,ol=Fd-1E-6,Rj=function(){function b(c){ia(this,b);this._x0=this._y0=this._x1=this._y1=null;this._="";this._append=null==c?Kf:Qj(c)}return M(b,[{key:"moveTo",value:function(b,f){this._append(x||(x=v(["M",",",""])),this._x0=this._x1=+b,this._y0=this._y1=+f)}},{key:"closePath",value:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(F||(F=v(["Z"]))))}},{key:"lineTo",value:function(b,f){this._append(Q||(Q=v(["L",",",
""])),this._x1=+b,this._y1=+f)}},{key:"quadraticCurveTo",value:function(b,f,g,d){this._append(fa||(fa=v(["Q",",",",",",",""])),+b,+f,this._x1=+g,this._y1=+d)}},{key:"bezierCurveTo",value:function(b,f,g,d,e,h){this._append(la||(la=v("C , , , , , ".split(" "))),+b,+f,+g,+d,this._x1=+e,this._y1=+h)}},{key:"arcTo",value:function(b,f,g,d,e){b=+b;f=+f;g=+g;d=+d;e=+e;if(0>e)throw Error("negative radius: ".concat(e));var c=this._x1,k=this._y1,p=g-b,m=d-f,t=c-b,h=k-f,q=t*t+h*h;if(null===this._x1)this._append(J||
(J=v(["M",",",""])),this._x1=b,this._y1=f);else if(1E-6<q)if(1E-6<Math.abs(h*p-m*t)&&e){g-=c;d-=k;var l=p*p+m*m;k=Math.sqrt(l);c=Math.sqrt(q);q=e*Math.tan((Ed-Math.acos((l+q-(g*g+d*d))/(2*k*c)))/2);c=q/c;q/=k;1E-6<Math.abs(c-1)&&this._append(Hb||(Hb=v(["L",",",""])),b+c*t,f+c*h);this._append(Ud||(Ud=v("A , ,0,0, , , ".split(" "))),e,e,+(h*g>t*d),this._x1=b+q*p,this._y1=f+q*m)}else this._append(jb||(jb=v(["L",",",""])),this._x1=b,this._y1=f)}},{key:"arc",value:function(b,f,g,d,e,h){b=+b;f=+f;g=+g;
h=!!h;if(0>g)throw Error("negative radius: ".concat(g));var c=g*Math.cos(d),p=g*Math.sin(d),m=b+c,t=f+p,q=1^h;d=h?d-e:e-d;null===this._x1?this._append(kb||(kb=v(["M",",",""])),m,t):(1E-6<Math.abs(this._x1-m)||1E-6<Math.abs(this._y1-t))&&this._append(Vd||(Vd=v(["L",",",""])),m,t);g&&(0>d&&(d=d%Fd+Fd),d>ol?this._append(Wd||(Wd=v("A , ,0,1, , , A , ,0,1, , , ".split(" "))),g,g,q,b-c,f-p,g,g,q,this._x1=m,this._y1=t):1E-6<d&&this._append(Xd||(Xd=v("A , ,0, , , , ".split(" "))),g,g,+(d>=Ed),q,this._x1=
b+g*Math.cos(e),this._y1=f+g*Math.sin(e)))}},{key:"rect",value:function(b,f,g,d){this._append(Yd||(Yd=v("M,hvhZ".split(""))),this._x0=this._x1=+b,this._y0=this._y1=+f,g=+g,+d,-g)}},{key:"toString",value:function(){return this._}}])}(),ek=Array.prototype.slice;Lf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(b,
c){b=+b;c=+c;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(b,c):this._context.moveTo(b,c);break;case 1:this._point=2;default:this._context.lineTo(b,c)}}};var Pf=md(fc);Nf.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(b,c){this._curve.point(c*Math.sin(b),c*-Math.cos(b))}};var Sf=function(){function b(c,f){ia(this,b);this._context=
c;this._x=f}return M(b,[{key:"areaStart",value:function(){this._line=0}},{key:"areaEnd",value:function(){this._line=NaN}},{key:"lineStart",value:function(){this._point=0}},{key:"lineEnd",value:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line}},{key:"point",value:function(b,f){b=+b;f=+f;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(b,f):this._context.moveTo(b,f);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=
(this._x0+b)/2,this._y0,this._x0,f,b,f):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+f)/2,b,this._y0,b,f)}this._x0=b;this._y0=f}}])}(),bk=function(){function b(c){ia(this,b);this._context=c}return M(b,[{key:"lineStart",value:function(){this._point=0}},{key:"lineEnd",value:function(){}},{key:"point",value:function(b,f){b=+b;f=+f;if(0===this._point)this._point=1;else{var c,d,e=zb(this._x0,this._y0),h=zb(this._x0,this._y0=(this._y0+f)/2),k=zb(b,this._y0),p=zb(b,f);(c=this._context).moveTo.apply(c,
Da(e));(d=this._context).bezierCurveTo.apply(d,Da(h).concat(Da(k),Da(p)))}this._x0=b;this._y0=f}}])}(),pl=U(3),Bg={draw:function(b,c){c=.59436*U(c+gb(c/28,.75));var f=c/2,g=f*pl;b.moveTo(0,c);b.lineTo(0,-c);b.moveTo(-g,-f);b.lineTo(g,f);b.moveTo(-g,f);b.lineTo(g,-f)}},vc={draw:function(b,c){c=U(c/Ia);b.moveTo(c,0);b.arc(0,0,c,0,Ja)}},Cg={draw:function(b,c){c=U(c/5)/2;b.moveTo(-3*c,-c);b.lineTo(-c,-c);b.lineTo(-c,-3*c);b.lineTo(c,-3*c);b.lineTo(c,-c);b.lineTo(3*c,-c);b.lineTo(3*c,c);b.lineTo(c,c);
b.lineTo(c,3*c);b.lineTo(-c,3*c);b.lineTo(-c,c);b.lineTo(-3*c,c);b.closePath()}},Dg=U(1/3),ql=2*Dg,Eg={draw:function(b,c){c=U(c/ql);var f=c*Dg;b.moveTo(0,-c);b.lineTo(f,0);b.lineTo(0,c);b.lineTo(-f,0);b.closePath()}},Fg={draw:function(b,c){c=.62625*U(c);b.moveTo(0,-c);b.lineTo(c,0);b.lineTo(0,c);b.lineTo(-c,0);b.closePath()}},Gg={draw:function(b,c){c=.87559*U(c-gb(c/7,2));b.moveTo(-c,0);b.lineTo(c,0);b.moveTo(0,c);b.lineTo(0,-c)}},Hg={draw:function(b,c){c=U(c);var f=-c/2;b.rect(f,f,c,c)}},Ig={draw:function(b,
c){c=.4431*U(c);b.moveTo(c,c);b.lineTo(c,-c);b.lineTo(-c,-c);b.lineTo(-c,c);b.closePath()}},Jg=ka(Ia/10)/ka(7*Ia/10),rl=ka(Ja/10)*Jg,sl=-Ba(Ja/10)*Jg,Kg={draw:function(b,c){c=U(.8908130915292852*c);var f=rl*c,g=sl*c;b.moveTo(0,-c);b.lineTo(f,g);for(var d=1;5>d;++d){var e=Ja*d/5,h=Ba(e);e=ka(e);b.lineTo(e*c,-h*c);b.lineTo(h*f-e*g,e*f+h*g)}b.closePath()}},Gd=U(3),Lg={draw:function(b,c){c=-U(c/(3*Gd));b.moveTo(0,2*c);b.lineTo(-Gd*c,-c);b.lineTo(Gd*c,-c);b.closePath()}},tl=U(3),Mg={draw:function(b,c){c=
.6824*U(c);var f=c/2,g=c*tl/2;b.moveTo(0,-c);b.lineTo(g,f);b.lineTo(-g,f);b.closePath()}},oa=U(3)/2,Hd=1/U(12),ul=3*(Hd/2+1),Ng={draw:function(b,c){var f=U(c/ul);c=f/2;var g=f*Hd;f=f*Hd+f;var d=-c;b.moveTo(c,g);b.lineTo(c,f);b.lineTo(d,f);b.lineTo(-.5*c-oa*g,oa*c+-.5*g);b.lineTo(-.5*c-oa*f,oa*c+-.5*f);b.lineTo(-.5*d-oa*f,oa*d+-.5*f);b.lineTo(-.5*c+oa*g,-.5*g-oa*c);b.lineTo(-.5*c+oa*f,-.5*f-oa*c);b.lineTo(-.5*d+oa*f,-.5*f-oa*d);b.closePath()}},Id={draw:function(b,c){c=.6189*U(c-gb(c/6,1.7));b.moveTo(-c,
-c);b.lineTo(c,c);b.moveTo(-c,c);b.lineTo(c,-c)}},Og=[vc,Cg,Eg,Hg,Kg,Lg,Ng],vl=[vc,Gg,Id,Mg,Bg,Ig,Fg];ic.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){switch(this._point){case 3:hc(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(b,c){b=
+b;c=+c;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(b,c):this._context.moveTo(b,c);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:hc(this,b,c)}this._x0=this._x1;this._x1=b;this._y0=this._y1;this._y1=c}};Uf.prototype={areaStart:Ha,areaEnd:Ha,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,
this._y2);this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3);this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3);this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(b,c){b=+b;c=+c;switch(this._point){case 0:this._point=1;this._x2=b;this._y2=c;break;case 1:this._point=2;this._x3=b;this._y3=c;break;case 2:this._point=3;this._x4=b;this._y4=
c;this._context.moveTo((this._x0+4*this._x1+b)/6,(this._y0+4*this._y1+c)/6);break;default:hc(this,b,c)}this._x0=this._x1;this._x1=b;this._y0=this._y1;this._y1=c}};Vf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(b,c){b=+b;c=+c;switch(this._point){case 0:this._point=
1;break;case 1:this._point=2;break;case 2:this._point=3;var f=(this._x0+4*this._x1+b)/6,g=(this._y0+4*this._y1+c)/6;this._line?this._context.lineTo(f,g):this._context.moveTo(f,g);break;case 3:this._point=4;default:hc(this,b,c)}this._x0=this._x1;this._x1=b;this._y0=this._y1;this._y1=c}};Wf.prototype={lineStart:function(){this._x=[];this._y=[];this._basis.lineStart()},lineEnd:function(){var b=this._x,c=this._y,f=b.length-1;if(0<f)for(var g=b[0],d=c[0],e=b[f]-g,h=c[f]-d,k=-1,p;++k<=f;)p=k/f,this._basis.point(this._beta*
b[k]+(1-this._beta)*(g+p*e),this._beta*c[k]+(1-this._beta)*(d+p*h));this._x=this._y=null;this._basis.lineEnd()},point:function(b,c){this._x.push(+b);this._y.push(+c)}};var wl=function f(c){function g(f){return 1===c?new ic(f):new Wf(f,c)}g.beta=function(c){return f(+c)};return g}(.85);nd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,
this._y2);break;case 3:jc(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(c,f){c=+c;f=+f;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(c,f):this._context.moveTo(c,f);break;case 1:this._point=2;this._x1=c;this._y1=f;break;case 2:this._point=3;default:jc(this,c,f)}this._x0=this._x1;this._x1=this._x2;this._x2=c;this._y0=this._y1;this._y1=this._y2;this._y2=f}};var xl=function g(f){function d(g){return new nd(g,
f)}d.tension=function(f){return g(+f)};return d}(0);od.prototype={areaStart:Ha,areaEnd:Ha,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),
this.point(this._x5,this._y5)}},point:function(f,g){f=+f;g=+g;switch(this._point){case 0:this._point=1;this._x3=f;this._y3=g;break;case 1:this._point=2;this._context.moveTo(this._x4=f,this._y4=g);break;case 2:this._point=3;this._x5=f;this._y5=g;break;default:jc(this,f,g)}this._x0=this._x1;this._x1=this._x2;this._x2=f;this._y0=this._y1;this._y1=this._y2;this._y2=g}};var yl=function m(g){function d(d){return new od(d,g)}d.tension=function(g){return m(+g)};return d}(0);pd.prototype={areaStart:function(){this._line=
0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(g,d){g=+g;d=+d;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:jc(this,
g,d)}this._x0=this._x1;this._x1=this._x2;this._x2=g;this._y0=this._y1;this._y1=this._y2;this._y2=d}};var zl=function q(d){function e(k){return new pd(k,d)}e.tension=function(d){return q(+d)};return e}(0);Xf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,
this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(d,e){d=+d;e=+e;if(this._point){var m=this._x2-d,k=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(m*m+k*k,this._alpha))}switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(d,e):this._context.moveTo(d,e);break;case 1:this._point=2;break;case 2:this._point=3;default:qd(this,d,e)}this._l01_a=this._l12_a;this._l12_a=
this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=d;this._y0=this._y1;this._y1=this._y2;this._y2=e}};var Al=function z(d){function k(k){return d?new Xf(k,d):new nd(k,0)}k.alpha=function(d){return z(+d)};return k}(.5);Yf.prototype={areaStart:Ha,areaEnd:Ha,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=
this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(d,e){d=+d;e=+e;if(this._point){var k=this._x2-d,p=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(k*k+p*p,this._alpha))}switch(this._point){case 0:this._point=
1;this._x3=d;this._y3=e;break;case 1:this._point=2;this._context.moveTo(this._x4=d,this._y4=e);break;case 2:this._point=3;this._x5=d;this._y5=e;break;default:qd(this,d,e)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=d;this._y0=this._y1;this._y1=this._y2;this._y2=e}};var Bl=function k(d){function e(k){return d?new Yf(k,d):new od(k,0)}e.alpha=function(d){return k(+d)};return e}(.5);Zf.prototype={areaStart:function(){this._line=
0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(d,k){d=+d;k=+k;if(this._point){var e=this._x2-d,w=this._y2-k;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+w*w,this._alpha))}switch(this._point){case 0:this._point=
1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:qd(this,d,k)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=d;this._y0=this._y1;this._y1=this._y2;this._y2=k}};var Cl=function p(d){function k(k){return d?new Zf(k,d):new pd(k,0)}k.alpha=function(d){return p(+d)};return k}(.5);
$f.prototype={areaStart:Ha,areaEnd:Ha,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(d,e){d=+d;e=+e;this._point?this._context.lineTo(d,e):(this._point=1,this._context.moveTo(d,e))}};kc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;
case 3:rd(this,this._t0,bg(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(d,e){var k=NaN;d=+d;e=+e;if(d!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(d,e):this._context.moveTo(d,e);break;case 1:this._point=2;break;case 2:this._point=3;rd(this,bg(this,k=ag(this,d,e)),k);break;default:rd(this,this._t0,k=ag(this,d,e))}this._x0=this._x1;this._x1=d;this._y0=this._y1;this._y1=
e;this._t0=k}}};(cg.prototype=Object.create(kc.prototype)).point=function(d,e){kc.prototype.point.call(this,e,d)};dg.prototype={moveTo:function(d,e){this._context.moveTo(e,d)},closePath:function(){this._context.closePath()},lineTo:function(d,e){this._context.lineTo(e,d)},bezierCurveTo:function(d,e,w,t,h,l){this._context.bezierCurveTo(e,d,t,w,l,h)}};eg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[];this._y=[]},lineEnd:function(){var d=
this._x,e=this._y,w=d.length;if(w)if(this._line?this._context.lineTo(d[0],e[0]):this._context.moveTo(d[0],e[0]),2===w)this._context.lineTo(d[1],e[1]);else for(var t=fg(d),h=fg(e),l=0,n=1;n<w;++l,++n)this._context.bezierCurveTo(t[0][l],h[0][l],t[1][l],h[1][l],d[n],e[n]);(this._line||0!==this._line&&1===w)&&this._context.closePath();this._line=1-this._line;this._x=this._y=null},point:function(d,e){this._x.push(+d);this._y.push(+e)}};lc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=
NaN},lineStart:function(){this._x=this._y=NaN;this._point=0},lineEnd:function(){0<this._t&&1>this._t&&2===this._point&&this._context.lineTo(this._x,this._y);(this._line||0!==this._line&&1===this._point)&&this._context.closePath();0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},point:function(d,e){d=+d;e=+e;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(d,e):this._context.moveTo(d,e);break;case 1:this._point=2;default:if(0>=this._t)this._context.lineTo(this._x,
e),this._context.lineTo(d,e);else{var k=this._x*(1-this._t)+d*this._t;this._context.lineTo(k,this._y);this._context.lineTo(k,e)}}this._x=d;this._y=e}};var jk={value:function(){}};mc.prototype=jg.prototype={constructor:mc,on:function(d,e){var k=this._,p=ik(d+"",k),h,l=-1,n=p.length;if(2>arguments.length)for(;++l<n;){var u;if(u=h=(d=p[l]).type){a:{u=k[h];for(var r=0,F=u.length;r<F;++r)if((h=u[r]).name===d.name){h=h.value;break a}h=void 0}u=h}if(u)return h}else{if(null!=e&&"function"!==typeof e)throw Error("invalid callback: "+
e);for(;++l<n;)if(h=(d=p[l]).type)k[h]=kg(k[h],d.name,e);else if(null==e)for(h in k)k[h]=kg(k[h],d.name,null);return this}},copy:function(){var d={},e=this._,h;for(h in e)d[h]=e[h].slice();return new mc(d)},call:function(d,e){if(0<(h=arguments.length-2))for(var k=Array(h),p=0,h,l;p<h;++p)k[p]=arguments[p+2];if(!this._.hasOwnProperty(d))throw Error("unknown type: "+d);l=this._[d];p=0;for(h=l.length;p<h;++p)l[p].value.apply(e,k)},apply:function(d,e,h){if(!this._.hasOwnProperty(d))throw Error("unknown type: "+
d);d=this._[d];for(var k=0,p=d.length;k<p;++k)d[k].value.apply(e,h)}};var eb=0,Bb=0,Db=0,qc,Cb,pc=0,Wa=0,nc=0,Ab="object"===("undefined"===typeof performance?"undefined":W(performance))&&performance.now?performance:Date,lg="object"===("undefined"===typeof T?"undefined":W(T))&&T.requestAnimationFrame?T.requestAnimationFrame.bind(T):function(d){setTimeout(d,17)};oc.prototype=mg.prototype={constructor:oc,restart:function(d,e,h){if("function"!==typeof d)throw new TypeError("callback is not a function");
h=(null==h?sd():+h)+(null==e?0:+e);this._next||Cb===this||(Cb?Cb._next=this:qc=this,Cb=this);this._call=d;this._time=h;td()},stop:function(){this._call&&(this._call=null,this._time=Infinity,td())}};var nk=jg("start","end","cancel","interrupt"),ok=[],Dl=Va.prototype.constructor,Pg=0,Ca=Va.prototype;xa.prototype=sg.prototype=n({constructor:xa,select:function(d){var k=this._name,e=this._id;"function"!==typeof d&&(d=ac(d));for(var h=this._groups,l=h.length,A=Array(l),n=0;n<l;++n)for(var u=h[n],r=u.length,
F=A[n]=Array(r),v,y,x=0;x<r;++x)(v=u[x])&&(y=d.call(v,v.__data__,x,u))&&("__data__"in v&&(y.__data__=v.__data__),F[x]=y,rc(F[x],k,e,x,F,sa(v,e)));return new xa(A,this._parents,k,e)},selectAll:function(d){var k=this._name,e=this._id;"function"!==typeof d&&(d=dd(d));for(var h=this._groups,l=h.length,A=[],n=[],u=0;u<l;++u)for(var r=h[u],F=r.length,v,y=0;y<F;++y)if(v=r[y]){for(var x=d.call(v,v.__data__,y,r),D,E=sa(v,e),Q=0,C=x.length;Q<C;++Q)(D=x[Q])&&rc(D,k,e,Q,x,E);A.push(x);n.push(v)}return new xa(A,
n,k,e)},selectChild:Ca.selectChild,selectChildren:Ca.selectChildren,filter:function(d){"function"!==typeof d&&(d=ed(d));for(var k=this._groups,e=k.length,h=Array(e),l=0;l<e;++l)for(var A=k[l],n=A.length,u=h[l]=[],r,v=0;v<n;++v)(r=A[v])&&d.call(r,r.__data__,v,A)&&u.push(r);return new xa(h,this._parents,this._name,this._id)},merge:function(d){if(d._id!==this._id)throw Error();var k=this._groups;d=d._groups;for(var e=k.length,h=Math.min(e,d.length),l=Array(e),A=0;A<h;++A)for(var n=k[A],u=d[A],r=n.length,
v=l[A]=Array(r),F,y=0;y<r;++y)if(F=n[y]||u[y])v[y]=F;for(;A<e;++A)l[A]=k[A];return new xa(l,this._parents,this._name,this._id)},selection:function(){return new Dl(this._groups,this._parents)},transition:function(){for(var d=this._name,e=this._id,h=++Pg,t=this._groups,l=t.length,n=0;n<l;++n)for(var u=t[n],r=u.length,v,F=0;F<r;++F)if(v=u[F]){var y=sa(v,e);rc(v,d,h,F,u,{time:y.time+y.delay+y.duration,delay:0,duration:y.duration,ease:y.ease})}return new xa(t,this._parents,d,h)},call:Ca.call,nodes:Ca.nodes,
node:Ca.node,size:Ca.size,empty:Ca.empty,each:Ca.each,on:function(d,e){var k=this._id;return 2>arguments.length?sa(this.node(),k).on.on(d):this.each(Ik(k,d,e))},attr:function(d,e){var k=wb(d),p="transform"===k?$k:qg;return this.attrTween(d,"function"===typeof e?(k.local?wk:vk)(k,p,vd(this,"attr."+d,e)):null==e?(k.local?sk:rk)(k):(k.local?uk:tk)(k,p,e))},attrTween:function(d,e){var k="attr."+d;if(2>arguments.length)return(k=this.tween(k))&&k._value;if(null==e)return this.tween(k,null);if("function"!==
typeof e)throw Error();var p=wb(d);return this.tween(k,(p.local?zk:Ak)(p,e))},style:function(d,e,h){var k="transform"===(d+="")?Zk:qg;return null==e?this.styleTween(d,Kk(d,k)).on("end.style."+d,rg(d)):"function"===typeof e?this.styleTween(d,Mk(d,k,vd(this,"style."+d,e))).each(Nk(this._id,d)):this.styleTween(d,Lk(d,k,e),h).on("end.style."+d,null)},styleTween:function(d,e,h){var k="style."+(d+="");if(2>arguments.length)return(k=this.tween(k))&&k._value;if(null==e)return this.tween(k,null);if("function"!==
typeof e)throw Error();return this.tween(k,Pk(d,e,null==h?"":h))},text:function(d){return this.tween("text","function"===typeof d?Rk(vd(this,"text",d)):Qk(null==d?"":d+""))},textTween:function(d){var k="text";if(1>arguments.length)return(k=this.tween(k))&&k._value;if(null==d)return this.tween(k,null);if("function"!==typeof d)throw Error();return this.tween(k,Tk(d))},remove:function(){return this.on("end.remove",Jk(this._id))},tween:function(d,e){var k=this._id;d+="";if(2>arguments.length){k=sa(this.node(),
k).tween;for(var h=0,p=k.length,l;h<p;++h)if((l=k[h]).name===d)return l.value;return null}return this.each((null==e?pk:qk)(k,d,e))},delay:function(d){var k=this._id;return arguments.length?this.each(("function"===typeof d?Bk:Ck)(k,d)):sa(this.node(),k).delay},duration:function(d){var k=this._id;return arguments.length?this.each(("function"===typeof d?Dk:Ek)(k,d)):sa(this.node(),k).duration},ease:function(d){var k=this._id;return arguments.length?this.each(Fk(k,d)):sa(this.node(),k).ease},easeVarying:function(d){if("function"!==
typeof d)throw Error();return this.each(Gk(this._id,d))},end:function(){var d,e,h=this,t=h._id,l=h.size();return new Promise(function(k,p){var w={value:p},n={value:function(){0===--l&&k()}};h.each(function(){var k=wa(this,t),h=k.on;h!==d&&(e=(d=h).copy(),e._.cancel.push(w),e._.interrupt.push(w),e._.end.push(n));k.on=e});0===l&&k()})}},Symbol.iterator,Ca[Symbol.iterator]);var El={time:null,delay:0,duration:250,ease:function(d){return(1>=(d*=2)?d*d*d:(d-=2)*d*d+2)/2}};Va.prototype.interrupt=function(d){return this.each(function(){pg(this,
d)})};Va.prototype.transition=function(d){var k;if(d instanceof xa){var e=d._id;d=d._name}else e=++Pg,(k=El).time=sd(),d=null==d?null:d+"";for(var h=this._groups,l=h.length,n=0;n<l;++n)for(var u=h[n],r=u.length,v,F=0;F<r;++F)if(v=u[F]){var y=v,x=d,D=e,E=F,Q=u,C;if(!(C=k)){C=void 0;for(var B=e;!(C=v.__transition)||!(C=C[B]);)if(!(v=v.parentNode))throw Error("transition ".concat(B," not found"));}rc(y,x,D,E,Q,C)}return new xa(h,this._parents,d,e)};var Fl=[null];d.Adder=wd;d.InternMap=lb;d.InternSet=
Ma;d.active=function(d,e){var k=d.__transition,h,p;if(k)for(p in e=null==e?null:e+"",k)if(1<(h=k[p]).state&&h.name===e)return new xa([[d]],Fl,e,+p);return null};d.arc=function(){function d(){var d,k=+e.apply(this,arguments),p=+h.apply(this,arguments),w=n.apply(this,arguments)-cc,A=u.apply(this,arguments)-cc,H=Ag(A-w),y=A>w;v||(v=d=F());if(p<k){var da=p;p=k;k=da}if(1E-12<p)if(H>Ja-1E-12)v.moveTo(p*Ba(w),p*ka(w)),v.arc(0,0,p,w,A,!y),1E-12<k&&(v.moveTo(k*Ba(A),k*ka(A)),v.arc(0,0,k,A,w,y));else{var x=
w,R=A;da=w;var D=A,E=H,C=H,Q=r.apply(this,arguments)/2,B=1E-12<Q&&(l?+l.apply(this,arguments):U(k*k+p*p)),X=gb(Ag(p-k)/2,+t.apply(this,arguments)),I=X,J=X;if(1E-12<B){var fa=Jf(B/k*ka(Q));Q=Jf(B/p*ka(Q));1E-12<(E-=2*fa)?(fa*=y?1:-1,da+=fa,D-=fa):(E=0,da=D=(w+A)/2);1E-12<(C-=2*Q)?(Q*=y?1:-1,x+=Q,R-=Q):(C=0,x=R=(w+A)/2)}w=p*Ba(x);A=p*ka(x);fa=k*Ba(D);Q=k*ka(D);if(1E-12<X){var O=p*Ba(R),la=p*ka(R),L=k*Ba(da),K=k*ka(da);if(H<Ia){I=L-w;J=K-A;H=fa-O;B=Q-la;var M=B*I-H*J;1E-12>M*M?I=void 0:(M=(H*(A-la)-
B*(w-O))/M,I=[w+M*I,A+M*J]);I?(J=w-I[0],H=A-I[1],B=O-I[0],M=la-I[1],J=(J*B+H*M)/(U(J*J+H*H)*U(B*B+M*M)),J=1/ka((1<J?0:-1>J?Ia:Math.acos(J))/2),H=U(I[0]*I[0]+I[1]*I[1]),I=gb(X,(k-H)/(J-1)),J=gb(X,(p-H)/(J+1))):I=J=0}}1E-12<C?1E-12<J?(x=dc(L,K,w,A,p,J,y),R=dc(O,la,fa,Q,p,J,y),v.moveTo(x.cx+x.x01,x.cy+x.y01),J<X?v.arc(x.cx,x.cy,J,ea(x.y01,x.x01),ea(R.y01,R.x01),!y):(v.arc(x.cx,x.cy,J,ea(x.y01,x.x01),ea(x.y11,x.x11),!y),v.arc(0,0,p,ea(x.cy+x.y11,x.cx+x.x11),ea(R.cy+R.y11,R.cx+R.x11),!y),v.arc(R.cx,R.cy,
J,ea(R.y11,R.x11),ea(R.y01,R.x01),!y))):(v.moveTo(w,A),v.arc(0,0,p,x,R,!y)):v.moveTo(w,A);1E-12<k&&1E-12<E?1E-12<I?(x=dc(fa,Q,O,la,k,-I,y),R=dc(w,A,L,K,k,-I,y),v.lineTo(x.cx+x.x01,x.cy+x.y01),I<X?v.arc(x.cx,x.cy,I,ea(x.y01,x.x01),ea(R.y01,R.x01),!y):(v.arc(x.cx,x.cy,I,ea(x.y01,x.x01),ea(x.y11,x.x11),!y),v.arc(0,0,k,ea(x.cy+x.y11,x.cx+x.x11),ea(R.cy+R.y11,R.cx+R.x11),y),v.arc(R.cx,R.cy,I,ea(R.y11,R.x11),ea(R.y01,R.x01),!y))):v.arc(0,0,k,D,da,y):v.lineTo(fa,Q)}else v.moveTo(0,0);v.closePath();if(d)return v=
null,d+""||null}var e=Sj,h=Tj,t=K(0),l=null,n=Uj,u=Vj,r=Wj,v=null,F=xb(d);d.centroid=function(){var d=(+e.apply(this,arguments)+ +h.apply(this,arguments))/2,k=(+n.apply(this,arguments)+ +u.apply(this,arguments))/2-Ia/2;return[Ba(k)*d,ka(k)*d]};d.innerRadius=function(k){return arguments.length?(e="function"===typeof k?k:K(+k),d):e};d.outerRadius=function(k){return arguments.length?(h="function"===typeof k?k:K(+k),d):h};d.cornerRadius=function(k){return arguments.length?(t="function"===typeof k?k:K(+k),
d):t};d.padRadius=function(k){return arguments.length?(l=null==k?null:"function"===typeof k?k:K(+k),d):l};d.startAngle=function(k){return arguments.length?(n="function"===typeof k?k:K(+k),d):n};d.endAngle=function(k){return arguments.length?(u="function"===typeof k?k:K(+k),d):u};d.padAngle=function(k){return arguments.length?(r="function"===typeof k?k:K(+k),d):r};d.context=function(k){return arguments.length?(v=null==k?null:k,d):v};return d};d.area=Mf;d.areaRadial=Qf;d.ascending=e;d.axisBottom=function(d){return Lb(3,
d)};d.axisLeft=function(d){return Lb(4,d)};d.axisRight=function(d){return Lb(2,d)};d.axisTop=function(d){return Lb(1,d)};d.bin=ae;d.bisect=La;d.bisectCenter=Vk;d.bisectLeft=Uk;d.bisectRight=ug;d.bisector=y;d.blur=function(d,e){if(!(0<=(e=+e)))throw new RangeError("invalid r");var k=d.length;if(!(0<=(k=Math.floor(k))))throw new RangeError("invalid length");if(!k||!e)return d;e=wc(e);var h=d.slice();e(d,h,0,k,1);e(h,d,0,k,1);e(d,h,0,k,1);return d};d.blur2=Wk;d.blurImage=Xk;d.count=ta;d.create=function(d){return Ff($b(d).call(document.documentElement))};
d.creator=$b;d.cross=function(){for(var d=arguments.length,e=Array(d),h=0;h<d;h++)e[h]=arguments[h];d="function"===typeof e[e.length-1]&&Tg(e.pop());e=e.map(Sg);h=e.map(xc);var t=e.length-1,l=Array(t+1).fill(0),n=[];if(0>t||h.some(Rg))return n;for(;;){n.push(l.map(function(d,k){return e[k][d]}));for(var u=t;++l[u]===h[u];){if(0===u)return d?n.map(d):n;l[u--]=0}}};d.cumsum=function(d,e){var k=0,p=0;return Float64Array.from(d,e===h?function(d){return k+=+d||0}:function(h){return k+=+e(h,p++,d)||0})};
d.curveBasis=function(d){return new ic(d)};d.curveBasisClosed=function(d){return new Uf(d)};d.curveBasisOpen=function(d){return new Vf(d)};d.curveBumpX=Rf;d.curveBumpY=Tf;d.curveBundle=wl;d.curveCardinal=xl;d.curveCardinalClosed=yl;d.curveCardinalOpen=zl;d.curveCatmullRom=Al;d.curveCatmullRomClosed=Bl;d.curveCatmullRomOpen=Cl;d.curveLinear=fc;d.curveLinearClosed=function(d){return new $f(d)};d.curveMonotoneX=function(d){return new kc(d)};d.curveMonotoneY=function(d){return new cg(d)};d.curveNatural=
function(d){return new eg(d)};d.curveStep=function(d){return new lc(d,.5)};d.curveStepAfter=function(d){return new lc(d,1)};d.curveStepBefore=function(d){return new lc(d,0)};d.descending=u;d.deviation=Kd;d.difference=function(d){d=new Ma(d);for(var k=arguments.length,e=Array(1<k?k-1:0),h=1;h<k;h++)e[h-1]=arguments[h];for(k=0;k<e.length;k++){h=B(e[k]);var l;try{for(h.s();!(l=h.n()).done;)d["delete"](l.value)}catch(A){h.e(A)}finally{h.f()}}return d};d.disjoint=function(d,e){e=e[Symbol.iterator]();var k=
new Ma;d=B(d);var h;try{for(d.s();!(h=d.n()).done;){var p=h.value;if(k.has(p))return!1;for(var l=void 0,n=void 0;u=e.next(),l=u.value,n=u.done,u;){var u;if(n)break;if(Object.is(p,l))return!1;k.add(l)}}}catch(X){d.e(X)}finally{d.f()}return!0};d.every=function(d,e){if("function"!==typeof e)throw new TypeError("test is not a function");var k=-1,h=B(d),p;try{for(h.s();!(p=h.n()).done;)if(!e(p.value,++k,d))return!1}catch(A){h.e(A)}finally{h.f()}return!0};d.extent=Gb;d.fcumsum=function(d,e){var k=new wd,
p=-1;return Float64Array.from(d,e===h?function(d){return k.add(+d||0)}:function(h){return k.add(+e(h,++p,d)||0)})};d.filter=function(d,e){if("function"!==typeof e)throw new TypeError("test is not a function");var k=[],h=-1,p=B(d),l;try{for(p.s();!(l=p.n()).done;){var n=l.value;e(n,++h,d)&&k.push(n)}}catch(da){p.e(da)}finally{p.f()}return k};d.flatGroup=function(d){for(var k=arguments.length,e=Array(1<k?k-1:0),h=1;h<k;h++)e[h-1]=arguments[h];return Pd(Od.apply(void 0,[d].concat(e)),e)};d.flatRollup=
function(d,e){for(var k=arguments.length,h=Array(2<k?k-2:0),p=2;p<k;p++)h[p-2]=arguments[p];return Pd(Td.apply(void 0,[d,e].concat(h)),h)};d.fsum=function(d,e){var k=new wd;if(e===h){d=B(d);var p;try{for(d.s();!(p=d.n()).done;){var l=p.value;(l=+l)&&k.add(l)}}catch(da){d.e(da)}finally{d.f()}}else{p=-1;l=B(d);var n;try{for(l.s();!(n=l.n()).done;){var u=n.value;(u=+e(u,++p,d))&&k.add(u)}}catch(da){l.e(da)}finally{l.f()}}return+k};d.greatest=be;d.greatestIndex=function(d){var k=1<arguments.length&&arguments[1]!==
h?arguments[1]:e;if(1===k.length)return Bc(d,k);var l=-1,t=-1,n=B(d),u;try{for(n.s();!(u=n.n()).done;){var r=u.value;++t;if(0>l?0===k(r,r):0<k(r,v)){var v=r;l=t}}}catch(X){n.e(X)}finally{n.f()}return l};d.group=Nd;d.groupSort=function(d,h,l){return(2!==h.length?hb(Sd(d,h,l),function(d,k){var h=r(d,2);d=h[0];h=h[1];k=r(k,2);var p=k[0];return e(h,k[1])||e(d,p)}):hb(Nd(d,l),function(d,k){var p=r(d,2);d=p[0];p=p[1];k=r(k,2);var t=k[0];return h(p,k[1])||e(d,t)})).map(function(d){return r(d,1)[0]})};d.groups=
Od;d.histogram=ae;d.index=function(d){for(var k=arguments.length,e=Array(1<k?k-1:0),h=1;h<k;h++)e[h-1]=arguments[h];return ua(d,Xa,Ea,e)};d.indexes=function(d){for(var k=arguments.length,e=Array(1<k?k-1:0),h=1;h<k;h++)e[h-1]=arguments[h];return ua(d,Array.from,Ea,e)};d.interrupt=pg;d.intersection=function(d){for(var k=arguments.length,e=Array(1<k?k-1:0),h=1;h<k;h++)e[h-1]=arguments[h];d=new Ma(d);e=e.map(bh);k=B(d);var l;try{a:for(k.s();!(l=k.n()).done;){var n=l.value,u=B(e),r;try{for(u.s();!(r=u.n()).done;)if(!r.value.has(n)){d["delete"](n);
continue a}}catch(X){u.e(X)}finally{u.f()}}}catch(X){k.e(X)}finally{k.f()}return d};d.least=function(d){var k=1<arguments.length&&arguments[1]!==h?arguments[1]:e,l=!1;if(1===k.length){var t=B(d),n;try{for(t.s();!(n=t.n()).done;){var u=n.value,r=k(u);if(l?0>e(r,x):0===e(r,r)){var v=u;var x=r;l=!0}}}catch(pa){t.e(pa)}finally{t.f()}}else{x=B(d);try{for(x.s();!(t=x.n()).done;){var y=t.value;if(l?0>k(y,v):0===k(y,y))v=y,l=!0}}catch(pa){x.e(pa)}finally{x.f()}}return v};d.leastIndex=ge;d.line=ld;d.lineRadial=
Of;d.link=gc;d.linkHorizontal=function(){return gc(Rf)};d.linkRadial=function(){var d=gc(ak);d.angle=d.x;delete d.x;d.radius=d.y;delete d.y;return d};d.linkVertical=function(){return gc(Tf)};d.local=Gf;d.map=function(d,e){if("function"!==typeof d[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!==typeof e)throw new TypeError("mapper is not a function");return Array.from(d,function(k,h){return e(k,h,d)})};d.matcher=ed;d.max=Ac;d.maxIndex=Bc;d.mean=function(d,e){var k=0,
p=0;if(e===h){d=B(d);var l;try{for(d.s();!(l=d.n()).done;){var n=l.value;null!=n&&(n=+n)>=n&&(++k,p+=n)}}catch(X){d.e(X)}finally{d.f()}}else{l=-1;n=B(d);var u;try{for(n.s();!(u=n.n()).done;){var r=u.value;null!=(r=e(r,++l,d))&&(r=+r)>=r&&(++k,p+=r)}}catch(X){n.e(X)}finally{n.f()}}if(k)return p/k};d.median=function(d,e){return nb(d,.5,e)};d.medianIndex=function(d,e){return de(d,.5,e)};d.merge=function(d){return Array.from(ee(d))};d.min=Jb;d.minIndex=Cc;d.mode=function(d,e){var k=new lb;if(e===h){d=
B(d);var p;try{for(d.s();!(p=d.n()).done;){var l=p.value;null!=l&&l>=l&&k.set(l,(k.get(l)||0)+1)}}catch(ob){d.e(ob)}finally{d.f()}}else{p=-1;l=B(d);var n;try{for(l.s();!(n=l.n()).done;){var u=n.value;null!=(u=e(u,++p,d))&&u>=u&&k.set(u,(k.get(u)||0)+1)}}catch(ob){l.e(ob)}finally{l.f()}}d=0;k=B(k);var v;try{for(k.s();!(v=k.n()).done;){var x=r(v.value,2),y=x[0],F=x[1];if(F>d){d=F;var D=y}}}catch(ob){k.e(ob)}finally{k.f()}return D};d.namespace=wb;d.namespaces=cd;d.nice=Zd;d.pairs=function(d){var e=1<
arguments.length&&arguments[1]!==h?arguments[1]:$g,k=[],l=!1,n=B(d),u;try{for(n.s();!(u=n.n()).done;){var r=u.value;l&&k.push(e(v,r));var v=r;l=!0}}catch(X){n.e(X)}finally{n.f()}return k};d.permute=Jd;d.pie=function(){function d(d){var k,p=(d=ec(d)).length;var t=0;var w=Array(p),v=Array(p),A=+n.apply(this,arguments);var x=Math.min(Ja,Math.max(-Ja,u.apply(this,arguments)-A));var y=Math.min(Math.abs(x)/p,r.apply(this,arguments)),F=y*(0>x?-1:1),H;for(k=0;k<p;++k)0<(H=v[w[k]=k]=+e(d[k],k,d))&&(t+=H);
null!=h?w.sort(function(d,e){return h(v[d],v[e])}):null!=l&&w.sort(function(e,k){return l(d[e],d[k])});k=0;for(x=t?(x-p*F)/t:0;k<p;++k,A=D){t=w[k];H=v[t];var D=A+(0<H?H*x:0)+F;v[t]={data:d[t],index:k,value:H,startAngle:A,endAngle:D,padAngle:y}}return v}var e=Zj,h=Yj,l=null,n=K(0),u=K(Ja),r=K(0);d.value=function(k){return arguments.length?(e="function"===typeof k?k:K(+k),d):e};d.sortValues=function(e){return arguments.length?(h=e,l=null,d):h};d.sort=function(e){return arguments.length?(l=e,h=null,
d):l};d.startAngle=function(e){return arguments.length?(n="function"===typeof e?e:K(+e),d):n};d.endAngle=function(e){return arguments.length?(u="function"===typeof e?e:K(+e),d):u};d.padAngle=function(e){return arguments.length?(r="function"===typeof e?e:K(+e),d):r};return d};d.pointRadial=zb;d.pointer=If;d.pointers=function(d,e){d.target&&(d=Hf(d),e===h&&(e=d.currentTarget),d=d.touches||[d]);return Array.from(d,function(d){return If(d,e)})};d.quantile=nb;d.quantileIndex=de;d.quantileSorted=ce;d.quickselect=
Kb;d.radialArea=Qf;d.radialLine=Of;d.range=fe;d.rank=function(d){var k=1<arguments.length&&arguments[1]!==h?arguments[1]:e;if("function"!==typeof d[Symbol.iterator])throw new TypeError("values is not iterable");var l=Array.from(d),t=new Float64Array(l.length);2!==k.length&&(l=l.map(k),k=e);var n=function(d,e){return k(l[d],l[e])},u,r;d=Uint32Array.from(l,function(d,e){return e});d.sort(k===e?function(d,e){return ma(l[d],l[e])}:va(n));d.forEach(function(d,e){var k=n(d,u===h?d:u);if(0<=k){if(u===h||
0<k)u=d,r=e;t[d]=r}else t[d]=NaN});return t};d.reduce=function(d,e,h){if("function"!==typeof e)throw new TypeError("reducer is not a function");var k=d[Symbol.iterator](),p=-1;if(3>arguments.length){var l=k.next();var n=l.done;h=l.value;if(n)return;++p}for(;u=k.next(),n=u.done,l=u.value,!n;){var u;h=e(h,l,++p,d)}return h};d.reverse=function(d){if("function"!==typeof d[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(d).reverse()};d.rollup=Sd;d.rollups=Td;d.scaleBand=
Fc;d.scaleDiverging=uf;d.scaleDivergingLog=vf;d.scaleDivergingPow=bd;d.scaleDivergingSqrt=function(){return bd.apply(null,arguments).exponent(.5)};d.scaleDivergingSymlog=wf;d.scaleIdentity=Le;d.scaleImplicit=Ec;d.scaleLinear=Ke;d.scaleLog=Qe;d.scaleOrdinal=Dc;d.scalePoint=function(){return le(Fc.apply(null,arguments).paddingInner(1))};d.scalePow=Tc;d.scaleQuantile=Xe;d.scaleQuantize=Ye;d.scaleRadial=We;d.scaleSequential=qf;d.scaleSequentialLog=rf;d.scaleSequentialPow=ad;d.scaleSequentialQuantile=
tf;d.scaleSequentialSqrt=function(){return ad.apply(null,arguments).exponent(.5)};d.scaleSequentialSymlog=sf;d.scaleSqrt=function(){return Tc.apply(null,arguments).exponent(.5)};d.scaleSymlog=Te;d.scaleThreshold=Ze;d.scaleTime=function(){return na.apply($c(ml,nl,za,Cd,Wb,tb,Ad,yd,Ta,yg).domain([new Date(2E3,0,1),new Date(2E3,0,2)]),arguments)};d.scaleUtc=function(){return na.apply($c(jl,kl,Aa,Dd,Xb,Ub,Bd,zd,Ta,zg).domain([Date.UTC(2E3,0,1),Date.UTC(2E3,0,2)]),arguments)};d.scan=function(d,e){d=ge(d,
e);return 0>d?h:d};d.select=Ff;d.selectAll=function(d){return"string"===typeof d?new ha([document.querySelectorAll(d)],[document.documentElement]):new ha([xf(d)],hd)};d.selection=Va;d.selector=ac;d.selectorAll=dd;d.shuffle=Yk;d.shuffler=he;d.some=function(d,e){if("function"!==typeof e)throw new TypeError("test is not a function");var k=-1,h=B(d),l;try{for(h.s();!(l=h.n()).done;)if(e(l.value,++k,d))return!0}catch(A){h.e(A)}finally{h.f()}return!1};d.sort=hb;d.stack=function(){function d(d){var k=Array.from(e.apply(this,
arguments),gk),p=k.length,t=-1,u=B(d),w;try{for(u.s();!(w=u.n()).done;){var r=w.value;var v=0;for(++t;v<p;++v)(k[v][t]=[0,+n(r,k[v].key,t,d)]).data=r}}catch(ih){u.e(ih)}finally{u.f()}v=0;for(t=ec(h(k));v<p;++v)k[t[v]].index=v;l(k,t);return k}var e=K([]),h=db,l=cb,n=fk;d.keys=function(k){return arguments.length?(e="function"===typeof k?k:K(Array.from(k)),d):e};d.value=function(e){return arguments.length?(n="function"===typeof e?e:K(+e),d):n};d.order=function(e){return arguments.length?(h=null==e?db:
"function"===typeof e?e:K(Array.from(e)),d):h};d.offset=function(e){return arguments.length?(l=null==e?cb:e,d):l};return d};d.stackOffsetDiverging=function(d,e){if(0<(r=d.length))for(var k,h=0,l,p,n,u,r,v=d[e[0]].length;h<v;++h)for(k=n=u=0;k<r;++k)0<(p=(l=d[e[k]][h])[1]-l[0])?(l[0]=n,l[1]=n+=p):0>p?(l[1]=u,l[0]=u+=p):(l[0]=0,l[1]=p)};d.stackOffsetExpand=function(d,e){if(0<(h=d.length)){for(var k,h,l=0,p=d[0].length,n;l<p;++l){for(n=k=0;k<h;++k)n+=d[k][l][1]||0;if(n)for(k=0;k<h;++k)d[k][l][1]/=n}cb(d,
e)}};d.stackOffsetNone=cb;d.stackOffsetSilhouette=function(d,e){if(0<(l=d.length)){for(var k=0,h=d[e[0]],l,p=h.length;k<p;++k){for(var n=0,u=0;n<l;++n)u+=d[n][k][1]||0;h[k][1]+=h[k][0]=-u/2}cb(d,e)}};d.stackOffsetWiggle=function(d,e){if(0<(n=d.length)&&0<(p=(l=d[e[0]]).length)){for(var k=0,h=1,l,p,n;h<p;++h){for(var u=0,r=0,v=0;u<n;++u){var x=d[e[u]],y=x[h][1]||0;x=(y-(x[h-1][1]||0))/2;for(var F=0;F<u;++F){var D=d[e[F]];x+=(D[h][1]||0)-(D[h-1][1]||0)}r+=y;v+=x*y}l[h-1][1]+=l[h-1][0]=k;r&&(k-=v/r)}l[h-
1][1]+=l[h-1][0]=k;cb(d,e)}};d.stackOrderAppearance=gg;d.stackOrderAscending=hg;d.stackOrderDescending=function(d){return hg(d).reverse()};d.stackOrderInsideOut=function(d){var e=d.length,k=d.map(ig),h=gg(d),l=0,n=0,u=[],r=[];for(d=0;d<e;++d){var v=h[d];l<n?(l+=k[v],u.push(v)):(n+=k[v],r.push(v))}return r.reverse().concat(u)};d.stackOrderNone=db;d.stackOrderReverse=function(d){return db(d).reverse()};d.style=Ua;d.subset=function(d,e){return je(e,d)};d.sum=function(d,e){var k=0;if(e===h){d=B(d);var l;
try{for(d.s();!(l=d.n()).done;){var p=l.value;if(p=+p)k+=p}}catch(da){d.e(da)}finally{d.f()}}else{l=-1;p=B(d);var n;try{for(p.s();!(n=p.n()).done;){var u=n.value;if(u=+e(u,++l,d))k+=u}}catch(da){p.e(da)}finally{p.f()}}return k};d.superset=je;d.symbol=function(d,e){function k(){var k;l||(l=k=p());d.apply(this,arguments).draw(l,+e.apply(this,arguments));if(k)return l=null,k+""||null}var l=null,p=xb(k);d="function"===typeof d?d:K(d||vc);e="function"===typeof e?e:K(e===h?64:+e);k.type=function(e){return arguments.length?
(d="function"===typeof e?e:K(e),k):d};k.size=function(d){return arguments.length?(e="function"===typeof d?d:K(+d),k):e};k.context=function(d){return arguments.length?(l=null==d?null:d,k):l};return k};d.symbolAsterisk=Bg;d.symbolCircle=vc;d.symbolCross=Cg;d.symbolDiamond=Eg;d.symbolDiamond2=Fg;d.symbolPlus=Gg;d.symbolSquare=Hg;d.symbolSquare2=Ig;d.symbolStar=Kg;d.symbolTimes=Id;d.symbolTriangle=Lg;d.symbolTriangle2=Mg;d.symbolWye=Ng;d.symbolX=Id;d.symbols=Og;d.symbolsFill=Og;d.symbolsStroke=vl;d.thresholdFreedmanDiaconis=
function(d,e,h){var k=ta(d);d=nb(d,.75)-nb(d,.25);return k&&d?Math.ceil((h-e)/(2*d*Math.pow(k,-1/3))):1};d.thresholdScott=function(d,e,h){var k=ta(d);d=Kd(d);return k&&d?Math.ceil((h-e)*Math.cbrt(k)/(3.49*d)):1};d.thresholdSturges=$d;d.tickFormat=Ie;d.tickIncrement=Ka;d.tickStep=Ib;d.ticks=ib;d.transition=sg;d.transpose=ie;d.union=function(){for(var d=new Ma,e=arguments.length,h=Array(e),l=0;l<e;l++)h[l]=arguments[l];for(e=0;e<h.length;e++){l=B(h[e]);var n;try{for(l.s();!(n=l.n()).done;)d.add(n.value)}catch(A){l.e(A)}finally{l.f()}}return d};
d.variance=Ld;d.window=fd;d.zip=function(){return ie(arguments)};return d}({})}),G.register("price-tracker-constants",function(){return{PRICE_TRACKER_MODAL_NAME:"price-tracker",PRICE_TRACKER_GRAPH_DIALOG_WIDTH_PERCENTAGE_DESKTOP:75,PRICE_TRACKER_GRAPH_HEIGHT_TO_WIDTH_RATIO_DESKTOP:.3,PRICE_TRACKER_BOTTOM_SHEET_NAME:"price-tracker",PRICE_TRACKER_PRELOAD_DOM_ID:"price-tracker",PRICE_TRACKER_PRELOAD_DOM_PARENT_ID:"price-tracker-parent",PRICE_TRACKER_MOBILE_HEADER_ID:"price-tracker-header-mobile",PRICE_TRACKER_GRAPH_DIALOG_WIDTH_PERCENTAGE_MOBILE:95,
PRICE_TRACKER_GRAPH_DIALOG_HEIGHT_LANDSCAPE_MOBILE:140,PRICE_TRACKER_GRAPH_HEIGHT_TO_WIDTH_RATIO_MOBILE:.5,PRICE_TRACKER_HIDDEN_AOK:"aok-hidden",PRICE_TRACKER_DEFAULT_RANGE:"30",PRICE_TRACKER_ASSETS_LOADED_STATE:"priceTracker:assetsLoaded",PRICE_TRACKER_MOBILE_MINIMUM_VIEWPORT_SIZE_OF_THE_SHORTEST_SIDE:450,CURRENCY_SYMBOL:{USD:"$",CAD:"$",MXN:"$",BRL:"R$",CLP:"$",COP:"$",EUR:"â‚¬",INR:"â‚¹",GBP:"Â£",SGD:"$",AED:"AED",SAR:"SAR",SEK:"kr",PLN:"zÅ‚",EGP:"EGP",TRY:"â‚º",ZAR:"R",NGN:"â‚¦",JPY:"Â¥",AUD:"$",NZD:"$",
CNY:"Â¥"},PRICE_TRACKER_IS_LOADED_EVENT_NAME:"priceTrackerIsLoaded",PRICE_TRACKER_GRID_SHOWN_EVENT_NAME:"gridIsShown",PRICE_TRACKER_GRID_ID:"price-tracker-grid",PRICE_TRACKER_FAILURE_ID:"price-tracker-failure",PRICE_TRACKER_SPINNER_ID:"price-tracker-spinner",PRICE_TRACKER_DESCRIPTION_ID:"price-tracker-description",PRICE_TRACKER_LEGEND_COMPONENT_ID:"price-tracker-event-markers-component",PRICE_TRACKER_LEGEND_ID:"price-tracker-legend",PRICE_TRACKER_LEGEND_SVG_ID:"price-tracker-legend-svg",PRICE_TRACKER_GRAPH_ID:"price-tracker-graph-svg",
PRICE_TRACKER_CONTENT_ID:"price-tracker-content",PRICE_TRACKER_X_AXIS_ID:"price-tracker-x-axis",PRICE_TRACKER_Y_AXIS_ID:"price-tracker-y-axis",PRICE_TRACKER_TOOLTIP_ID:"price-tracker-tooltip",PRICE_TRACKER_TOOLTIP_RECT_ID:"price-tracker-tooltip-rect",PRICE_TRACKER_TOOLTIP_TEXT_ID:"price-tracker-tooltip-text",PRICE_TRACKER_TOOLTIP_LINE_ID:"price-tracker-tooltip-line",PRICE_TRACKER_LEGEND_PRICE_LINE_ID:"price-tracker-legend-price-line",PRICE_TRACKER_LEGEND_NO_DATA_LINE_ID:"price-tracker-legend-no-data-line",
PRICE_TRACKER_LEGEND_PRICE_LABEL_CLASS:"price-tracker-legend-price-label-style",PRICE_TRACKER_LEGEND_NO_DATA_LABEL_CLASS:"price-tracker-legend-no-data-label-style",PRICE_TRACKER_EVENT_SYMBOL_RADIUS:"4",PRICE_TRACKER_EVENT_SYMBOL_RADIUS_HIGHLIGHTED:"6",PRICE_TRACKER_SYMBOL_LEGEND_CX:"10",PRICE_TRACKER_SYMBOL_LEGEND_CY:"10",PRICE_TRACKER_LEGEND_NO_DATA_DASHARRAY:"2,4",PRICE_TRACKER_LEGEND_PADDING_BETWEEN_EVENTS:10,PRICE_TRACKER_LEGEND_PADDING_BETWEEN_SYMBOL_AND_LABEL:4,PRICE_TRACKER_LABEL_FROM_SYMBOL_Y_SHIFT:5,
PRICE_TRACKER_LEGEND_PRICE_LINE_LENGTH:10,PRICE_TRACKER_LEGEND_NO_DATA_LINE_LENGTH:15,PRICE_TRACKER_EVENT_SYMBOL_CLASS:"price-tracker-event-symbol",PRICE_TRACKER_EVENT_CIRCLE:"circle",PRICE_TRACKER_EVENT_TYPE_MAP:{DEAL:{LABEL_CLASS:"price-tracker-deal-event-label-style",CSS_CLASS:"price-tracker-event-symbol pt-circle-deal",SYMBOL_ID:"price-tracker-deal-event-symbol",GRID_ID:"price-tracker-deal-event-legend-style",LINE_STYLE:"price-tracker-deal-line"},PRIME:{LABEL_CLASS:"price-tracker-prime-event-label-style",
CSS_CLASS:"price-tracker-event-symbol pt-circle-prime",SYMBOL_ID:"price-tracker-prime-event-symbol",GRID_ID:"price-tracker-prime-event-legend-style",LINE_STYLE:"price-tracker-prime-line"}},PRICE_TRACKER_GRAPH_DIALOG_MAX_WIDTH:600,PRICE_TRACKER_GRAPH_DIALOG_MIN_WIDTH:320,PRICE_TRACKER_GRAPH_WINDOW_PADDING_TOP:0,PRICE_TRACKER_GRAPH_WINDOW_PADDING_LEFT:10,PRICE_TRACKER_GRAPH_WINDOW_PADDING_RIGHT:20,PRICE_TRACKER_GRAPH_WINDOW_PADDING_BOTTOM:30,PRICE_TRACKER_TOOLTIP_TEXT_LEFT_PADDING:10,PRICE_TRACKER_TOOLTIP_TEXT_TOP_PADDING:20,
PRICE_TRACKER_TOOLTIP_TOP_OFFSET:5,PRICE_TRACKER_TOOLTIP_SHADOW_X_OFFSET:4,PRICE_TRACKER_TOOLTIP_VERTICAL_LINE_TOP_OFFSET:10,PRICE_TRACKER_X_AXIS_TEXT_OFFSET:10,PRICE_TRACKER_ANIMATION_DURATION:100,PRICE_TRACKER_TREND_LINE_STYLE:"price-tracker-trend-line",PRICE_TRACKER_NO_DATA_TREND_LINE_STYLE:"price-tracker-no-data-line",PRICE_TRACKER_TICK_TEXT:"tick text",PRICE_TRACKER_TICK_LINE:"tick line",PRICE_TRACKER_X_AXIS_TICK_TEXT_CLASS:"pt-xaxis-ticks-text",PRICE_TRACKER_Y_AXIS_TICK_TEXT_CLASS:"pt-yaxis-ticks-text",
PRICE_TRACKER_Y_AXIS_TICK_LINE_CLASS:"pt-yaxis-ticks-line",PRICE_TRACKER_PATH:"path",PRICE_TRACKER_TOUCHABLE_AREA_CLASS:"pt-blank-touchable-area",PRICE_TRACKER_TOOLTIP_STYLE_CLASS:"price-tracker-tooltip-style",PRICE_TRACKER_TOOLTIP_LINE_STYLE_CLASS:"price-tracker-tooltip-line-style",PRICE_TRACKER_TOOLTIP_RECT_STYLE_CLASS:"price-tracker-tooltip-rect-style",PRICE_TRACKER_TOOLTIP_TEXT_STYLE_CLASS:"price-tracker-tooltip-text-style",PRICE_TRACKER_X_AXIS_STYLE_CLASS:"price-tracker-x-axis-style",PRICE_TRACKER_Y_AXIS_STYLE_CLASS:"price-tracker-y-axis-style"}}),
G.when("A","jQuery","price-tracker-d3","price-tracker-constants").register("price-tracker-helper",function(v,n,l,r){function C(h){return n("#"+h)}function G(h){var e=(Math.round(100*h)/100).toFixed(2);isNaN(e)&&(e=h);return e}function L(l){var e="";if(l.text)e=l.text;else if(l.money){e=l.money.currencyCode;var n=r.CURRENCY_SYMBOL[e];n===h&&(n=e);e=n+G(l.money.amount)}return e}function D(h){var e="";Array.isArray(h)&&v.each(h,function(h,l){e+=L(h)});return e}function O(h){return C(null!=E?h+"-"+E:
h)}var E=void 0;return{getElementBasedOnID:C,parseRichContent:function(h){var e="";h&&(e=h.paragraph?D(h.paragraph.fragments):h.fragments?D(h.fragments):L(h));return e},buildRichContentFromText:function(h){var e=[];e.push({text:h});return{fragments:e}},parseAmount:G,formatEvents:function(h){return h.events.flat().map(function(e){e.type=h.type;return e})},checkIfPointBelongsToEvent:function(h,e){return 0<h.filter(function(h){return h.startDateTick<=e.dateTick&&h.finishDateTick>=e.dateTick}).length},
tooltipTransform:function(h,e,l){h.x=Math.max(e,h.x);h.x=Math.min(l-h.width,h.x);return"translate("+h.x+","+h.y+")"},clamp:function(h,e,l){return Math.min(Math.max(h,e),l)},showFailureMessage:function(){O(r.PRICE_TRACKER_FAILURE_ID).show()},hideFailureMessage:function(){O(r.PRICE_TRACKER_FAILURE_ID).hide()},hideSpinner:function(){O(r.PRICE_TRACKER_SPINNER_ID).hide()},updateBuyingOptionIndex:function(h){E=h},getDynamicID:function(h){return null!=E?h+"-"+E:h},getElementBasedOnDynamicID:O,getD3ElementBasedOnDynamicID:function(h){return l.select("#"+
(null!=E?h+"-"+E:h))},getD3ChildrenElementsBasedOnClass:function(h,e){return h.selectAll("."+e)},registerEvent:function(h,e){if(!v.isListening(h))v.on(h,e)},logError:function(l){var e=1<arguments.length&&arguments[1]!==h?arguments[1]:null;if(T.ueLogError){var n={logLevel:"ERROR",attribution:"detail_page_price_tracker_assets",message:l+" "};e||(e=Error("No exception is thrown."));T.ueLogError(e,n)}}}}),G.register("price-tracker-data-helper",function(){var h={};return{setPriceTrackerIngressData:function(n){h=
n},getNoDataLegendLabel:function(){return h?h.priceTrackerNoDataLegendLabel:null},getPriceLegendLabel:function(){return h?h.priceTrackerPriceLegendLabel:null},getNoDataTooltipLabel:function(){return h?h.priceTrackerNoDataTooltip:null},getRange:function(){return h&&h.priceTrackerRanges&&h.priceTrackerRanges[0]?h.priceTrackerRanges[0]:null}}}),G.register("price-tracker-metrics",function(){return{logCountMetric:function(h){T.ue&&T.ue.count&&T.ue.count(h,1)},logData:function(h,n,l){T.ue&&T.ue.event&&
T.ue.event(h,n,l)},startTimer:function(h){uet&&uet("bb",h,{wb:1})},stopTimer:function(h){uex&&uex("ld",h,{wb:1})},reportCriticalFeature:function(h){uet&&uet("cf",h,{wb:1})},METRIC_AJAX_CALL:"priceTracker:ajax:call",METRIC_AJAX_SUCCESS:"priceTracker:ajax:success",METRIC_AJAX_STATUS_CODE_2XX:"priceTracker:ajax:statusCode:2XX",METRIC_AJAX_STATUS_CODE_4XX:"priceTracker:ajax:statusCode:4XX",METRIC_AJAX_STATUS_CODE_5XX:"priceTracker:ajax:statusCode:5XX",METRIC_RESPONSE_EMPTY:"priceTracker:response:empty",
METRIC_DATA_RECEIVED:"priceTracker:data:received",METRIC_DATA_INVALID:"priceTracker:data:invalid",METRIC_DATA_TITLE_EMPTY:"priceTracker:data:title:empty",METRIC_DATA_CHART_EMPTY:"priceTracker:data:chart:empty",METRIC_DATA_XAXIS_EMPTY:"priceTracker:data:xAxis:empty",METRIC_DATA_YAXIS_EMPTY:"priceTracker:data:yAxis:empty",METRIC_DATA_PRICE_EMPTY:"priceTracker:data:price:empty",METRIC_DATA_EVENTS_EMPTY:"priceTracker:data:events:empty",METRIC_DATA_XAXIS_INVALID:"priceTracker:data:xAxis:invalid",METRIC_DATA_YAXIS_INVALID:"priceTracker:data:yAxis:invalid",
METRIC_DATA_PRICE_INVALID:"priceTracker:data:price:invalid",METRIC_DATA_EVENTS_INVALID:"priceTracker:data:events:invalid",METRIC_MOBILE_LANDSCAPE:"priceTracker:mobile:landscape",METRIC_MOBILE_FATAL:"priceTracker:mobile:fatal",METRIC_DESKTOP_FATAL:"priceTracker:desktop:fatal",METRIC_LATENCY_AJAX:"priceTrackerWidgetAjax",NEXUS_PRODUCER_ID:"pricetracker",NEXUS_SCHEMA_ID:"pricetracker.PriceTracker.12"}}),G.when("price-tracker-constants","price-tracker-metrics").register("price-tracker-validator",function(h,
n){function l(e,h){return E(e.max,"number")&&E(e.min,"number")?r(e.labels,h):null}function r(e,h){return E(e,"object")&&0!==e.length?(e=e.filter(function(e){return h(e)}),0!==e.length?e:null):null}function v(e){return E(e.dateTick,"number")&&E(e.label,"object")&&E(e.value,"number")}function G(e){return E(e.dateTick,"number")&&E(e.label,"string")}function L(e){return E(e.label,"object")&&E(e.value,"number")}function D(e){return E(e.label,"string")&&E(e.type,"string")&&E(e.events,"object")}function O(e){return E(e.startDateTick,
"number")&&E(e.finishDateTick,"number")&&E(e.value,"number")}function E(e,h){switch(h){case "string":return null!==e&&("undefined"===typeof e?"undefined":ba(e))===h&&0!==e.trim().length;case "object":return null!==e&&("undefined"===typeof e?"undefined":ba(e))===h&&"{}"!==JSON.stringify(e);default:return null!==e&&("undefined"===typeof e?"undefined":ba(e))===h}}function u(e){if(e){var l=function(){var l=[],n;for(n in h.PRICE_TRACKER_EVENT_TYPE_MAP)l.push(n);return{v:e.filter(function(e){for(var h in l)if(e.type===
l[h])return e})}}();if("object"===("undefined"===typeof l?"undefined":ba(l)))return l.v}}return{validate:function(e){n.logCountMetric(n.METRIC_DATA_RECEIVED);if(E(e,"object")&&!e.code){a:{var h=e.title,C=e.chart;h||n.logCountMetric(n.METRIC_DATA_TITLE_EMPTY);C||n.logCountMetric(n.METRIC_DATA_CHART_EMPTY);if(E(h,"string")&&E(C,"object")){h=C.xAxis;var N=C.yAxis;h||n.logCountMetric(n.METRIC_DATA_XAXIS_EMPTY);N||n.logCountMetric(n.METRIC_DATA_YAXIS_EMPTY);C.series||n.logCountMetric(n.METRIC_DATA_PRICE_EMPTY);
if(E(h,"object")&&E(N,"object")&&E(C.series,"object")){var S=l(h,G),M=l(N,L);b:{var V=C.series;if(E(V,"object")&&0!==V.length){for(ca in V){var T=V[ca].points,W=r(T,v);if(!W||W.length!==T.length){var ca=null;break b}}ca=V}else ca=null}S||n.logCountMetric(n.METRIC_DATA_XAXIS_INVALID);M||n.logCountMetric(n.METRIC_DATA_YAXIS_INVALID);ca||n.logCountMetric(n.METRIC_DATA_PRICE_INVALID);if(S&&M&&ca){h.labels=S;N.labels=M;C.series=ca;break a}}}e=null}if(e){C=e.description;if(N=e.chart.eventSeries){h=e.chart;
a:if(N=r(N,D)){for(B in N)if(S=N[B].events,M=r(S,O),!M||M.length!==S.length){var B=null;break a}B=u(N);B=0!==B.length?B:null}else B=null;h.eventSeries=B;e.chart.eventSeries||n.logCountMetric(n.METRIC_DATA_EVENTS_INVALID)}else n.logCountMetric(n.METRIC_DATA_EVENTS_EMPTY);E(C,"object")||(e.description=null);return e}}n.logCountMetric(n.METRIC_DATA_INVALID);return null}}}),G.when("A","price-tracker-constants","price-tracker-data-helper").register("price-tracker-events-legend-element-helper",function(h,
n,l){return{addDynamicLegendElements:function(r,v,G,L,D,O){var E=0,u=0;h.each(O.chart.series,function(e){E+=e.points.length});h.each(O.chart.eventSeries,function(e){n.PRICE_TRACKER_EVENT_TYPE_MAP.hasOwnProperty(e.type)&&h.each(e.events,function(e){u+=e.finishDateTick-e.startDateTick+1})});(D=l.getPriceLegendLabel())&&E>u&&(r.append("line").attr("id",n.PRICE_TRACKER_LEGEND_PRICE_LINE_ID).attr("class",n.PRICE_TRACKER_TREND_LINE_STYLE).attr("x1",v).attr("y1",G).attr("x2",v+n.PRICE_TRACKER_LEGEND_PRICE_LINE_LENGTH).attr("y2",
G),v+=n.PRICE_TRACKER_LEGEND_PRICE_LINE_LENGTH+n.PRICE_TRACKER_LEGEND_PADDING_BETWEEN_SYMBOL_AND_LABEL,r.append("text").attr("class",n.PRICE_TRACKER_LEGEND_PRICE_LABEL_CLASS).text(D).attr("x",v).attr("y",L),v+=n.PRICE_TRACKER_LEGEND_PADDING_BETWEEN_EVENTS*D.length);O=O.chart.series.map(function(e){return e.points}).flat().map(function(e){return e.dateTick});O=Math.min.apply(null,O);(D=l.getNoDataLegendLabel())&&E+O-1!==l.getRange()&&(r.append("line").attr("id",n.PRICE_TRACKER_LEGEND_NO_DATA_LINE_ID).attr("class",
n.PRICE_TRACKER_NO_DATA_TREND_LINE_STYLE).attr("x1",v).attr("y1",G).attr("x2",v+n.PRICE_TRACKER_LEGEND_NO_DATA_LINE_LENGTH).attr("y2",G).attr("stroke-dasharray",n.PRICE_TRACKER_LEGEND_NO_DATA_DASHARRAY),v+=n.PRICE_TRACKER_LEGEND_NO_DATA_LINE_LENGTH+n.PRICE_TRACKER_LEGEND_PADDING_BETWEEN_SYMBOL_AND_LABEL,r.append("text").attr("class",n.PRICE_TRACKER_LEGEND_NO_DATA_LABEL_CLASS).text(D).attr("x",v).attr("y",L))}}}),G.when("A","jQuery","price-tracker-constants","price-tracker-helper").register("price-tracker-ui-helper",
function(h,n,l,r){function v(){return r.clamp(Math.round(T.innerWidth/100*l.PRICE_TRACKER_GRAPH_DIALOG_WIDTH_PERCENTAGE_DESKTOP),l.PRICE_TRACKER_GRAPH_DIALOG_MIN_WIDTH,l.PRICE_TRACKER_GRAPH_DIALOG_MAX_WIDTH)}return{getDialogWidth:v,getDialogHeight:function(){return Math.round(v()*l.PRICE_TRACKER_GRAPH_HEIGHT_TO_WIDTH_RATIO_DESKTOP)},isMobile:function(){return!1}}}),G.when("A","jQuery","a-modal","price-tracker-helper","price-tracker-constants").register("price-tracker-header-render",function(h,n,l,
r,C){return{renderHeader:function(h){l.get(r.getDynamicID(C.PRICE_TRACKER_MODAL_NAME)).update({header:h})},clearHeader:function(){l.get(r.getDynamicID(C.PRICE_TRACKER_MODAL_NAME)).update({header:""})}}}),G.when("A","jQuery","price-tracker-content-render","price-tracker-helper","price-tracker-metrics").register("price-tracker-content-handler",function(h,n,l,r,C){function v(){r.hideSpinner();r.showFailureMessage()}return{onHttpSuccess:function(h){C.logCountMetric(C.METRIC_AJAX_SUCCESS);r.hideSpinner();
if(h&&h.entity&&Array.isArray(h.entity.buyingOptions)&&0<h.entity.buyingOptions.length){if((h=h.entity.buyingOptions[0].priceTracker)&&h.metadata){var n=h.metadata["x-amzn-metrics-id"],v=T.opts;n&&v&&C.logData({metricsId:n,customerId:v.customerId,asin:v.asin,marketId:v.marketId},C.NEXUS_PRODUCER_ID,C.NEXUS_SCHEMA_ID)}l.renderContent(h.entity)}else C.logCountMetric(C.METRIC_RESPONSE_EMPTY),r.showFailureMessage()},onHttpError:function(h,l,n){r.logError("An HTTP error occurred while fetching price data.",
n);v()},onFailure:v}}),G.when("A","price-tracker-content-handler","price-tracker-constants","price-tracker-helper","price-tracker-metrics","price-tracker-data-helper").register("price-tracker-content-loader",function(h,n,l,r,C,G){function v(h){h&&h.http&&h.http.status&&(h=h.http.status,400<=h&&500>h?C.logCountMetric(C.METRIC_AJAX_STATUS_CODE_4XX):500<=h&&600>h?C.logCountMetric(C.METRIC_AJAX_STATUS_CODE_5XX):200<=h&&300>h&&C.logCountMetric(C.METRIC_AJAX_STATUS_CODE_2XX))}return{loadPriceTracker:function(r){C.logCountMetric(C.METRIC_AJAX_CALL);
if(r&&r.data&&r.data.priceTrackerAjaxURL){C.startTimer(C.METRIC_LATENCY_AJAX);G.setPriceTrackerIngressData(r.data);var D=l.PRICE_TRACKER_DEFAULT_RANGE;r.data.priceTrackerRanges&&r.data.priceTrackerRanges[0]&&(D=r.data.priceTrackerRanges[0]);D="https://"+r.data.priceTrackerAjaxURL+D;r={Accept:'application/vnd.com.amazon.api+json; type\x3d"product/v2"; expand\x3d"buyingOptions[].priceTracker(product.price-tracker/v1)"',"Accept-Language":r.data.priceTrackerLocale,"x-api-csrf-token":r.data.priceTrackerCSRFToken,
"x-cc-currency-of-preference":r.data.priceTrackerCurrencyOfPreference,"X-Requested-With":null};var E=document.querySelector('meta[name\x3d"encrypted-slate-token"]');E&&(r["x-amzn-encrypted-slate-token"]=E.content);h.ajax(D,{type:"GET",timeout:1E4,contentType:"application/x-www-form-urlencoded;charset\x3dutf-8",headers:r,withCredentials:!0,success:function(r){C.stopTimer(C.METRIC_LATENCY_AJAX);v(r);n.onHttpSuccess(r);h.trigger(l.PRICE_TRACKER_IS_LOADED_EVENT_NAME)},error:function(r){C.stopTimer(C.METRIC_LATENCY_AJAX);
v(r);n.onHttpError(r);h.trigger(l.PRICE_TRACKER_IS_LOADED_EVENT_NAME)}})}else n.onFailure(),h.trigger(l.PRICE_TRACKER_IS_LOADED_EVENT_NAME)}}}),G.when("A","jQuery","price-tracker-graph-render","price-tracker-events-legend-render","price-tracker-header-render","price-tracker-description-render","price-tracker-helper","price-tracker-ui-helper","price-tracker-validator","price-tracker-constants","price-tracker-metrics").register("price-tracker-content-render",function(h,n,l,r,C,G,L,D,O,E,u){function e(e){try{v=
e;var n=D.getDialogWidth(),y=D.getDialogHeight();D.isMobile()&&D.isLandscapeMode()&&!D.isTablet()&&u.logCountMetric(u.METRIC_MOBILE_LANDSCAPE);var I=O.validate(e);if(I){var N=I.chart.eventSeries;C.renderHeader(I.title);G.renderDescription(I.description);r.renderLegend(I);l.renderChart(I.chart,N,n,y);L.getElementBasedOnDynamicID(E.PRICE_TRACKER_GRID_ID).show();h.trigger(E.PRICE_TRACKER_GRID_SHOWN_EVENT_NAME)}else L.showFailureMessage(),L.logError("Price Tracker data is not valid.")}catch(Da){D.isMobile()?
u.logCountMetric(u.METRIC_MOBILE_FATAL):u.logCountMetric(u.METRIC_DESKTOP_FATAL),L.showFailureMessage(),L.logError("An error occurred while rendering Price Tracker.",Da)}}var v=void 0;return{renderContent:e,rerenderContent:function(){v&&e(v)},clearContent:function(){C.clearHeader();G.clearDescription();r.clearLegend();L.getElementBasedOnDynamicID(E.PRICE_TRACKER_GRID_ID).hide();L.hideFailureMessage();l.clearGraph()}}}),G.when("A","jQuery","price-tracker-helper","price-tracker-constants").register("price-tracker-description-render",
function(h,n,l,r){return{renderDescription:function(h){h&&(h=l.parseRichContent(h))&&l.getElementBasedOnDynamicID(r.PRICE_TRACKER_DESCRIPTION_ID).text(h)},clearDescription:function(){l.getElementBasedOnDynamicID(r.PRICE_TRACKER_DESCRIPTION_ID).text("")}}}),G.when("A","price-tracker-helper","price-tracker-constants","price-tracker-d3","price-tracker-data-helper").register("price-tracker-graph-render",function(h,n,l,r,C){function v(e,h){return n.getD3ElementBasedOnDynamicID(l.PRICE_TRACKER_GRAPH_ID).attr("width",
e).attr("height",h)}function G(e,h){var r=n.getD3ElementBasedOnDynamicID(l.PRICE_TRACKER_CONTENT_ID);r.empty()&&(r=e.append("g").attr("id",n.getDynamicID(l.PRICE_TRACKER_CONTENT_ID)));return r.attr("transform","translate("+h.left+","+h.top+")")}function D(e,h){h&&(h=n.parseRichContent(h),n.getElementBasedOnDynamicID(l.PRICE_TRACKER_GRAPH_ID).attr("aria-label",h));e.attr("aria-hidden",!0)}function O(e){var l={};h.each(e,function(e){l[e.dateTick]=e});return l}function E(e){var l={};h.each(e.labels,
function(e){l[e.dateTick]=e.label});return{values:l,tickValues:Object.keys(l),min:e.min,max:e.max}}function u(e){var l={};h.each(e.labels,function(e){l[e.value]=n.parseRichContent(e.label)});return{values:l,tickValues:Object.keys(l),min:e.min,max:e.max}}function e(e){var l={};e&&h.each(e,function(e){l[e.type]=n.formatEvents(e)});return l}function y(e,h,u,v,y,E,B){h=r.scaleLinear().domain([v,y]).range([0,h]).clamp(!0);v=r.axisBottom(h);v.tickSize(0);y=n.getD3ElementBasedOnDynamicID(l.PRICE_TRACKER_X_AXIS_ID);
y.empty()&&(y=e.append("g").attr("id",n.getDynamicID(l.PRICE_TRACKER_X_AXIS_ID)).attr("class",l.PRICE_TRACKER_X_AXIS_STYLE_CLASS));y=y.attr("transform","translate(0,"+u+")").call(v.ticks(B.length).tickValues(B).tickFormat(function(e){return E[e]}));n.getD3ChildrenElementsBasedOnClass(y,l.PRICE_TRACKER_TICK_TEXT).attr("class",l.PRICE_TRACKER_X_AXIS_TICK_TEXT_CLASS).attr("y",l.PRICE_TRACKER_X_AXIS_TEXT_OFFSET);return h}function I(e,h,u,v,y,B,E){u=r.scaleLinear().domain([v,y]).range([u,0]);v=r.axisLeft(u);
v.tickSize(-h);h=n.getD3ElementBasedOnDynamicID(l.PRICE_TRACKER_Y_AXIS_ID);h.empty()&&(h=e.append("g").attr("id",n.getDynamicID(l.PRICE_TRACKER_Y_AXIS_ID)).attr("class",l.PRICE_TRACKER_Y_AXIS_STYLE_CLASS));h=h.call(v.ticks(E.length).tickValues(E).tickFormat(function(e){return B[e]}));n.getD3ChildrenElementsBasedOnClass(h,l.PRICE_TRACKER_TICK_LINE).attr("class",l.PRICE_TRACKER_Y_AXIS_TICK_LINE_CLASS);n.getD3ChildrenElementsBasedOnClass(h,l.PRICE_TRACKER_TICK_TEXT).attr("class",l.PRICE_TRACKER_Y_AXIS_TICK_TEXT_CLASS);
return u}function V(e,h){return r.line().x(function(h){return e(h.dateTick)}).y(function(e){return h(e.value)})}function S(e,h,l){return r.line().x(function(h){return e(h.dateTick)}).y(function(e){return h(e.value)}).defined(function(e){return n.checkIfPointBelongsToEvent(l,e)})}function M(e,h,r,u){n.getD3ChildrenElementsBasedOnClass(h,u).data(e).join(l.PRICE_TRACKER_PATH).attr("class",u).attr("d",r)}function T(e,h,r,u,v){n.getD3ChildrenElementsBasedOnClass(h,l.PRICE_TRACKER_TOUCHABLE_AREA_CLASS).data(e).join("rect").attr("class",
l.PRICE_TRACKER_TOUCHABLE_AREA_CLASS).attr("x",function(e){return r(e.tick-.5)}).attr("width",function(){return r(1)}).attr("height",u).on("touchstart",function(e){return e.preventDefault()}).on("pointermove pointerdown",v.showAction).on("pointerup mouseout",v.hideAction)}function ba(e,h,u,v,y){var x=n.getD3ElementBasedOnDynamicID(l.PRICE_TRACKER_TOOLTIP_ID);x.empty()&&(x=u.append("g").attr("id",n.getDynamicID(l.PRICE_TRACKER_TOOLTIP_ID)).attr("class",l.PRICE_TRACKER_TOOLTIP_STYLE_CLASS));x=x.attr("opacity",
0);var E=n.getD3ElementBasedOnDynamicID(l.PRICE_TRACKER_TOOLTIP_RECT_ID);E.empty()&&(E=x.append("rect").attr("id",n.getDynamicID(l.PRICE_TRACKER_TOOLTIP_RECT_ID)).attr("class",l.PRICE_TRACKER_TOOLTIP_RECT_STYLE_CLASS));var B=n.getD3ElementBasedOnDynamicID(l.PRICE_TRACKER_TOOLTIP_TEXT_ID);B.empty()&&(B=x.append("text").attr("id",n.getDynamicID(l.PRICE_TRACKER_TOOLTIP_TEXT_ID)).attr("class",l.PRICE_TRACKER_TOOLTIP_TEXT_STYLE_CLASS));var F=n.getD3ElementBasedOnDynamicID(l.PRICE_TRACKER_TOOLTIP_LINE_ID);
F.empty()&&(F=u.append("line").attr("id",n.getDynamicID(l.PRICE_TRACKER_TOOLTIP_LINE_ID)).attr("class",l.PRICE_TRACKER_TOOLTIP_LINE_STYLE_CLASS));F=F.attr("opacity",0);return{tooltip:x,tooltipRect:E,tooltipText:B,tooltipLine:F,showAction:function(D,C){u.node().append(x.node());D=r.pointer(D)[0];D=y.invert(D);var I=Object.keys(v);C=r.bisector(function(d){return d}).left;var J=C(I,D,1);C=I[J-1];J=I[J];J=D-C>J-D?J:C;D=y(J);C=Math.min.apply(null,I);I=Math.max.apply(null,I);J=v[n.clamp(J,C,I)];J=n.parseRichContent(J.label);
if(0<J.length){B.text(J);var G=B.node().getComputedTextLength()+2*l.PRICE_TRACKER_TOOLTIP_TEXT_LEFT_PADDING;J=l.PRICE_TRACKER_TOOLTIP_VERTICAL_LINE_TOP_OFFSET;G={x:D-G/2,y:l.PRICE_TRACKER_TOOLTIP_TOP_OFFSET,width:G,height:h};B.attr("width",G.width).attr("y",l.PRICE_TRACKER_TOOLTIP_TEXT_TOP_PADDING).attr("x",G.width/2);E.attr("width",G.width);r.select(this).transition().duration(l.PRICE_TRACKER_ANIMATION_DURATION).attr("r",l.PRICE_TRACKER_EVENT_SYMBOL_RADIUS_HIGHLIGHTED);x.attr("transform",n.tooltipTransform(G,
-l.PRICE_TRACKER_GRAPH_WINDOW_PADDING_RIGHT,e+l.PRICE_TRACKER_GRAPH_WINDOW_PADDING_RIGHT-l.PRICE_TRACKER_TOOLTIP_SHADOW_X_OFFSET)).transition().duration(l.PRICE_TRACKER_ANIMATION_DURATION).attr("opacity",1);D=n.clamp(D,y(C),y(I));F.attr("x1",D).attr("y1",J).attr("x2",D).attr("y2",h).transition().duration(l.PRICE_TRACKER_ANIMATION_DURATION).attr("opacity",1)}},hideAction:function(e,h){r.select(this).transition().duration(l.PRICE_TRACKER_ANIMATION_DURATION).attr("r",l.PRICE_TRACKER_EVENT_SYMBOL_RADIUS);
x.transition().duration(l.PRICE_TRACKER_ANIMATION_DURATION).attr("opacity",0);F.transition().duration(l.PRICE_TRACKER_ANIMATION_DURATION).attr("opacity",0)}}}function W(e,h,n,r,u,v){var x=[],y;for(y in e)if(e.hasOwnProperty(y)){var B=e[y],E=S(r,u,B);M(n,h,E,l.PRICE_TRACKER_EVENT_TYPE_MAP[y].LINE_STYLE);x=x.concat(B)}ca(x,h,r,u,v)}function ca(e,h,r,u,v){e=e.map(function(e){return{tick:e.startDateTick,value:e.value,type:e.type}});n.getD3ChildrenElementsBasedOnClass(h,l.PRICE_TRACKER_EVENT_SYMBOL_CLASS).data(e).join(l.PRICE_TRACKER_EVENT_CIRCLE).attr("class",
function(e){return l.PRICE_TRACKER_EVENT_TYPE_MAP[e.type].CSS_CLASS}).attr("cx",function(e){return r(e.tick)}).attr("cy",function(e){return u(e.value)}).attr("r",l.PRICE_TRACKER_EVENT_SYMBOL_RADIUS).on("touchstart",function(e){return e.preventDefault()}).on("pointermove",v.showAction).on("pointerup mouseout",v.hideAction)}function B(e,h,n,r,u){var v=[];if(1<e.length)for(var x=0;x<e.length-1;x++){var y=e[x].reduce(function(e,h){return e.dateTick>h.dateTick?e:h}),B=e[x+1].reduce(function(e,h){return e.dateTick<
h.dateTick?e:h});v.push(xc(y,B,r,u))}M(v,h,n,l.PRICE_TRACKER_NO_DATA_TREND_LINE_STYLE)}function xc(e,h,l,r){var u=n.buildRichContentFromText(C.getNoDataTooltipLabel()),v=(h.value-e.value)/(h.dateTick-e.dateTick),x=e.value,y=[e];for(e=e.dateTick+1;e<h.dateTick;++e){x+=v;var B={dateTick:e,label:u,value:x};y.push(B);l.push({tick:e,value:x});r[e]=B}y.push(h);return y}function ta(e){var n=r.select("body").append("svg").attr("width",0).attr("height",0).style("position","absolute"),u=0;h.each(e,function(e){n.append("text").attr("x",
0).attr("y",0).attr("class",l.PRICE_TRACKER_Y_AXIS_TICK_TEXT_CLASS).text(e);e=n.select("."+l.PRICE_TRACKER_Y_AXIS_TICK_TEXT_CLASS).node().getComputedTextLength();e>u&&(u=e);n.select("."+l.PRICE_TRACKER_Y_AXIS_TICK_TEXT_CLASS).remove()});n.remove();return u}return{renderChart:function(h,n,r,C){var x=E(h.xAxis),F=u(h.yAxis),S=ta(F.values),L={top:l.PRICE_TRACKER_GRAPH_WINDOW_PADDING_TOP,right:l.PRICE_TRACKER_GRAPH_WINDOW_PADDING_RIGHT,bottom:l.PRICE_TRACKER_GRAPH_WINDOW_PADDING_BOTTOM,left:l.PRICE_TRACKER_GRAPH_WINDOW_PADDING_LEFT+
S},N=r-L.left-L.right;S=C-L.top-L.bottom;r=v(r,C);r=G(r,L);C=h.series.map(function(e){return e.points});if(0<C.length){var Q=C.flat().sort(function(e,h){return e.dateTick-h.dateTick});L=O(Q);Q=Q.map(function(e){return{tick:e.dateTick,value:e.value}});n=e(n);x=y(r,N,S,x.min,x.max,x.values,x.tickValues);F=I(r,N,S,F.min,F.max,F.values,F.tickValues);var ia=V(x,F);M(C,r,ia,l.PRICE_TRACKER_TREND_LINE_STYLE);B(C,r,ia,Q,L);N=ba(N,S,r,L,x);W(n,r,C,x,F,N);T(Q,r,x,S,N)}D(r,h.textualRepresentation)},clearGraph:function(){n.getD3ElementBasedOnDynamicID(l.PRICE_TRACKER_GRAPH_ID).selectAll("*").remove()}}}),
G.when("A","jQuery","price-tracker-helper","price-tracker-constants","price-tracker-d3","price-tracker-events-legend-element-helper").register("price-tracker-events-legend-render",function(h,n,l,r,C,G){function v(h,l){h.append(r.PRICE_TRACKER_EVENT_CIRCLE).attr("id",function(e){return r.PRICE_TRACKER_EVENT_TYPE_MAP[e.type].SYMBOL_ID}).attr("class",function(e){return r.PRICE_TRACKER_EVENT_TYPE_MAP[e.type].CSS_CLASS}).attr("r",r.PRICE_TRACKER_EVENT_SYMBOL_RADIUS).attr("cx",r.PRICE_TRACKER_SYMBOL_LEGEND_CX).attr("cy",
r.PRICE_TRACKER_SYMBOL_LEGEND_CY).attr("x",l);return l+=parseInt(r.PRICE_TRACKER_SYMBOL_LEGEND_CX)+parseInt(r.PRICE_TRACKER_EVENT_SYMBOL_RADIUS)+r.PRICE_TRACKER_LEGEND_PADDING_BETWEEN_SYMBOL_AND_LABEL}function D(h,l,e,n){h.append("text").attr("class",function(e){return r.PRICE_TRACKER_EVENT_TYPE_MAP[e.type].LABEL_CLASS}).text(function(e){return e.label}).attr("x",l).attr("y",e);return l+=r.PRICE_TRACKER_LEGEND_PADDING_BETWEEN_EVENTS*n}function O(h,l,e){var n=r.PRICE_TRACKER_LEGEND_PADDING_BETWEEN_EVENTS,
u=l.nodes();l.attr("transform",function(h,l){return"translate("+(C.sum(e,function(e,h){return h<l?u[h].getBBox().width:0})+n*l)+",0)"});h.attr("height",u[0].getBBox().height);h.attr("width",u.reduce(function(e,h){return e+h.getBBox().width},0)+n*u.length)}return{renderLegend:function(n){n&&n.chart&&n.chart.eventSeries&&function(){var u=n.chart.eventSeries,e=l.getDynamicID(r.PRICE_TRACKER_LEGEND_ID);0===l.getElementBasedOnID(e).length&&function(){var y=l.getD3ElementBasedOnDynamicID(r.PRICE_TRACKER_LEGEND_COMPONENT_ID).append("svg").attr("id",
l.getDynamicID(r.PRICE_TRACKER_LEGEND_SVG_ID)),C=y.append("g").attr("id",e).selectAll("g").data(u).enter().append("g"),E=0;h.each(u,function(e){E+=e.label.length});var L=0,M=parseInt(r.PRICE_TRACKER_SYMBOL_LEGEND_CY),N=M+r.PRICE_TRACKER_LABEL_FROM_SYMBOL_Y_SHIFT;L=v(C,L);L=D(C,L,N,E);G.addDynamicLegendElements(C,L,M,N,u,n);h.on(r.PRICE_TRACKER_GRID_SHOWN_EVENT_NAME,function(){O(y,C,u)});l.getElementBasedOnDynamicID(r.PRICE_TRACKER_LEGEND_SVG_ID).attr("aria-hidden",!0)}()}()},clearLegend:function(){l.getD3ElementBasedOnDynamicID(r.PRICE_TRACKER_LEGEND_COMPONENT_ID).selectAll("*").remove()}}}))});
G.when("A","price-tracker-content-render","price-tracker-content-loader","price-tracker-helper","price-tracker-constants","price-tracker-metrics","price-tracker-latency-metrics").register("price-tracker-event-handler",function(h,v,n,l,r,C,N){function L(n){h.on(h.constants.BROWSER_EVENTS.RESIZE,D);l.registerEvent("a:popover:invisible:"+n,function(){h.off(h.constants.BROWSER_EVENTS.RESIZE,D);h.off(r.PRICE_TRACKER_GRID_SHOWN_EVENT_NAME);v.clearContent()});l.registerEvent(r.PRICE_TRACKER_IS_LOADED_EVENT_NAME,
function(){C.stopTimer(N.METRIC_LATENCY_WIDGET)})}G.declare(r.PRICE_TRACKER_ASSETS_LOADED_STATE,{isPriceTrackerAssetsLoaded:!0});var D=function(){v.rerenderContent()};return{renderPriceTracker:function(h){try{h&&h.data&&null!=h.data.buyingOptionIndex&&l.updateBuyingOptionIndex(h.data.buyingOptionIndex);var v=l.getDynamicID(r.PRICE_TRACKER_MODAL_NAME);L(v);n.loadPriceTracker(h)}catch(u){C.logCountMetric(C.METRIC_DESKTOP_FATAL),l.hideSpinner(),l.showFailureMessage(),C.stopTimer(N.METRIC_LATENCY_WIDGET),
l.logError("An error occurred while loading Price Tracker on a desktop client.",u)}}}})});