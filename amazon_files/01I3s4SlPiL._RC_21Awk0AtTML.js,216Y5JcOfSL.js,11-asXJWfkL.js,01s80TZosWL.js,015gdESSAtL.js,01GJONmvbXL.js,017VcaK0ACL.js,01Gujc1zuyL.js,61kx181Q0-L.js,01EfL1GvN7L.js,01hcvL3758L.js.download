(function(b){var c=window.AmazonUIPageJS||window.P,d=c._namespace||c.attributeErrors,a=d?d("DetailPageLayoutAssets",""):c;a.guardFatal?a.guardFatal(b)(a,window):a.execute(function(){b(a,window)})})(function(b,c,d){b.when("A","ready").execute(function(a){var b,d=a.$;a.on("a:expander:zones_progressive_disclosure_expander:toggle:collapse",function(a){(a=d("#dp-pr-top"))&&a.length||c.scrollTo({top:b})});a.on("a:expander:zones_progressive_disclosure_expander:toggle:expand",function(a){b=d(c).scrollTop()})})});
/* ******** */
(function(f){var h=window.AmazonUIPageJS||window.P,l=h._namespace||h.attributeErrors,c=l?l("DetailPageMobileIconFarmAssets@common","DetailPageMobileIconFarm"):h;c.guardFatal?c.guardFatal(f)(c,window):c.execute(function(){f(c,window)})})(function(f,h,l){f.when("A","ready").register("get-icon-farm-page-state",function(c){return{parseJSON:function(e,b){b="iconfarm-state-"+b;var d='script[data-a-state\x3d"{"key":"'+b+'"}"]',a;try{a=c.$("#"+e).find(d).html()}catch(k){console.log(k.message)}a?e=c.$.parseJSON(a):
(c.state.parse(),e=c.state(b));return e}}});f.declare("icon-farm-mod-constants",{selector:{BUYBOX_ACCORDION:"#buybox .a-accordion",BUYBOX_ACCORDION_ACTIVE:"#buybox .a-accordion-active",iconfarm:"#iconfarmv2_feature_div .offersConsistencyEnabled"}});f.declare("iconfarm-metrics-constants",{ICON_FARM_FEATURE_DIV:"iconFarm_feature_div",ICON_FARM_PAGE_STATE_HOLDER_DIV:"iconfarm-pagestate-holder",METRIC_TYPE:{GLANCE_VIEW:"GLANCE_VIEW",ICON_CLICK:"ICON_CLICK",SECONDARY_PAGE_OPEN:"SECONDARY_PAGE_OPEN",SECONDARY_PAGE_CLOSE:"SECONDARY_PAGE_CLOSE",
FULL_RETURN_POLICY:"FULL_RETURN_POLICY",PAGE_DATA_MISSING:"PAGE_DATA_MISSING",ABSENT:"ABSENT",EXPANDER_OPEN:"EXPANDER_OPEN"},REF_MARKER_PREFIX:{ICON_FARM_WIDGET:"iconfarm_wid",AMAZON_DELIVERED:"iconfarm_ad",RETURNS_POLICY:"iconfarm_rp",PAY_ON_DELIVERY:"iconfarm_pod",WARRANTY:"iconfarm_wr",EASY_CARE:"iconfarm_ec",AMAZON_PROTECT:"iconfarm_ap",NO_CONTACT_DELIVERY:"iconfarm_ncd",GENERIC_RETURN_POLICY:"iconfarm_grp",MULTIPLE_SPECIFIC_RETURN_POLICY:"iconfarm_msrp",SINGLE_SPECIFIC_RETURN_POLICY:"iconfarm_ssrp",
PAYMENTS_AND_SECURITY:"iconfarm_ps",PAY_ON_DELIVERY_ACTIVE:"iconfarm_pod_active",PAY_ON_DELIVERY_INACTIVE:"iconfarm_pod_inactive",WARRANTY_EU:"iconfarm_wr_eu",AMAZON_MANAGED_DELIVERY:"iconfarm_amd",AMAZON_DELIVERED_MENA:"iconfarm_ad_mena",SAFE_PAYMENTS:"iconfarm_sp",STATIC_RETURNS_POLICY:"iconfarm_srp",GENERIC_RETURNS_POLICY:"iconfarm_grp",SUPPORT_POLICY:"iconfarm_supp",WARRANTY360:"iconfarm_wr360",WORRY_FREE_GUARANTEE_JP:"iconfarm_wfg_jp",WARRANTY_JP:"iconfarm_wr_jp",DELIVERY_JP:"iconfarm_dl_jp",
RETURN_POLICY_JP:"iconfarm_rp_jp",SMALL_BUSINESS_JP:"iconfarm_sb_jp",DELIVERY_HIT:"iconfarm_dh",WARRANTY_HIT:"iconfarm_wh",RETURN_POLICY_HIT:"iconfarm_rph",CUSTOMER_SUPPORT:"iconfarm_cs",SERVICE:"iconfarm_serv",FREE_DELIVERY:"iconfarm_fd",FREE_DELIVERY_V2:"iconfarm_fdv2",TOP_BRAND:"iconfarm_tb",AUTHENTICITY:"iconfarm_auth"},REF_MARKER_SUFFIX:{GLANCE_VIEW:"_gv",ICON_CLICK:"_clk",SECONDARY_PAGE_OPEN:"_sp_op",SECONDARY_PAGE_CLOSE:"_sp_cl",FULL_RETURN_POLICY:"_frp",EXPANDER_OPEN:"_exp_op",ABSENT:"_noavail"},
NEXUS_CONFIG:{NEXUS_PRODUCER_ID:"a2i-dpx",NEXUS_SCHEMA_ID:"a2i.dpx.WidgetImpressions.3"},LOGGER_CONFIG:{NEXUS_LOGGER:"nexus"}});f.when("A","iconfarm-return-policy-metric-logger","iconfarm-pay-on-delivery-metric-logger","iconfarm-default-metric-logger").register("iconfarm-icon-metric-factory",function(c,e,b,d){return{getIconMetric:function(a){switch(a){case "RETURNS_POLICY":return e;case "PAY_ON_DELIVERY":return b;default:return d}}}});f.when("A","iconfarm-metrics-constants","get-icon-farm-page-state",
"iconfarm-icon-metric-factory","ready").register("iconfarm-metricLogger",function(c,e,b,d){return{log:function(a,k,m,g){if(a&&k&&null!==m&&e.REF_MARKER_PREFIX[a]&&e.REF_MARKER_SUFFIX[k]){var f=c.$("#icon-farm-widget-"+m),h=b.parseJSON(e.ICON_FARM_PAGE_STATE_HOLDER_DIV+"-"+m,m);h?d.getIconMetric(a).log(a,k,m,c.$.extend(!0,{asin:h.asin,merchantId:h.merchantId,remoteAddress:h.remoteAddress,isInternal:h.isInternal,isRobot:h.isRobot,numOfShownIcons:h.numOfShownIcons,buyingOptionIndex:m},g)):f.length&&
console.warn("iconfarm state may not be available")}}}});f.when("A","ready").register("iconfarm-postmetric",function(){return{postCountMetric:function(c){if("undefined"!==typeof c){var e=h.ue;if(e){var b=e.count(c)||0;e.count(c,b+1)}}},postTimeMetric:function(c,e){if("undefined"!==typeof c&&"undefined"!==typeof e){var b=h.ue;b&&b.count(c,e)}}}});f.when("A","ready").register("iconfarm-metric-cache",function(c){var e=[],b=function(a){if(!d(a))return!1;var b=!1;c.each(e,function(c,d){c.asin===a.asin&&
c.merchantId===a.merchantId&&c.ref===a.ref&&c.loggerType===a.loggerType&&c.buyingOptionIndex===a.buyingOptionIndex&&(b=!0)});return b},d=function(a){return a&&a.asin&&a.merchantId&&a.ref&&a.loggerType&&null!==a.buyingOptionIndex};return{isPresent:b,add:function(a){return d(a)?b(a)?!1:(e.push(a),!0):!1},reset:function(){e=[]}}});"use strict";f.when("A","iconfarm-metric-cache","iconfarm-metrics-constants","ready").register("iconfarm-Nexus-Service",function(c,e,b){return{log:function(d){if(e.add(d)){var a=
{};a.producerId=b.NEXUS_CONFIG.NEXUS_PRODUCER_ID;a.schemaId=b.NEXUS_CONFIG.NEXUS_SCHEMA_ID;a.refMarker=d.ref;a.pageAsin=d.asin;a.pageType=c.capabilities?c.capabilities.mobile?c.capabilities.isAmazonApp?"DetailWebView":"DetailAW":"Detail":"";a.subPageType="IconFarm";a.server=h?h.ue_sn:"";a.merchantId=d.merchantId;a.remoteAddress=d.remoteAddress;a.isInternal=d.isInternal?1:0;a.isRobot=d.isRobot?1:0;var k={};k.numOfShownIcons=d.numOfShownIcons;k.buyingOptionIndex=d.buyingOptionIndex;d=JSON.stringify(k);
a.additionalRequestData=d;if(d=h.ue)try{d.event&&d.event(a,b.NEXUS_CONFIG.NEXUS_PRODUCER_ID,b.NEXUS_CONFIG.NEXUS_SCHEMA_ID)}catch(f){d.count("NexusLoggerFailure",1)}}}}});f.when("A","iconfarm-Nexus-Service","iconfarm-metrics-constants","iconfarm-postmetric","ready").register("iconfarm-default-metric-logger",function(c,e,b,d){return{log:function(a,k,f,g){f=JSON.parse(JSON.stringify(g));e.log(c.$.extend(!0,f,{ref:b.REF_MARKER_PREFIX[a]+b.REF_MARKER_SUFFIX[k],loggerType:b.LOGGER_CONFIG.NEXUS_LOGGER}));
d.postCountMetric(b.REF_MARKER_PREFIX[a]+b.REF_MARKER_SUFFIX[k])}}});f.when("A","iconfarm-Nexus-Service","iconfarm-metrics-constants","iconfarm-postmetric","get-icon-farm-page-state","ready").register("iconfarm-return-policy-metric-logger",function(c,e,b,d,a){return{log:function(k,f,g,h){a:{if((g=a.parseJSON(b.ICON_FARM_PAGE_STATE_HOLDER_DIV+"-"+g,g))&&g.RETURNS_POLICY&&g.RETURNS_POLICY.secondaryViewData&&g.RETURNS_POLICY.secondaryViewData.glLevelReturnPolicies)switch(g.RETURNS_POLICY.secondaryViewData.glLevelReturnPolicies.length){case 0:g=
"GENERIC_RETURN_POLICY";break a;case 1:g="SINGLE_SPECIFIC_RETURN_POLICY";break a;default:g="MULTIPLE_SPECIFIC_RETURN_POLICY";break a}g=void 0}k=g||k;h=JSON.parse(JSON.stringify(h));e.log(c.$.extend(!0,h,{ref:b.REF_MARKER_PREFIX[k]+b.REF_MARKER_SUFFIX[f],loggerType:b.LOGGER_CONFIG.NEXUS_LOGGER}));d.postCountMetric(b.REF_MARKER_PREFIX[k]+b.REF_MARKER_SUFFIX[f])}}});f.when("A","iconfarm-Nexus-Service","iconfarm-metrics-constants","iconfarm-postmetric","get-icon-farm-page-state","ready").register("iconfarm-pay-on-delivery-metric-logger",
function(c,e,b,d,a){return{log:function(f,h,g,l){g=(g=a.parseJSON(b.ICON_FARM_PAGE_STATE_HOLDER_DIV+"-"+g,g))&&g.PAY_ON_DELIVERY&&g.PAY_ON_DELIVERY.isEligible?g.PAY_ON_DELIVERY.isEligible?"PAY_ON_DELIVERY_ACTIVE":"PAY_ON_DELIVERY_INACTIVE":void 0;f=g||f;l=JSON.parse(JSON.stringify(l));e.log(c.$.extend(!0,l,{ref:b.REF_MARKER_PREFIX[f]+b.REF_MARKER_SUFFIX[h],loggerType:b.LOGGER_CONFIG.NEXUS_LOGGER}));d.postCountMetric(b.REF_MARKER_PREFIX[f]+b.REF_MARKER_SUFFIX[h])}}})});
/* ******** */
(function(e){var k=window.AmazonUIPageJS||window.P,g=k._namespace||k.attributeErrors,a=g?g("DetailPageMobileIconFarmAssets@desktop","DetailPageMobileIconFarm"):k;a.guardFatal?a.guardFatal(e)(a,window):a.execute(function(){e(a,window)})})(function(e,k,g){e.when("A","a-popover","icon-farm-constants","iconfarm-metricLogger","iconfarm-metrics-constants","icon-farm-web-mod-util","ready").register("icon-farm-desktop-popover",function(a,l,b,c,d,f){var h=function(b){var h=b.data("name");a.off("a:popover:beforeShow:"+
h);a.on("a:popover:beforeShow:"+h,function(a){a=f.getCurrentBuyingOptionIndex();c.log(h,d.METRIC_TYPE.ICON_CLICK,a);c.log(h,d.METRIC_TYPE.SECONDARY_PAGE_OPEN,a)});a.off("a:popover:beforeHide:"+h);a.on("a:popover:beforeHide:"+h,function(a){a=f.getCurrentBuyingOptionIndex();c.log(h,d.METRIC_TYPE.SECONDARY_PAGE_CLOSE,a)})};return{init:function(){for(var c=a.$(b.ICON_FARM_CONTAINER_CLASS),f=0;f<c.length;f++){var d=a.$(c[f]),e=d.data(b.TYPE_PARAM);if(e&&e===b.TYPE_PARAM_VALUE_CUSTOM_POP_OVER){var e=d,
g=a.$("#"+e.data(b.POPOVER_CONTENT_PARAM)),g={activate:b.POPOVER_ACTIVATION,position:b.POPOVER_POSITION,width:b.POPOVER_WIDTH,inlineContent:g.html(),name:e.data("name")};l.create(e,g);h(d)}}}}});e.when("A","get-icon-farm-page-state","icon-farm-constants","iconfarm-metricLogger","iconfarm-metrics-constants","icon-farm-web-mod-util","ready").register("icon-farm-desktop-returns-policy",function(a,e,b,c,d,f){a.declarative("returns-policy-url","click",function(a){a=f.getCurrentBuyingOptionIndex();c.log("RETURNS_POLICY",
d.METRIC_TYPE.FULL_RETURN_POLICY,a);a=e.parseJSON(b.ICON_FARM_PAGE_STATE_HOLDER_DIV+"-"+a,a);k.open(a.RETURNS_POLICY.genericReturnPolicyURL,"_blank")});a.off("a:popover:beforeShow:return-policy-secondary-view");a.on("a:popover:beforeShow:return-policy-secondary-view",function(a){a=f.getCurrentBuyingOptionIndex();c.log("RETURNS_POLICY",d.METRIC_TYPE.ICON_CLICK,a);c.log("RETURNS_POLICY",d.METRIC_TYPE.SECONDARY_PAGE_OPEN,a)});a.off("a:popover:beforeHide:return-policy-secondary-view");a.on("a:popover:beforeHide:return-policy-secondary-view",
function(a){a=f.getCurrentBuyingOptionIndex();c.log("RETURNS_POLICY",d.METRIC_TYPE.SECONDARY_PAGE_CLOSE,a)});return{init:function(){}}});e.when("A","IconFarmPageStateParserService","icon-farm-desktop-popover","icon-farm-desktop-returns-policy","iconfarm-metricLogger","icon-farm-constants","iconfarm-metrics-constants","iconfarm-metric-cache","icon-farm-web-mod-util","icon-farm-change-buying-option","atf","ready").execute(function(a,l,b,c,d,f,h,g,k,q){function m(){g.reset();a.loadImageManually(a.$(".icon-box"));
b.init();c.init();q.init();for(var f=0;f<n;f++)r(f)}var n=k.getBuyingOptionCounts(),r=function(f){var b="#icon-farm-widget-"+f,c=a.$(b);c&&c.length?d.log("ICON_FARM_WIDGET",h.METRIC_TYPE.GLANCE_VIEW,f):d.log("ICON_FARM_WIDGET",h.METRIC_TYPE.ABSENT,f);(b=a.$(b+" .icon-container"))&&b.length&&b.each(function(){d.log(a.$(this).data("name"),h.METRIC_TYPE.GLANCE_VIEW,f)})};m();a.on("a:pageUpdate",function(){var b;a:{try{if(a.$("#"+f.ICON_FARM_V2_FEATURE_DIV).find("script").length){b=f.ICON_FARM_V2_FEATURE_DIV;
break a}if(a.$("#"+f.ICON_FARM_V2_PRIMARY_FEATURE_DIV).find("script").length){b=f.ICON_FARM_V2_PRIMARY_FEATURE_DIV;break a}d.log("ICON_FARM_WIDGET",h.PAGE_DATA_MISSING,0)}catch(c){e.log(c,"ERROR","DetailPageMobileIconFarm")}b=void 0}if(b){for(var g=0;g<n;g++)if(l.isNewState(b,f.ICON_FARM_STATE+"-"+g)){var p=l.processState(b,f.ICON_FARM_STATE+"-"+g);if(a.objectIsEmpty(p))return}m()}})});e.declare("icon-farm-constants",{ICON_FARM_FEATURE_DIV:"iconFarm_feature_div",ICON_FARM_V2_FEATURE_DIV:"iconfarmv2_feature_div",
ICON_FARM_V2_PRIMARY_FEATURE_DIV:"iconFarmV2InsidePrimary_feature_div",ICON_FARM_PAGE_STATE_HOLDER_DIV:"iconfarm-pagestate-holder",ICON_FARM_CONTAINER_CLASS:".icon-container",ICON_FARM_SECONDARY_VIEW_HOLDER_ID:"#icon-farm-secondary-view-holder",ICON_FARM_STATE:"iconfarm-state",POPOVER_ACTIVATION:"onclick",POPOVER_POSITION:"triggerBottom",POPOVER_WIDTH:"533",POPOVER_CONTENT_PARAM:"iconContent",TYPE_PARAM:"type",TYPE_PARAM_VALUE:"bottom-sheet",TYPE_PARAM_VALUE_CUSTOM_POP_OVER:"custom-pop-over"});(function(){e.when("A",
"atf","ready").register("IconFarmPageStateParserService",function(a){function e(b,c){c='script[data-a-state\x3d"'+JSON.stringify({key:c})+'"]';return a.$("#"+b).find(c)}return{processState:function(b,c){var d;try{var f=e(b,c),h=f[0];d=f.html();var g=a.parseJSON(d);a.state(c,g);a.$.data(h,"state_processed",!0);return g}catch(k){console.log(k)}return a.state(c)},isNewState:function(b,c){try{return!a.$.data(e(b,c)[0],"state_processed")}catch(d){console.warn("Unable to determine state status",d)}return!1}}})})();
"use strict";e.when("A","icon-farm-mod-constants").register("icon-farm-web-mod-util",function(a,e){return{getBuyingOptionCounts:function(){if(!a.$(e.selector.iconfarm).length)return 1;var b=a.$(e.selector.BUYBOX_ACCORDION);if(0===b.length)return 1;b=b[0];if(a.$(e.selector.iconfarm).length){for(var b=b.children,c=0,d=0;d<b.length;d++)var f=a.$(b[d]).attr("data-buying-option-index"),c=Math.max(c,f);b=c}else b=0;return b+1},getCurrentBuyingOptionIndex:function(){var b=0;if(!a.$(e.selector.iconfarm).length)return 0;
var c=a.$(e.selector.BUYBOX_ACCORDION_ACTIVE);c.length&&(b=c.index());return b}}});e.when("A","icon-farm-mod-constants","icon-farm-web-mod-util","ready").register("icon-farm-change-buying-option",function(a,e,b){var c=b.getCurrentBuyingOptionIndex(),d=function(b){var d=a.$(e.selector.iconfarm);if(d.length){var k=d[0].children;k.length&&(d=k[c],b!==g&&b.selectedRow!==g&&b.selectedRow.$row!==g&&a.$(b.selectedRow.$row)!==g&&(b=a.$(b.selectedRow.$row).index(),b!==c&&(k=k[b],d.style.display="none",k.style.display=
"block",c=b)))}};return{init:function(){a.on("a:pageUpdate",d);a.on("PageRefresh:ATF",d);a.on("a:accordion:buybox-accordion:select",d)}}})});
/* ******** */
(function(d){var f=window.AmazonUIPageJS||window.P,g=f._namespace||f.attributeErrors,b=g?g("DetailPageSocialProofingAssets@common","DetailPageSocialProofing"):f;b.guardFatal?b.guardFatal(d)(b,window):b.execute(function(){d(b,window)})})(function(d,f,g){d.declare("socialProofingConstants",{socialProofingAUIState:"social-proofing-page-state-cache",socialProofingState:"social-proofing-page-state",socialProofingTriggeredAsinsState:"social-proofing-triggered-asins-page-state",socialProofingBadgeClass:".social-proofing-badge",
socialProofingFaceoutClass:".social-proofing-faceout",socialProofingBadgeWeblabDivId:"#social-proofing-badge-weblab-data",MOBILE_APP:"mobileApp",ATTRIBUTION:"SocialProofing"});"use strict";d.when("A","socialProofingConstants","socialProofingPageState","ready").register("socialProofingUtil",function(b,e,h){function k(b,a){f.ue&&f.ue.trigger?f.ue.trigger(b,a):d.log("Failed to get ue and ue.trigger for weblab: "+b+"and treatment: "+a,"WARN",e.ATTRIBUTION)}return{getAttributeFromPageState:function(c){var a=
b.state(e.socialProofingState);if(a)return a[c]},triggerWebLab:k,triggerWeblabsBySectionId:function(c){c=b.$(c);if(c.length){if(!h.isWeblabTriggered()&&(c=c[0])){c=c.dataset;for(var a in c)k(a.toString().toUpperCase(),c[a]);h.updateWeblabTriggeredToTrue()}}else b.state.replace(e.socialProofingTriggeredAsinsState,{})}}});"use strict";d.when("A","socialProofingConstants","ready").register("socialProofingPageState",function(b,e){function d(){var a=b.state(c);if(a)return a.asin}function f(){var a=b.state(e.socialProofingTriggeredAsinsState);
return a?!0===a.weblabTriggered:(b.state.replace(e.socialProofingTriggeredAsinsState,{weblabTriggered:!1}),!1)}var c=e.socialProofingState;return{reloadPageState:function(){b.each(b.$(".social-proofing-badge").siblings("[data-a-state]"),function(a){b.parseJSON(b.$(a).attr("data-a-state")).key===c&&(a=b.parseJSON(b.$(a).html()))&&a.asin!==d()&&(b.state.replace(c,a,!0),b.state.replace(e.socialProofingTriggeredAsinsState,{}))});b.each(b.$(".social-proofing-faceout").siblings("[data-a-state]"),function(a){b.parseJSON(b.$(a).attr("data-a-state")).key===
c&&(a=b.parseJSON(b.$(a).html()))&&a.asin!==d()&&b.state.replace(c,a,!0)})},isMobileApp:function(){var a=b.state(c);if(a)return a.deviceType===e.MOBILE_APP},getAsin:d,getMerchantId:function(){var a=b.state(c);if(a)return a.merchantId},getRemoteAddress:function(){var a=b.state(c);if(a)return a.remoteAddress},getIsInternal:function(){var a=b.state(c);if(a)return a.isInternal},getIsRobot:function(){var a=b.state(c);if(a)return a.isRobot},getAvailableBadges:function(){var a=b.state(c);if(a)return a.availableBadges},
getAvailableFaceouts:function(){var a=b.state(c);if(a)return a.availableFaceouts},isWeblabTriggered:f,updateWeblabTriggeredToTrue:function(){var a=b.state(e.socialProofingTriggeredAsinsState);a&&!f()&&(a.weblabTriggered=!0,b.state.replace(e.socialProofingTriggeredAsinsState,a))}}})});
/* ******** */
(function(f){var c=window.AmazonUIPageJS||window.P,e=c._namespace||c.attributeErrors,d=e?e("DetailPageSocialProofingAssets@logger","DetailPageSocialProofing"):c;d.guardFatal?d.guardFatal(f)(d,window):d.execute(function(){f(d,window)})})(function(f,c,e){f.when("A","ready").register("socialProofingNexusLogger",function(d){function f(b){var a=c.ue;if(a)try{a.event&&a.event(b,b.producerId,b.schemaId)}catch(d){a.count("NexusLoggerFailure",1)}}var a={};return{createEvent:function(b){a.producerId=b.producerId;
a.schemaId=b.schemaId;a.pageAsin=b.pageAsin;a.pageType=b.pageType;a.subPageType=b.subPageType;a.merchantId=b.merchantId;a.remoteAddress=b.remoteAddress;a.isInternal=b.isInternal?1:0;a.isRobot=b.isRobot?1:0;a.server=c?c.ue_sn:""},logNexusEvent:function(b,c){if(0!==Object.keys(a).length){var e=JSON.parse(JSON.stringify(a));e.refMarker=b;d.objectIsEmpty(c)||Object.keys(c).forEach(function(a){e[a]=c[a]});f(e)}}}})});
/* ******** */
(function(a){var c=window.AmazonUIPageJS||window.P,e=c._namespace||c.attributeErrors,b=e?e("DetailPageSocialProofingAssets@badges","DetailPageSocialProofing"):c;b.guardFatal?b.guardFatal(a)(b,window):b.execute(function(){a(b,window)})})(function(a,c,e){a.when("A","socialProofingConstants","ready").register("socialProofingBadgeUtil",function(b,d){return{isSocialProofingBadgePresent:function(){return 0<b.$(d.socialProofingBadgeClass).length}}});"use strict";a.declare("socialProofingBadgeMetricConstants",
{NEXUS_PRODUCER_ID:"a2i-dpx",NEXUS_SCHEMA_ID:"a2i.dpx.WidgetImpressions.3",pageTypeWebview:"DetailWebview",pageTypeAW:"DetailAW",subPageType:"INAffordability",refMarker:{glanceView:"social_proofing_badge_present"}});"use strict";a.when("A","socialProofingPageState","socialProofingBadgeMetricConstants","socialProofingNexusLogger").register("socialProofingBadgeNexusLogger",function(b,d,a,c){return{createSocialProofingBadgeNexusEvent:function(){c.createEvent({producerId:a.NEXUS_PRODUCER_ID,schemaId:a.NEXUS_SCHEMA_ID,
pageType:d.isMobileApp()?a.pageTypeWebview:a.pageTypeAW,subPageType:a.subPageType,pageAsin:d.getAsin(),merchantId:d.getMerchantId(),remoteAddress:null,isInternal:d.getIsInternal(),isRobot:d.getIsRobot()})},logGlanceViewData:function(){var b=d.getAvailableBadges();b&&c.logNexusEvent(a.refMarker.glanceView,{additionalRequestData:b})},logMetrics:function(a,b){c.logNexusEvent(a,b)}}})});
/* ******** */
(function(a){var c=window.AmazonUIPageJS||window.P,e=c._namespace||c.attributeErrors,b=e?e("DetailPageSocialProofingAssets@faceouts","DetailPageSocialProofing"):c;b.guardFatal?b.guardFatal(a)(b,window):b.execute(function(){a(b,window)})})(function(a,c,e){a.when("A","socialProofingConstants","ready").register("socialProofingFaceoutUtil",function(b,d){return{isSocialProofingFaceoutPresent:function(){return 0<b.$(d.socialProofingFaceoutClass).length}}});"use strict";a.declare("socialProofingFaceoutMetricConstants",
{NEXUS_PRODUCER_ID:"a2i-dpx",NEXUS_SCHEMA_ID:"a2i.dpx.WidgetImpressions.3",pageTypeWebview:"DetailWebview",pageTypeAW:"DetailAW",subPageType:"INAffordability",refMarker:{glanceView:"social_proofing_faceout_present"}});"use strict";a.when("A","socialProofingPageState","socialProofingFaceoutMetricConstants","socialProofingNexusLogger").register("socialProofingFaceoutNexusLogger",function(b,d,a,c){return{createSocialProofingFaceoutNexusEvent:function(){c.createEvent({producerId:a.NEXUS_PRODUCER_ID,schemaId:a.NEXUS_SCHEMA_ID,
pageType:d.isMobileApp()?a.pageTypeWebview:a.pageTypeAW,subPageType:a.subPageType,pageAsin:d.getAsin(),merchantId:d.getMerchantId(),remoteAddress:null,isInternal:d.getIsInternal(),isRobot:d.getIsRobot()})},logGlanceViewData:function(){var b=d.getAvailableFaceouts();b&&c.logNexusEvent(a.refMarker.glanceView,{additionalRequestData:b})},logMetrics:function(a,b){c.logNexusEvent(a,b)}}})});
/* ******** */
(function(b){var a=window.AmazonUIPageJS||window.P,d=a._namespace||a.attributeErrors,c=d?d("DetailPageSocialProofingAssets@desktop","DetailPageSocialProofing"):a;c.guardFatal?c.guardFatal(b)(c,window):c.execute(function(){b(c,window)})})(function(b,a,d){b.when("A","socialProofingPageState","socialProofingBadgeNexusLogger","socialProofingFaceoutNexusLogger","socialProofingBadgeUtil","socialProofingFaceoutUtil","socialProofingUtil","socialProofingConstants","atf","ready").execute(function(c,b,a,e,d,
f,g,h){c.on("a:pageUpdate",function(){d.isSocialProofingBadgePresent()&&(b.reloadPageState(),a.createSocialProofingBadgeNexusEvent(),a.logGlanceViewData());g.triggerWeblabsBySectionId(h.socialProofingBadgeWeblabDivId);f.isSocialProofingFaceoutPresent()&&(b.reloadPageState(),e.createSocialProofingFaceoutNexusEvent(),e.logGlanceViewData())});d.isSocialProofingBadgePresent()&&(a.createSocialProofingBadgeNexusEvent(),a.logGlanceViewData());g.triggerWeblabsBySectionId(h.socialProofingBadgeWeblabDivId);
f.isSocialProofingFaceoutPresent()&&(e.createSocialProofingFaceoutNexusEvent(),e.logGlanceViewData())})});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("DetailPageBylineInfoAssets@core","DetailPageBylineInfo"):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(t){var h=window.AmazonUIPageJS||window.P,g=h._namespace||h.attributeErrors,L=g?g("SocialShareWidgetAUI","AmazonUI"):h;L.guardFatal?L.guardFatal(t)(L,window):L.execute(function(){t(L,window)})})(function(t,h,g){function L(f){if(Array.isArray(f)){for(var g=0,h=Array(f.length);g<f.length;g++)h[g]=f[g];return h}return Array.from(f)}"use strict";"use strict";t.register("SocialShareWidget",function(){var f;(function(){var g={353:function(f,a,m){Object.defineProperty(a,"__esModule",{value:!0});
var b=m(905),e=m(738);f=function(){function a(){var D=this;this.generateTimestampCollection=function(){var a=(new Date).getTimezoneOffset();a=D.getDateTimeByOffset(a);var c=D.getDateTimeByOffset(0);return{hitDay:a.split("T")[0],hitDatetime:a,hitDatetimeUtc:c}};this.getMarketplaceId=function(a){return"string"==typeof a?a:h.ue&&h.ue.mid?h.ue.mid:e.CSA_DEFAULT_VALUE.string};var c=this.generateTimestampCollection();this.csaMetricsData={schemaId:a.CSA_SCHEMA_ID,userAgentId:e.CSA_DEFAULT_VALUE.number,hitDay:c.hitDay,
hitDatetime:c.hitDatetime,hitDatetimeUtc:c.hitDatetimeUtc,pageType:h.ue_pty?h.ue_pty:e.CSA_DEFAULT_VALUE.string,subPageType:h.ue_spty?h.ue_spty:e.CSA_DEFAULT_VALUE.string,sessionId:h.ue&&h.ue.sid?h.ue.sid:e.CSA_DEFAULT_VALUE.string}}return a.prototype.withCSAClickEventData=function(a){var c=a.shareDataAttributes;if(this.csaMetricsData.customerId=c.customerId?c.customerId:e.CSA_DEFAULT_VALUE.string,this.csaMetricsData.httpRequestId=c.requestId?c.requestId:e.CSA_DEFAULT_VALUE.string,this.csaMetricsData.asin=
c.asin?c.asin:e.CSA_DEFAULT_VALUE.string,this.csaMetricsData.ingress=c.ingress?c.ingress:e.CSA_DEFAULT_VALUE.string,this.csaMetricsData.platform=c.platform?c.platform:e.CSA_DEFAULT_VALUE.string,this.csaMetricsData.isInternal=this.getCSANumberMapping(c.isInternal),this.csaMetricsData.isRobot=this.getCSANumberMapping(c.isRobot),this.csaMetricsData.channel=a.channel?a.channel:e.CSA_DEFAULT_VALUE.string,this.csaMetricsData.refMarker=a.refMarker?a.refMarker:e.CSA_DEFAULT_VALUE.string,this.csaMetricsData.referrerUrl=
a.refererURL?a.refererURL:e.CSA_DEFAULT_VALUE.string,this.csaMetricsData.marketplaceId=this.getMarketplaceId(c.marketplaceId),this.csaMetricsData.isExperiment=/T\d+/.test(a.treatment)?"Y":"N",this.csaMetricsData.triggeredFromScreenshotToast=!!c.triggeredFromScreenshotToast&&c.triggeredFromScreenshotToast,a.weblab)c=this.csaMetricsData.shareEntities,(c=void 0===c?{}:c)[a.weblab]=a.treatment,this.csaMetricsData.shareEntities=c;a.customizeShareCSAData&&(c=this.csaMetricsData.shareEntities,c=void 0===
c?{}:c,a.customizeShareCSAData.isCustomizedExperienceEnabled===e.TRUE&&(c.backgroundImagePhysicalId=a.customizeShareCSAData.backgroundImagePhysicalId,c.deviceCoverImagePhysicalId=a.customizeShareCSAData.deviceCoverImagePhysicalId,c.hasQuote=a.customizeShareCSAData.hasQuote,c.isCustomized=a.customizeShareCSAData.isCustomized,c.customizePreSelected=a.customizeShareCSAData.customizePreSelected,c.isQuotesAvailable=a.customizeShareCSAData.isQuotesAvailable,this.csaMetricsData.shareEntities=c));a.isCustomShareOptionsSheetEnabled&&
(c=this.csaMetricsData.shareEntities,(c=void 0===c?{}:c).isCustomShareOptionsSheetEnabled="1",this.csaMetricsData.shareEntities=c);a.caf&&(c=this.csaMetricsData.shareEntities,(c=void 0===c?{}:c).cafSwitchEnabled=a.cafSwitchEnabled?e.TRUE:e.FALSE,this.csaMetricsData.shareEntities=c);a.cafEdCXIngressWeblabTreatment&&(c=this.csaMetricsData.shareEntities,(c=void 0===c?{}:c).cafEdCxIngressWelabT1="T1"===a.cafEdCXIngressWeblabTreatment?e.TRUE:e.FALSE,c.cafEdCxIngressWelabT2="T2"===a.cafEdCXIngressWeblabTreatment?
e.TRUE:e.FALSE);return this},a.prototype.withShareHitType=function(a){return this.csaMetricsData.shareHitType=a||e.CSA_DEFAULT_VALUE.string,this},a.prototype.getCSANumberMapping=function(a){return isNaN(Number(a))?2:Number(a)},a.prototype.getDateTimeByOffset=function(b){var c=new Date;0!==b&&(b*=a.MINUTES_TO_MILISECONDS,c=c.getTime()-b,c=new Date(c));return c.toISOString().split("Z")[0].split(".")[0]},a.prototype.logEvent=function(){(0,b.isCSALoaded)()&&h.csa(a.CSAPluginId,{producerId:a.CSA_PRODUCER_ID})(a.CSA_LOG_EVENT,
this.csaMetricsData)},a.MINUTES_TO_MILISECONDS=6E4,a.CSAPluginId="Events",a.CUSTOMIZE_SHARE_ENTITY_NAME="CustomizeShare",a.CSA_PRODUCER_ID="social-share",a.CSA_LOG_EVENT="log",a.CSA_SCHEMA_ID="SocialShareCSACustomEvent.CSAShareMetrics.8",a}();a.default=f},305:function(f,a){Object.defineProperty(a,"__esModule",{value:!0});a.default=function(a,b){var e={email:{label:"Email",name:"email",ref:"em",shareBaseUrl:"mailto:",image:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","email-circular.svg"),
imageSquared:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","email-squared.svg"),canOpenInPopup:!1,getSharingUrl:function(b){var c="?subject\x3d".concat(encodeURIComponent(a.emailSubject||a.title)),d="\x26body\x3d".concat(encodeURIComponent(a.title));b=encodeURIComponent(b||a.shareUrl.getReturnForChannel(this.ref));return"".concat(this.shareBaseUrl).concat(c).concat(d," ").concat(b)}},pi:{label:"Pinterest",name:"pinterest",ref:"pi",shareBaseUrl:"https://www.pinterest.com/pin/create/button/",
image:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","pinterest-circular.svg"),imageSquared:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","pinterest-squared.svg"),canOpenInPopup:!0,getSharingUrl:function(b){b="?url\x3d".concat(encodeURIComponent(b||a.shareUrl.getReturnForChannel(this.ref)));var c="\x26description\x3d".concat(encodeURIComponent(a.title)),d="\x26media\x3d".concat(encodeURIComponent(a.image));return"".concat(this.shareBaseUrl).concat(b).concat(c).concat(d,
"\x26method\x3dbutton")}},li:{label:"Line",name:"line",ref:"li",shareBaseUrl:"https://social-plugins.line.me/lineit/share",image:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","line-circular.svg"),imageSquared:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","line-squared.svg"),canOpenInPopup:!0,getSharingUrl:function(b){var c="?text\x3d".concat(encodeURIComponent(a.text)," ").concat(encodeURIComponent(a.title));b="\x26url\x3d".concat(encodeURIComponent(b||a.shareUrl.getReturnForChannel(this.ref)));
return"".concat(this.shareBaseUrl).concat(c).concat(b)}},fb:{label:"Facebook",name:"facebook",ref:"fa",shareBaseUrl:"https://www.facebook.com/dialog/share",image:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","facebook-circular.svg"),imageSquared:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","facebook-squared.svg"),canOpenInPopup:!0,getSharingUrl:function(b){b=encodeURIComponent(b||a.shareUrl.getReturnForChannel(this.ref));var c=encodeURIComponent(a.shareUrl.getReturnForChannel(this.ref).replace("_r_",
"_s_")),d=encodeURIComponent("#"+(a.hashtags[0]||"Amazon"));b=["?_encoding\x3dUTF8\x26app_id\x3d465632727431967\x26display\x3dpopup","href\x3d".concat(b),"redirect_uri\x3d".concat(c),"hashtag\x3d".concat(d)].join("\x26");return"".concat(this.shareBaseUrl).concat(b)}},tw:{label:"X",name:"x",ref:"tw",shareBaseUrl:"https://twitter.com/intent/tweet",image:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","x-circular.svg"),imageSquared:"".concat("https://m.media-amazon.com/images/G/01/share-icons/",
"x-squared.svg"),canOpenInPopup:!0,getSharingUrl:function(b){var c="?text\x3d".concat(encodeURIComponent(a.title));b="\x26url\x3d".concat(encodeURIComponent(b||a.shareUrl.getReturnForChannel(this.ref)));var d="\x26hashtags\x3d".concat(a.hashtags.join(",")),k="\x26via\x3d".concat(encodeURIComponent("Amazon"));return"".concat(this.shareBaseUrl).concat(c).concat(b).concat(d).concat(k)}},wa:{label:"WhatsApp",name:"whatsapp",ref:"wa",shareBaseUrl:"https://api.whatsapp.com/send?text\x3d",image:"".concat("https://m.media-amazon.com/images/G/01/share-icons/",
"whatsapp-circular.svg"),imageSquared:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","whatsapp-squared.svg"),canOpenInPopup:!0,getSharingUrl:function(b){b="\n              ".concat(encodeURIComponent(a.title),"\n              ").concat(encodeURIComponent(a.text),"\n              ").concat(encodeURIComponent(b||a.shareUrl.getReturnForChannel(this.ref)));return"".concat(this.shareBaseUrl).concat(b)}},sms:{label:"SMS",name:"sms",ref:"sms",shareBaseUrl:"sms:",image:"".concat("https://m.media-amazon.com/images/G/01/share-icons/",
"sms-circular.svg"),imageSquared:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","sms-squared.svg"),canOpenInPopup:!1,getSharingUrl:function(b){b="\n              ".concat(encodeURIComponent(a.title),"\n              ").concat(encodeURIComponent(b||a.shareUrl.getReturnForChannel(this.ref)));return"".concat(this.shareBaseUrl).concat(b)}},embed:{label:"Embed",name:"embed",ref:"eb",shareBaseUrl:"",image:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","embed-circular.svg"),
imageSquared:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","embed-squared.svg"),canOpenInPopup:!1,getSharingUrl:function(){return""}},copy:{label:"Copy",name:"copy",ref:"cp",shareBaseUrl:"",image:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","link-circular.svg"),imageSquared:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","link-squared.svg"),canOpenInPopup:!1,getSharingUrl:function(){return""}}};if(null==b?0:b.length){var d={};return b.forEach(function(a){e[a]&&
(d[a]=e[a])}),d}return e}},738:function(f,a){Object.defineProperty(a,"__esModule",{value:!0});a.Err={Abort:"AbortError"};f=a.CSA_HIT_TYPE={};f.CLICK_SUCCESS="click_success";f.CLICK_ERROR="click_error";f.CLICK_CANCEL="click_cancel";f.SHARE="share";f.CUSTOMIZE_SHARE="click_customize_success";a.customize="customize";a.customShareOptions="customShareOptions";a.customizeShareStateKey="customizeShareCSAData";a.CSA_DEFAULT_VALUE={string:"unknown",number:0,boolean:2};a.CAF_LEARN_MORE_KEY="learn_more_link";
a.CAF_INFO_ICON_KEY="info_icon";a.UNKNOWN="unknown";a.DEFAULT_CSA_REF_ID="u_";a.EMPTY_STRING="";a.RAW_CHANNEL_PREFIX="raw:";a.CP_CHANNEL_REF="cp";a.CUSTOM_SHARE_OPTIONS_CP_CHANNEL_REF="cso_cp";a.CUSTOM_SHARE_OPTIONS_REF_PREFIX="cso";a.BOOKS_REF_PREFIX="bks";a.BOOKS_CUSTOMIZE_PREVIEW_NOT_AVAILABLE="t2cna";a.CAF_REF_PREFIX="caf";a.EMBED_CHANNEL_REF="eb";a.BEST_FORMAT_REF="ffobk";a.FALSE="false";a.TRUE="true";a.CUSTOM_SHEET_CLICK_LATENCY_METRIC="CustomShareSheet.Click";a.CAF_CUSTOM_SHEET_CLICK_LATENCY_METRIC=
"Caf.CustomShareSheet.Click";a.BOOKS_CUSTOM_SHEET_CLICK_LATENCY_METRIC="Books.CustomShareSheet.Click";a.SSF_AUI_PACKAGE_ATTRIBUTION="SocialShareWidgetAUI";a.REGEX_TO_REF_ID_AND_CHANNEL_APP={instagram:{refId:"in",channel:"Instagram"},snap:{refId:"sn",channel:"Snapchat"},discord:{refId:"di",channel:"Discord"},viber:{refId:"vi",channel:"Viber"},telegram:{refId:"te",channel:"Telegram"},pinterest:{refId:"pi",channel:"Pinterest"},qzone:{refId:"qz",channel:"QQ Zone"},renren:{refId:"re",channel:"Renren"},
twitter:{refId:"tw",channel:"Twitter"},airdrop:{refId:"ar",channel:"AirDrop"},tencentweibo:{refId:"tc",channel:"Tencent Weibo"},wechatmoment:{refId:"wm",channel:"WeChat Moment"},line:{refId:"li",channel:"Line"},whatsapp:{refId:"wa",channel:"Whatsapp"},weibo:{refId:"si",channel:"Sina Weibo"},facebook:{refId:"fb",channel:"Facebook"}};a.defaultShareDataAttributes={isInternal:a.CSA_DEFAULT_VALUE.boolean,isRobot:a.CSA_DEFAULT_VALUE.boolean,userAgent:a.CSA_DEFAULT_VALUE.number,platform:a.CSA_DEFAULT_VALUE.string,
ingress:a.CSA_DEFAULT_VALUE.string,asin:a.CSA_DEFAULT_VALUE.string,requestId:a.CSA_DEFAULT_VALUE.string,customerId:a.CSA_DEFAULT_VALUE.string,marketplaceId:a.CSA_DEFAULT_VALUE.string};a.defaultCustomizeShareCSAData={backgroundImagePhysicalId:a.EMPTY_STRING,deviceCoverImagePhysicalId:a.EMPTY_STRING,hasQuote:a.EMPTY_STRING,isCustomizedExperienceEnabled:a.EMPTY_STRING,isCustomized:a.EMPTY_STRING}},905:function(f,a,m){Object.defineProperty(a,"__esModule",{value:!0});a.isSafari=a.isCSALoaded=a.isNativeAppShareAvailable=
a.isNativeWebShareAvailable=a.isMobileWeb=a.isMobileApp=a.isDesktop=a.isIpadIOS=a.isIOS=a.isAndroid=a.isIE=a.isAUILoaded=a.isUeAvailable=a.isClipboardAvailable=a.isRTL=a.isTwisterAsin=a.context=a.Device=void 0;var b,e=m(161);!function(a){a.Android="apan";a.IOS="apin";a.MWeb="mwn";a.Other="ud"}(b||(a.Device=b={}));a.context=function(){var d=b.Other;(0,a.isMobileApp)()&&(0,a.isAndroid)()?d=b.Android:(0,a.isMobileApp)()&&(0,a.isIOS)()?d=b.IOS:(0,a.isMobileWeb)()&&(d=b.MWeb);var c="unknown";return(0,
a.isMobileApp)()?c="mshop":(0,a.isMobileWeb)()?c="mweb":(0,a.isDesktop)()&&(c="desktop"),{device:d,page:(0,a.isUeAvailable)()?h.ue_pty:"unknown",subPage:(0,a.isUeAvailable)()?h.ue_spty||h.ue_pti:"unknown",platform:c}};a.isTwisterAsin=function(){return!!h.isTwisterPage||!!h.twisterController||d};a.isRTL=function(){return"rtl"===document.dir};a.isClipboardAvailable=function(){return!!navigator.clipboard&&(0,e.isFunction)(navigator.clipboard.writeText)};a.isUeAvailable=function(){return!!h.ue};a.isAUILoaded=
function(){var a;return"undefined"!=typeof h&&(0,e.isString)(null===(a=null===h||void 0===h?void 0:h.P)||void 0===a?void 0:a.AUI_BUILD_DATE)};a.isIE=function(){return(0,e.testUserAgent)(/MSIE|Trident/i)};a.isAndroid=function(){return(0,e.testUserAgent)(/android.([1-9]|[L-Z])/i)&&!(0,e.testUserAgent)(/trident|Edge/i)};a.isIOS=function(){return(0,e.testUserAgent)(/OS [1-9][0-9]*(_[0-9]*)+ like Mac OS X/i)&&!(0,e.testUserAgent)(/trident|Edge/i)};a.isIpadIOS=function(){return(0,e.testUserAgent)(/[a-zA-z]{1,}\/[0-99].[0-99] \(Macintosh; [a-zA-z]{1,} Mac OS X [1-9][0-9]*_[1-9][0-9]*_[1-9][0-9]*\) AppleWebKit\/[1-9][0-9]*.[1-9][0-9]*.[1-9][0-9]*/)||
(0,e.testUserAgent)(/iPad/)};a.isDesktop=function(){return!((0,a.isAndroid)()||(0,a.isIOS)()||(0,a.isMobileApp)()||(0,a.isMobileWeb)())};a.isMobileApp=function(){return/(Windowshop|Amazon|Amazon\.com)\//.test((0,e.getCookie)("amzn-app-id"))};a.isMobileWeb=function(){return 450>=h.screen.availWidth&&((0,e.testUserAgent)(/mobile|mini/i)||(0,a.isAndroid)()||(0,a.isIOS)())};a.isNativeWebShareAvailable=function(){return h.navigator&&(0,e.isFunction)(h.navigator.share)};a.isNativeAppShareAvailable=function(a){return a&&
(0,e.isFunction)(a.share)};a.isCSALoaded=function(){return(0,e.isFunction)(h.csa)};a.isSafari=function(){var a;return/apple/i.test(null===(a=h.navigator)||void 0===a?void 0:a.vendor)};var d=!1;(0,a.isAUILoaded)()&&h.P.when("mobile-inline-twister-critical").execute(function(){d=!0});a.default={context:a.context,isTwisterAsin:a.isTwisterAsin,isClipboardAvailable:a.isClipboardAvailable,isUeAvailable:a.isUeAvailable,isAUILoaded:a.isAUILoaded,isIE:a.isIE,isAndroid:a.isAndroid,isDesktop:a.isDesktop,isIOS:a.isIOS,
isIpadIOS:a.isIpadIOS,isMobileApp:a.isMobileApp,isMobileWeb:a.isMobileWeb,isNativeWebShareAvailable:a.isNativeWebShareAvailable,isNativeAppShareAvailable:a.isNativeAppShareAvailable,isCSALoaded:a.isCSALoaded,isSafari:a.isSafari,isRTL:a.isRTL}},495:function(f,a,m){Object.defineProperty(a,"__esModule",{value:!0});var b=m(905),e=m(353),d=m(738);f=function(){function a(){}return a.logCountOnce=function(a){(0,b.isUeAvailable)()&&h.ue.count(a,(h.ue.count(a)||0)+1)},a.emitFullMetricName=function(a,d,k){var c=
this;(0,b.isAUILoaded)()&&h.P.when("A").execute(function(b){b.trigger("".concat(c.BASE_METRIC_NAME,":metrics:logged"),{fullMetricName:a,callee:d,message:k})})},a.logCounter=function(a,b){b=b?".".concat(b):"";a="".concat(this.BASE_METRIC_NAME,".").concat(a).concat(b);this.emitFullMetricName(a,"logCounter");this.logCountOnce(a)},a.logCounterRefactor=function(a,b){b=b?".".concat(b.toLowerCase()):"";a="".concat(this.BASE_METRIC_NAME).concat(b,".").concat(this.platform).concat(this.metricName,".").concat(a.toLowerCase());
this.emitFullMetricName(a,"logCounterRefactor");this.logCountOnce(a)},a.logLoad=function(a){a="".concat(this.BASE_METRIC_NAME,".").concat(this.platform).concat(this.metricName,".").concat(a.toLowerCase());this.logCountOnce(a)},a.logFatal=function(a){(0,b.isAUILoaded)()&&h.P.log(a,"FATAL",this.BASE_METRIC_NAME)},a.logCSAEvent=function(a,d){(0,b.isCSALoaded)()&&(new e.default).withCSAClickEventData(d).withShareHitType(a).logEvent()},a.startTimer=function(a){a="".concat(this.BASE_METRIC_NAME,".").concat(this.LATENCY,
".").concat(a);this.timers[a]=h.uet&&h.uet("bb",a,{wb:1})},a.stopTimer=function(a){a="".concat(this.BASE_METRIC_NAME,".").concat(this.LATENCY,".").concat(a);var c=this.timers[a];(0,b.isUeAvailable)()&&c&&(c=h.uet("be",a,{wb:1})-c,h.ue.count(a,c),h.uex&&h.uex("ld",a,{wb:1}),this.emitFullMetricName(a,"stopTimer","".concat(c,"ms")),delete this.timers[a],this.timers["".concat(a,"_done_in")]=c)},a.BASE_METRIC_NAME="SocialShareFramework",a.LATENCY="Latency",a.platform=d.UNKNOWN,a.metricName="",a.timers=
{},a.getMetricName=function(c,d){var k;if(void 0===d&&(d=""),(0,b.isUeAvailable)()){var e=(0,b.context)();a.platform=e.platform;a.metricName=d?".".concat(d.toLowerCase()):""}c=c('[data-action\x3d"ssf-share-icon"]').data();d=d?".".concat(d):"";return c?(c=(null===(k=c.ssfShareIcon)||void 0===k?void 0:k.shareDataAttributes)||{},k=c.ingress,c=c.platform,c=void 0===c?"unknown":c,"".concat(void 0===k?"unknown":k,".").concat(c).concat(d).toLowerCase()):""},a}();a.default=f},241:function(f,a,m){Object.defineProperty(a,
"__esModule",{value:!0});var b,e=m(905),d=m(738);!function(a){a.RETURN="r";a.CLICK="cl"}(b||(b={}));f=function(){function a(a,b){if(void 0===a&&(a="ur"),void 0===b&&(b=void 0),this.PREFIX="cm_sw",this.id="",this.refId="",this._isBestFormatEnabled=!1,this.cxt={device:e.Device.Other,page:"",subPage:"",platform:d.UNKNOWN},2>a.length)throw new TypeError("refId must be 2 or more characters long");this.refId=a;this.cxt=(0,e.context)();this.treatment=b;this.generateUniqueId()}return Object.defineProperty(a.prototype,
"isBestFormatEnabled",{set:function(a){this._isBestFormatEnabled=a},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"return",{get:function(){return this.get(b.RETURN)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"click",{get:function(){return this.get(b.CLICK)},enumerable:!1,configurable:!0}),a.prototype.getReturnForChannel=function(a){var c,k=null!==(c=this.treatment)&&void 0!==c?c:"";return[this.PREFIX,b.RETURN,this._isBestFormatEnabled?d.BEST_FORMAT_REF:
"",a,this.cxt.device,this.refId,k,this.id].filter(function(a){return a&&""!==a}).join("_")},a.prototype.getClickForChannel=function(a){return[this.PREFIX,b.CLICK,this._isBestFormatEnabled?d.BEST_FORMAT_REF:"",a,this.cxt.device,this.refId,this.id].filter(function(a){return a&&""!==a}).join("_")},a.prototype.generateUniqueId=function(){var a,b=null===(a=null===h||void 0===h?void 0:h.ue)||void 0===a?void 0:a.rid;return b||(b="".concat(Math.random().toString(36).slice(2)).concat(Math.random().toString(36).slice(2)).substring(0,
13)),this.id=b},a.prototype.get=function(a){var b,c=null!==(b=this.treatment)&&void 0!==b?b:"";return[this.PREFIX,a,this._isBestFormatEnabled?d.BEST_FORMAT_REF:"",this.cxt.device,this.refId,c,this.id].filter(function(a){return a&&""!==a}).join("_")},a}();a.default=f},198:function(f,a,m){var b=this&&this.__assign||function(){return b=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a},b.apply(this,
arguments)};Object.defineProperty(a,"__esModule",{value:!0});var e,d=m(495),g=m(905),c=m(474),l=m(161),k=m(738);(0,g.isAUILoaded)()&&h.P.when("mash").execute(function(a){return e=a});f=function(){function a(a){this.sheetOptions={title:k.EMPTY_STRING,text:k.EMPTY_STRING,shareUrl:new c.default("http://amazon.com/","ur"),lang:"en",shareDataAttributes:k.defaultShareDataAttributes,refererURL:"",image:"",customizeShareCSAData:k.defaultCustomizeShareCSAData,isCustomShareOptionsSheetEnabled:!1};this.sheetOptions=
b(b({},this.sheetOptions),a);this.shareUrl=a.shareUrl}return a.prototype.launchNativeWeb=function(){var a,b=this,c=this.sheetOptions.shareDataAttributes.ingress,e={channel:k.EMPTY_STRING,refMarker:this.shareUrl.refMarker.click,refererURL:this.sheetOptions.refererURL,shareDataAttributes:this.sheetOptions.shareDataAttributes,customizeShareCSAData:this.sheetOptions.customizeShareCSAData},f=this.shareUrl.return;this.sheetOptions.tinyUrl&&(f=this.sheetOptions.tinyUrl,d.default.logCounter("MWeb.Tiny.Success"),
d.default.logCounterRefactor("Tiny.Success",c));var m=(0,l.isFunction)(this.sheetOptions.sheetShownCallback);try{null===(a=null===h||void 0===h?void 0:h.navigator)||void 0===a||a.share({url:f,title:this.sheetOptions.title,text:this.sheetOptions.text}).then(function(){m&&b.sheetOptions.sheetShownCallback();d.default.logCSAEvent(k.CSA_HIT_TYPE.CLICK_SUCCESS,e);d.default.logCSAEvent(k.CSA_HIT_TYPE.SHARE,e);(0,l.isFunction)(b.sheetOptions.incrementShareCount)&&b.sheetOptions.incrementShareCount(e.refMarker);
d.default.logCounterRefactor("ChannelClick",b.sheetOptions.shareDataAttributes.ingress);d.default.logCounter("ShareClick")}).catch(function(a){m&&b.sheetOptions.sheetShownCallback();d.default.logCSAEvent(k.CSA_HIT_TYPE.CLICK_SUCCESS,e);a.name===k.Err.Abort&&d.default.logCSAEvent(k.CSA_HIT_TYPE.CLICK_CANCEL,e)})}catch(z){d.default.logCSAEvent(k.CSA_HIT_TYPE.CLICK_ERROR,e)}},a.prototype.launchNativeApp=function(){var a=this,c=this.shareUrl.refMarker.click,f=this.sheetOptions.shareDataAttributes,m=this.sheetOptions.refererURL,
q=this.sheetOptions.customizeShareCSAData,g=this.sheetOptions.shareDataAttributes.ingress,h=k.EMPTY_STRING,p=this.sheetOptions.caf||!1,w=this.sheetOptions.cafSwitchEnabled||!1,u=this.sheetOptions.isCustomShareOptionsSheetEnabled||!1,v=this.shareUrl.return,y=(0,l.isFunction)(this.sheetOptions.incrementShareCount);this.sheetOptions.tinyUrl&&(v=this.sheetOptions.tinyUrl,d.default.logCounter("MShop.Tiny.Success"),d.default.logCounterRefactor("Tiny.Success",g));var A={channel:h,refMarker:c,refererURL:m,
shareDataAttributes:f,customizeShareCSAData:q,caf:p,cafSwitchEnabled:w,isCustomShareOptionsSheetEnabled:u};f={messagePlain:this.getShareMessage,messagePlain160:this.getShare160Message,messagePlain140:this.getShare140Message,messageHTML:this.getShareMessage,url:v,imageURL:this.sheetOptions.image,subject:this.sheetOptions.text};null==e||e.share(b(b({},f),{successCallback:function(){(0,l.isFunction)(a.sheetOptions.sheetShownCallback)&&a.sheetOptions.sheetShownCallback();d.default.logCSAEvent(k.CSA_HIT_TYPE.CLICK_SUCCESS,
A)},failCallback:function(){d.default.logCSAEvent(k.CSA_HIT_TYPE.CLICK_ERROR,A)},shareServiceSelectedCallback:function(b){b&&"'null'"!==b?((0,l.isFunction)(a.sheetOptions.channelSelectCB)&&a.sheetOptions.channelSelectCB(b),A.channel=a.getChannelByKeyword(b).channel,b=a.getChannelByKeyword(b).refId,A.refMarker=a.shareUrl.refMarker.getClickForChannel(b),d.default.logCSAEvent(k.CSA_HIT_TYPE.SHARE,A),d.default.logCounterRefactor("ChannelClick",a.sheetOptions.shareDataAttributes.ingress),d.default.logCounter("ShareClick"),
(0,l.isFunction)(a.sheetOptions.sdTooltipCallback)&&a.sheetOptions.sdTooltipCallback(),y&&a.sheetOptions.incrementShareCount(c)):("MSHOP_ANDROID"===a.sheetOptions.shareDataAttributes.platform&&y&&a.sheetOptions.incrementShareCount(c),d.default.logCSAEvent(k.CSA_HIT_TYPE.CLICK_CANCEL,A))}}))},a.prototype.launch=function(a){(0,g.isNativeAppShareAvailable)(e)?this.launchNativeApp():(0,g.isNativeWebShareAvailable)()?this.launchNativeWeb():(0,l.isFunction)(a)?a():(d.default.logCounter("Click.ShareUnavailable"),
d.default.logCounterRefactor("Click.ShareUnavailable",this.sheetOptions.shareDataAttributes.ingress))},Object.defineProperty(a.prototype,"getShare160Message",{get:function(){var a=this.sheetOptions.tinyUrl||this.shareUrl.return,b=a.length+2;b=(0,l.truncate)(this.sheetOptions.title,160-b);return"".concat(b," ").concat(a)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"getShare140Message",{get:function(){var a=this.sheetOptions.tinyUrl||this.shareUrl.return,b=a.length+2;b=(0,l.truncate)(this.sheetOptions.title,
140-b);return"".concat(b," ").concat(a)},enumerable:!1,configurable:!0}),a.prototype.getRefByRegex=function(a){return k.REGEX_TO_REF_ID_AND_CHANNEL_APP[a].refId},a.prototype.getChannelByRegex=function(a){return k.REGEX_TO_REF_ID_AND_CHANNEL_APP[a].channel},a.prototype.getChannelByKeyword=function(a){var b=k.RAW_CHANNEL_PREFIX+a,c=k.DEFAULT_CSA_REF_ID,d=a.match(/instagram|snap|discord|viber|telegram|pinterest|qzone|renren|twitter|airdrop|tencentweibo|wechatmoment|line|whatsapp|weibo|^Facebook$/ig);
if(d&&d.length)return{channel:this.getChannelByRegex(d[0].toLowerCase()),refId:this.getRefByRegex(d[0].toLowerCase())};switch(!0){case /android.messaging|sms|android.apps.messaging|mms/gi.test(a):b="SMS";c="sm";break;case /outlook|mail/gi.test(a):b="Email";c="em";break;case /clipboardactivity|copy/gi.test(a):b="Copy";c="cp";break;case /facebook.composer/gi.test(a):b="Facebook";c="fb";break;case /facebook.messenger|FacebookMessenger/gi.test(a):b="FacebookMessenger";c="fm";break;case /tencent|wechat/gi.test(a):b=
"WeChat";c="we";break;case /unknown|null/gi.test(a):b="unknown",c="u"}return{channel:b,refId:c}},Object.defineProperty(a.prototype,"getShareMessage",{get:function(){var a=this.sheetOptions.tinyUrl||this.shareUrl.return;return"".concat(this.sheetOptions.title," ").concat(a)},enumerable:!1,configurable:!0}),a}();a.default=f},474:function(f,a,m){Object.defineProperty(a,"__esModule",{value:!0});var b=m(241);f=function(){function a(d,e,c){this.REF_PARAM_NAME="ref_";a.isValid(d)||(d=a.getDefault());this.url=
new URL(d);this._refMarker=new b.default(e,c)}return a.prototype.getUpdatedUrl=function(a){var b=new URL(this.raw);return b.searchParams.set(this.REF_PARAM_NAME,a),b.toString()},Object.defineProperty(a.prototype,"raw",{get:function(){return this.url.toString()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"refMarker",{get:function(){return this._refMarker},enumerable:!1,configurable:!0}),a.isValid=function(a){try{new URL(a)}catch(D){return!1}return!0},a.getDefault=function(){var a,
b,c=null===(a=null===h||void 0===h?void 0:h.location)||void 0===a?void 0:a.href;if(!c)return(null===(b=null===h||void 0===h?void 0:h.ue)||void 0===b?0:b.sn)?"https://".concat(h.ue.sn):"https://amazon.com";a=new URL(c);b=a.searchParams.has("psc")?"?psc\x3d1":"";return h.ue_pti?"".concat(h.location.origin,"/dp/").concat(h.ue_pti).concat(b):(a.search=b,a.href)},a.prototype.getReturnForChannel=function(a){a=this._refMarker.getReturnForChannel(a);return this.getUpdatedUrl(a)},a.prototype.getClickForChannel=
function(a){a=this._refMarker.getClickForChannel(a);return this.getUpdatedUrl(a)},Object.defineProperty(a.prototype,"return",{get:function(){return this.getUpdatedUrl(this._refMarker.return)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"click",{get:function(){return this.getUpdatedUrl(this._refMarker.click)},enumerable:!1,configurable:!0}),a}();a.default=f},161:function(f,a){Object.defineProperty(a,"__esModule",{value:!0});a.getDPXObject=a.getCookie=a.testUserAgent=a.truncate=
a.isString=a.isEmpty=a.isNumber=a.isFunction=void 0;a.isFunction=function(a){return"function"==typeof a};a.isNumber=function(a){return!isNaN(a)&&"number"==typeof a};a.isEmpty=function(a){return!a||!a.length};a.isString=function(a){return"string"==typeof a};a.truncate=function(a,b){void 0===a&&(a="");var e=Array(3).fill(".");return a.length>b?a.substring(0,b-3)+e.join(""):a};a.testUserAgent=function(a){if(!h&&!h.navigator)return!1;try{return a.test(h.navigator.userAgent)}catch(b){return!1}};a.getCookie=
function(a){a="".concat(a,"\x3d");for(var b=document.cookie.split(";"),e=0;e<b.length;e++){for(var d=b[e];" "==d.charAt(0);)d=d.substring(1);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return""};a.getDPXObject=function(){var a,b;return null===(b=null===(a=h.DetailPage)||void 0===a?void 0:a.StateController)||void 0===b?void 0:b.state};a.default={isFunction:a.isFunction,isNumber:a.isNumber,isEmpty:a.isEmpty,isString:a.isString,truncate:a.truncate,testUserAgent:a.testUserAgent,getCookie:a.getCookie,
getDPXObject:a.getDPXObject}},156:function(f,a){Object.defineProperty(a,"__esModule",{value:!0});a.default={}},519:function(f,a,g){Object.defineProperty(a,"__esModule",{value:!0});a.SocialShareCore=void 0;f=g(305);var b=g(474),e=g(156),d=g(495),m=g(198),c=g(241),l=g(905);g=g(738);a.SocialShareCore={Channels:f.default,Url:b.default,Translations:e.default,Metrics:d.default,ShareSheet:m.default,RefMarker:c.default,Detection:l.default,Constants:g};a.default=a.SocialShareCore}},v={};f=function m(a){var b=
v[a];if(void 0!==b)return b.exports;b=v[a]={exports:{}};return g[a].call(b.exports,b,b.exports,m),b.exports}(519)})();return f});"use strict";t.register("SocialShareWidgetConfig",function(){var f=Object.freeze({MODAL:"modal",POPOVER:"popover"}),g=Object.freeze({IOS:"ios",ANDROID:"android",ARROW:"arrow",VARIABLE:"variable"});return{WIDGET_TYPE:f,WIDGET_ICON:g,excludedChannels:["sms","wa"],lineMarketplaces:["A1VC38T7YXB528"],cnMarketplace:["AAHKV2X7AFYLW"],nonCNChannels:["fb","tw","pi"],defaultShareData:{url:"",
title:location.hostname,text:"",image:"",hashtags:["Amazon"],type:f.POPOVER,lang:"en",refId:"ts",channels:[],refererURL:"",treatment:"",weblab:"",customize:!1,previewDoh:!1,caf:!1,cafSwitch:!1,cafStarAlignmentLeft:!1,cafCustomShareOptionsEnabled:!1,cafIngressId:"",t:{},associateLink:{},popoverPosition:"triggerBottom",popoverDistance:48,defaultCustomShareOptions:{email:{label:"Email",image:"customchannels-email.png",ref:"em",shareUrl:"mailto:?subject\x3d{subject}\x26body\x3d{body}\x26url\x3d{url}",
className:"email",stringId:"taf_customshare_email"},copy:{label:"Copy",image:"customchannels-link.png",ref:"cp",shareUrl:"",className:"custom-share-copy",stringId:"taf_customshare_copy"},more:{label:"More",image:"customchannels-more.png",ref:"",shareUrl:"",className:"custom-share-native-sheet",stringId:"taf_customshare_more"}},isFallbackShareUrlEnabled:!1,isNewIMessagePreviewGating:!1,isOnShareGatingEnabled:!1,isIpadFixesEnabled:!1,isNewWhatsAppPreview:!1,skipTwisterAPI:"C",isBestFormatEnabled:!1,
isCafPreviewGenerationMigrationEnabled:!1,isUnrecognizedUsersRichPreviewEnabled:!1,customizePreSelected:!1},defaultWidgetData:{icon:g.VARIABLE,background:!0,width:24},shareDataAttributes:{isInternal:2,isRobot:2,userAgent:h.navigator.userAgent,platform:"DESKTOP",ingress:h.ue_pty,asin:h.ue_pti,requestId:h.ue_id,customerId:"",marketplaceId:h.ue_mid,triggeredFromScreenshotToast:!1},iconMap:{ios:"https://m.media-amazon.com/images/G/01/share-icons/share-std.svg",android:"https://m.media-amazon.com/images/G/01/share-icons/share-android.svg",
arrow:"https://m.media-amazon.com/images/G/01/share-icons/share-icon-experiment.svg"},customShareOptions:[]}});"use strict";t.when("A","SocialShareWidget","SocialShareWidgetTemplating","SocialShareWidgetConfig","SocialShareWidgetState").register("SocialShareWidgetAUI",function(f,u,v,l,a){var m=u.SocialShareCore,b=m.Metrics,e=0,d=function(){},D=!1,c=b.getMetricName(f.$),B=f.constants.HIDE_CLASS;b.startTimer(c);b.logCounter("DPX.Desktop.ImageBlockRender");try{(function(){var k=f.$,w=m.Detection,r=m.Translations,
n=m.Channels,x=m.ShareSheet,E=m.Url,q=m.Constants,u=function(a){a=a.data("share")||a.find("[data-share]").data("share");return f.extend({},l.defaultWidgetData,a)},z=k(".ssf-share-trigger"),p=l.defaultShareData,C=u(z),M=p.url,I=k("#ac-getlink-bottomsheet"),y=k('[data-action\x3d"ssf-share-icon"]'),A=function(){var a=l.iconMap;if(C.icon===l.WIDGET_ICON.ARROW)return a.arrow;if(w.isDesktop())return a.ios;if(C.icon===l.WIDGET_ICON.VARIABLE){var b=f.$("#ssf-primary-widget-desktop");p=f.extend(p,b.data("ssfShareIcon"));
b=a.android;if(w.isIOS()||p.isIpadFixesEnabled&&w.isIpadIOS())b=a.ios;return b}return a[C.icon]},Y=function(a){a.find('[class*\x3d"ssf-multi-"]').length||a.find(".ssf-share-trigger").addClass("ssf-multi-"+Math.random().toString(36).slice(2));z=a.find('[class*\x3d"ssf-multi-"]')},F=void 0,N=void 0,O=void 0,J=void 0,T=void 0,U=void 0,H=void 0;t.when("a-sheet").execute(function(a){return F=a});t.when("a-popover").execute(function(a){return N=a});t.when("a-modal").execute(function(a){return O=a});t.when("SocialShareWidgetTiny").execute(function(a){return H=
a});var G=function(a,b){var c=2<arguments.length&&arguments[2]!==g?arguments[2]:"ssf-share-bottom-sheet",d=p.customize||p.caf;if(!J||d)J=F.create({name:c,inlineContent:a,closeType:"icon",height:b});F.showSheet(J)},S=function(a){var b=a.type===l.WIDGET_TYPE.POPOVER&&N,c=a.type===l.WIDGET_TYPE.MODAL&&O;a=v.build(a);F?G(a.getBottom()):b?(b=a.getPopover(),z.hasClass("a-declarative")||(T=N.create(z,{name:"ssf-share-popover",position:p.popoverPosition,inlineContent:b,activate:"onclick",closeButton:!0,width:160,
padding:"none",popoverLabel:"Share Popup",closeButtonLabel:"Close Share Popup"}).show())):c&&(b=a.getModal(),z.hasClass("a-declarative")||(U=O.create(z,{inlineContent:b,width:600,popoverLabel:"Share Modal"}).show()))},P=function(a){if(a.customize||a.caf)b.logCounter("webview.sharesheet.caf.background"),b.logCounterRefactor("webview.sharesheet.caf.background",a.shareDataAttributes.ingress),t.when("mash").execute(function(a){a.addEventListener("appPause",K)})},X=function(a){t.when("SocialShareWidgetCustomize").execute(function(b){v.build(a).getCustomize(function(c){G(c,
650,"ssf-customize-bottom-sheet");b.init(a,S,K);P(a)})})},K=function ca(){t.when("mash").execute(function(a){a.removeEventListener("appPause",ca)});T&&document.getElementsByClassName("ssf-share-trigger")[0].removeAttribute("aria-expanded");N.get(z).hide();J&&F.hideSheet(J);U&&O.get(z).hide()},da=function(){var a=p.shareDataAttributes.asin,b=h.DetailPage;if(!b)return!1;b=b.StateController&&b.StateController.getState().current_asin;p.shareDataAttributes.asin="string"==typeof b?b:a;return a!==b},W=function(a){a.addClass("ssf-noclick");
a.find(".a-spinner").removeClass(B);a.find("i").hide()},Q=function(a){a.removeClass("ssf-noclick");a.find(".a-spinner").addClass(B);a.find("i").show()},aa=function(a,d,e){var n=a.shareDataAttributes,g=a.t;b.logCSAEvent(q.CSA_HIT_TYPE.SHARE,d);b.logCounter("DPX.Desktop.CopySuccess");b.logCounter("Share.CopySuccess");b.logCounter(c,"CopySuccess");b.logCounterRefactor("CopySuccess",n.ingress);w.isDesktop()?function(){var a=e.find(".copy-label");a.text(g.taf_copy_url_changeover);f.delay(function(){K();
a.text(g.taf_copy_name)},1E3)}():(k(".ssf-feedback").show(),K())},ba=function(a){b.logCSAEvent(q.CSA_HIT_TYPE.CLICK_ERROR,a);b.logCounter("DPX.Desktop.CopyFailure");b.logCounter("Share.CopyFailure");b.logCounter(c,"CopyFailure")},V=function(a){var c=a.shareData,d=a.channelRef,k=c.shareUrl;a=c.socialLinks;var f=a===g?{}:a;a=c.isOGTEnabled;a=a===g?!1:a;var n=c.dealsPreviewEnabled;n=n===g?!1:n;var q=c.eventPreviewTreatment;q=q===g?"C":q;k.refMarker.isBestFormatEnabled=c.isBestFormatEnabled;d=d?k.getReturnForChannel(d):
k.return;k=f.shareframework||c.url;f=c.aapiBaseUrl;f=f===g?"":f;var y=c.shareAapiCsrfToken;y=y===g?"":y;var r=c.tinyUrlEnabled;r=r===g?!1:r;var p=c.deeplinkInfo;p=p===g?{}:p;var m=c.storeId;m=m===g?"":m;var x=c.shareDataAttributes,l=x.marketplaceId;l=l===g?"":l;x=x.ingress;x=x===g?"":x;c.isUnrecognizedUsersRichPreviewEnabled&&(d=new URL(d),d.searchParams.append("starsLeft",1),d=d.toString());"c"!==q.toLowerCase()&&(d=new URL(d),c=q.match(/^T(\d+)$/),d.searchParams.append("peakEvent",c[1]),d.searchParams.append("dealEvent",
n?"1":"0"),d=d.toString(),b.logCounterRefactor("EventPreview"+q,x));return{tinyUrlEnabled:r,aapiBaseUrl:f,shareAapiCsrfToken:y,marketplaceId:l,url:d,isOGTEnabled:a,originalUrl:k||d,refMarkerId:e++,deeplinkInfo:p,storeId:m}};k(document).delegate(".ssf-channel:not(.copy,.embed)","click",function(a){a.preventDefault();a.stopPropagation();b.logCounter("DPX.Desktop.ChannelClick");b.logCounter("ShareClick");b.logCounter(c,"ChannelClick");b.logCounterRefactor("ChannelClick",p.shareDataAttributes.ingress);
var d=k(this),e=d.data("key"),n=p;a=n.refererURL;var y=n.shareDataAttributes,r=n.treatment;r=r===g?"":r;var x=n.weblab;x=x===g?"":x;var m=n.builtChannels[e],l=m.ref;e=n.shareUrl.refMarker.getClickForChannel(l);n=m.name;var A=m.getSharingUrl();b.logCSAEvent(q.CSA_HIT_TYPE.SHARE,{channel:n,refMarker:e,refererURL:a,shareDataAttributes:y,treatment:r,weblab:x});a=V({shareData:p,channelRef:l});W(d);H.fetch({data:a,callback:function(a){Q(d);a&&(A=m.getSharingUrl(a),b.logCounter("Desktop.Tiny.Success"),b.logCounterRefactor("Tiny.Success",
y.ingress));if("em"===l)h.open(A,"_self");else if(w.isDesktop()){a=screen.width;var c=screen.height,e="pi"===l?900:600,k=Math.min(e,.7*a);e=Math.min(e,.7*c);h.open(A,"_blank","toolbar\x3d0,status\x3d0,width\x3d"+k+",height\x3d"+e+",top\x3d"+(c/2-e/2)+",left\x3d"+(a/2-k/2))}else h.open(A,"_blank");K();f.trigger("ssf:event:share",p)}})});f.declarative("ssf-share-icon","click",function(d){b.logCounter("DPX.Desktop.SheetClick");b.logCounter("SheetClick");b.logCounter(c,"SheetClick");document.getElementsByClassName("ssf-share-trigger")[0].setAttribute("aria-expanded",
"true");if(D)return K();Y(d.$currentTarget);p=f.extend(p,d.data);p.shareDataAttributes=f.extend(l.shareDataAttributes,d.data.shareDataAttributes);var e=p.shareDataAttributes.ingress;b.logCounterRefactor("SheetClick",e);if(!f.objectIsEmpty(d.data.associateLink)&&I.length)b.logCounter("SheetClick.Associate"),f.trigger("ac-getlink-bottomsheet-event",p);else{f.extend(r[p.lang],p.t);var g=n(p,p.channels);p.builtChannels=g;p.url=p.url.startsWith("/")?""+h.location.origin+p.url:p.url;p.shareUrl=new E(p.url,
p.refId);da()&&(p.shareUrl=new E(p.url,p.refId),p.shareUrl.url.searchParams.set("psc",1));a.set("shareData",p);!w.isDesktop()||p.isIpadFixesEnabled&&w.isIpadIOS()&&w.isNativeWebShareAvailable()?p.customize||p.caf?X(p):(W(d.$currentTarget),g=V({shareData:p}),p=f.extend(p,{sheetShownCallback:function(){Q(d.$currentTarget)}}),H.fetch({data:g,callback:function(a){p.tinyUrl=a;(new x(p)).launch(function(){S(p);b.logCounter("DPX.Desktop.SheetOpen");b.logCounter("SheetOpen");b.logCounter(c,"SheetOpen");b.logCounterRefactor("SheetOpen",
e);Q(d.$currentTarget)})}})):(p.isUnrecognizedUsersRichPreviewEnabled&&p.shareUrl.url.searchParams.set("starsLeft",1),p.image=p.image||k("#imgTagWrapperId img").attr("src"),S(p),b.logCounter("DPX.Desktop.SheetOpen"),b.logCounter("SheetOpen"),b.logCounter(c,"SheetOpen"),b.logCounterRefactor("SheetOpen",e),b.logCSAEvent(q.CSA_HIT_TYPE.CLICK_SUCCESS,{channel:q.EMPTY_STRING,refMarker:p.shareUrl.refMarker.click,refererURL:p.refererURL,shareDataAttributes:p.shareDataAttributes,treatment:p.treatment||"",
weblab:p.weblab||""}));w.isSafari()&&w.isDesktop()&&(g=V({shareData:p,channelRef:q.CP_CHANNEL_REF}),H.fetch({data:g,callback:function(a){b.logCounter("TinyUrlOnSheetOpen");M=a}}));f.trigger("ssf:event:sheetOpen",p)}});k(document).delegate(".ssf-copy,.ssf-channel.copy","click",function(a){b.logCounter("ShareClick");b.logCounter("DPX.Desktop.ChannelClick");b.logCounter(c,"ChannelClick");b.logCounterRefactor("ChannelClick",p.shareDataAttributes.ingress);a.preventDefault();var d=p;a=d.shareUrl;var e=
d.shareDataAttributes,n=d.treatment;n=n===g?"":n;var y=d.weblab;y=y===g?"":y;d=d.isBestFormatEnabled;var r=q.CP_CHANNEL_REF,x=a.refMarker.getClickForChannel(r),m={channel:q.CP_CHANNEL_REF,refMarker:x,shareDataAttributes:e,treatment:n,weblab:y},l=k(this);a.refMarker.isBestFormatEnabled=d;var A=a.getReturnForChannel(r);w.isSafari()&&w.isDesktop()?navigator.clipboard.writeText(M||A).then(function(){aa(p,m,l)},function(){ba(m)}):(a=V({shareData:p,channelRef:r}),W(l),H.fetch({data:a,callback:function(a){Q(l);
navigator.clipboard.writeText(a||A).then(function(){aa(p,m,l)},function(){ba(m)})}}));f.trigger("ssf:event:share",p)});k(document).delegate(".ssf-embed,.ssf-channel.embed","click",function(a){a.preventDefault();var d=p;a=d.shareDataAttributes;var e=d.treatment;e=e===g?"":e;var n=d.weblab;n=n===g?"":n;d={channel:"embed",refMarker:d.shareUrl.refMarker.getClickForChannel(q.EMBED_CHANNEL_REF),shareDataAttributes:a,treatment:e,weblab:n};b.logCSAEvent(q.CSA_HIT_TYPE.SHARE,d);b.logCounter("DPX.Desktop.ChannelClick");
b.logCounter(c,"ChannelClick");b.logCounter("ChannelClick.Embed");b.logCounter("ShareClick");b.logCounterRefactor("ChannelClick",a.ingress);O.create(k(".ssf-channel.embed"),p.kpModalParams).show()});d=function(){z=k(".ssf-share-trigger");C=u(z);var a=C.width;if(!k(".ssf-background").length&&C.background){var b=1.4*a;b=k('\x3cdiv class\x3d"ssf-background'+(C.floatedIcon?"-float":"")+'"\x3e\x3c/div\x3e').css({width:b,height:b});z.wrap(b)}C.icon&&z.css({height:a,width:a,backgroundImage:"url("+A()+")"})};
w.isIE()&&k(".ssf-share-trigger,.ssf-background").remove();f.on("a:popover:afterUpdatePosition:ssf-share-popover",function(a){a=a.popover.$popover;var b=a.position().left-p.popoverDistance;a.find(".a-arrow-border").css({right:24,left:""});a.css({left:b})});f.on("ssf:event:trigger-share-widget",function(a){f.trigger("a:declarative:ssf-share-icon:click",{data:a,$currentTarget:(1<arguments.length&&arguments[1]!==g?arguments[1]:g)||y})});f.on("a:popover:show:ssf-share-popover",function(){return D=!0});
f.on("a:popover:hide:ssf-share-popover",function(){return D=!1});f.on("a:sheet:beforeShow:ssf-customize-bottom-sheet",function(a){a.sheet.$container.css("height","")});d()})()}catch(k){b.logCounter("DPX.Desktop.Error"),b.logCounter(c,"Error"),b.logLoad("Error"),b.logFatal("Error loading Share Framework AUI: "+k.toString())}finally{b.logCounter("DPX.Desktop.Render"),b.logCounter(c,"Render"),b.logLoad("Render"),f.trigger("ssf:event:load"),b.stopTimer(c)}return{init:d}});"use strict";var Z=function(){return function(f,
h){if(Array.isArray(f))return f;if(Symbol.iterator in Object(f)){var v=[],l=!0,a=!1,m=g;try{for(var b=f[Symbol.iterator](),e;!(l=(e=b.next()).done)&&(v.push(e.value),!h||v.length!==h);l=!0);}catch(d){a=!0,m=d}finally{try{if(!l&&b["return"])b["return"]()}finally{if(a)throw m;}}return v}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}();t.when("A","SocialShareWidgetConfig","SocialShareWidget").register("SocialShareWidgetTemplating",function(f,h,v){v=v.SocialShareCore;var l=
f.$,a=v.Detection.isClipboardAvailable,m=v.Detection.isDesktop,b=h.excludedChannels;a()||b.push("copy");var e=function(a){return'\x3cspan class\x3d"a-spinner a-spinner-'+a+' a-align-center aok-hidden"\x3e\x3c/span\x3e'};return{build:function(d){var f=d.shareUrl,c=d.socialLinks,v=c===g?{}:c;c=d.shareDataAttributes;var k=d.builtChannels,w=d.kpModalParams,r=d.t;v.email=d.mailToUri;var n='\x3cspan class\x3d"a-button ssf-copy"\x3e\n        \x3cspan class\x3d"a-button-inner"\x3e\n          \x3cinput class\x3d"a-button-input" type\x3d"button" aria-label\x3d"'+
r.taf_copy_tooltip+'"\x3e\n          \x3cspan class\x3d"a-button-text" aria-hidden\x3d"true"\x3e\n            \x3cbutton class\x3d"a-button-text"\x3e\n              \x3cdiv class\x3d"copy-label"\x3e\n                '+r.taf_copy_tooltip+"\n              \x3c/div\x3e\n            \x3c/button\x3e\n          \x3c/span\x3e\n        \x3c/span\x3e\n      \x3c/span\x3e";!m()&&a()&&1>l(".ssf-feedback").length&&l(document.body).append('\x3cdiv class\x3d"a-changeover ssf-feedback" style\x3d"display:none"\x3e\n          \x3cdiv class\x3d"a-changeover-inner"\x3e\n            \x3ci class\x3d"a-icon a-icon-checkmark-inverse"\x3e\x3c/i\x3e\n            \x3cstrong class\x3d"a-size-medium"\x3e'+
r.taf_copy_url_changeover+"\x3c/strong\x3e\n          \x3c/div\x3e\n        \x3c/div\x3e");var x=function(a){return{title:r["taf_"+a.name+"_tooltip"]||a.label,label:r["taf_"+a.name+"_name"]||a.label}};h.lineMarketplaces.includes(c.marketplaceId)||v.li?b.push("pi"):b.push("li");w||b.push("embed");h.cnMarketplace.includes(c.marketplaceId)&&b.push.apply(b,L(h.nonCNChannels));return{getModal:function(){var c="",d=!0,m=!1,l=g;try{for(var p=Object.entries(k)[Symbol.iterator](),h;!(d=(h=p.next()).done);d=
!0){var w=Z(h.value,2),u=w[0],y=w[1];if(!b.includes(u)&&"copy"!==u){var A=x(y),B=v[y.name]||y.getSharingUrl();c+='\x3cli class\x3d"ssf-channel-h"\x3e\n              \x3ca class\x3d"ssf-channel a-color-base" aria-label\x3d"'+A.label+'" href\x3d"'+B+'" title\x3d"'+A.title+'" data-key\x3d"'+u+'"\x3e\n                '+e("medium")+'\n                \x3ci aria-hidden\x3d"true" style\x3d"background-image: url('+y.image+')"\x3e\x3c/i\x3e\n              \x3c/a\x3e\n              \x3cspan\x3e'+A.label+"\x3c/span\x3e\n            \x3c/li\x3e"}}}catch(F){m=
!0,l=F}finally{try{!d&&p.return&&p.return()}finally{if(m)throw l;}}d=a()?'\x3cdiv class\x3d"ssf-copy-section a-box a-padding-base a-spacing-top-large"\x3e\n              \x3cdiv class\x3d"link-section"\x3e'+f.return+'\x3c/div\x3e\n              \x3cdiv class\x3d"copy-button"\x3e'+n+"\x3c/div\x3e\n          \x3c/div\x3e":"";return'\x3ch3 class\x3d"a-spacing-large"\x3e'+r.taf_share_bottom_sheet_title+"\x3c/h3\x3e"+('\x3cdiv class\x3d"ssf-h-icons"\x3e\x3cul class\x3d"ssf-h-icons a-nostyle"\x3e'+c+"\x3c/ul\x3e\x3c/div\x3e")+
d},getPopover:function(){var a="",c=!0,d=!1,n=g;try{for(var f=Object.entries(k)[Symbol.iterator](),r;!(c=(r=f.next()).done);c=!0){var m=Z(r.value,2),l=m[0],y=m[1];if(!b.includes(l)){var h=x(y),w=v[y.name]||y.getSharingUrl();a+='\x3cli class\x3d"ssf-channel-v"\x3e\n              \x3ca class\x3d"ssf-channel '+l+' a-color-base" aria-label\x3d"'+h.label+'" href\x3d"'+w+'" title\x3d"'+h.title+'" data-key\x3d"'+l+'"\x3e\n                '+e("small")+'\n                \x3ci aria-hidden\x3d"true" style\x3d"background-image: url('+
y.image+')"\x3e\x3c/i\x3e\n                \x3cspan class\x3d"'+l+'-label"\x3e'+h.label+"\x3c/span\x3e\n              \x3c/a\x3e\n            \x3c/li\x3e"}}}catch(F){d=!0,n=F}finally{try{!c&&f.return&&f.return()}finally{if(d)throw n;}}return'\x3cul class\x3d"a-nostyle"\x3e'+a+"\x3c/ul\x3e"},getBottom:function(){var a="",c=!0,d=!1,n=g;try{for(var f=Object.entries(k)[Symbol.iterator](),m;!(c=(m=f.next()).done);c=!0){var l=Z(m.value,2),h=l[0],y=l[1];if(!b.includes(h)){var A=x(y),w=v[y.name]||y.getSharingUrl();
a+='\x3cli class\x3d"ssf-channel-b a-padding-base"\x3e\n              \x3ca class\x3d"ssf-channel '+h+' a-color-base" aria-label\x3d"'+A.label+'" href\x3d"'+w+'" title\x3d"'+A.title+'" data-key\x3d"'+h+'"\x3e\n                '+e("medium")+'\n                \x3ci aria-hidden\x3d"true" style\x3d"background-image: url('+y.image+')"\x3e\x3c/i\x3e\n                \x3cspan class\x3d"a-size-base-plus"\x3e'+A.label+"\x3c/span\x3e\n              \x3c/a\x3e\n              \x3c/li\x3e"}}}catch(F){d=!0,n=
F}finally{try{!c&&f.return&&f.return()}finally{if(d)throw n;}}return'\x3cdiv class\x3d"a-padding-base ssf-header"\x3e\n          \x3ch4\x3e'+r.taf_share_bottom_sheet_title+'\x3c/h4\x3e\n        \x3c/div\x3e\x3cdiv class\x3d"ssf-scroll"\x3e\x3cul class\x3d"a-nostyle"\x3e'+(a+"\x3c/ul\x3e")+"\x3c/ul\x3e\x3c/div\x3e"},getCustomize:function(){var a=void 0;t.now("SocialShareWidgetCustomizeTemplate").execute(function(b){a=d.customize?b.getCustomizeBox(r):""});var b='\x3ch3 class\x3d"a-spacing-base a-spacing-top-base"\x3e'+
r.taf_share_bottom_sheet_title+"\x3c/h3\x3e",c='\x3cdiv class\x3d"ssf-heading-container"\x3e\x3cimg class\x3d"ssf-back-btn" src\x3d"https://m.media-amazon.com/images/G/01/share-icons/arrow-left.svg"\x3e'+b+"\x3c/div\x3e",k='\x3cdiv class\x3d"a-padding-base a-box ssf-preview-container ssf-no-border" style\x3d"background-image: url('+d.image+')"\x3e'+e("medium")+"\x3c/div\x3e",n=d.caf?'\x3cdiv class\x3d"a-row a-spacing-top-large'+(d.customize?"":" a-spacing-large")+'"\x3e\n          \x3cdiv class\x3d"a-column a-span9"\x3e\n            \x3cstrong class\x3d"ssf-caf-toggle-label"\x3e'+
r.taf_custshare_caf_ingress+'\x3c/strong\x3e\n          \x3c/div\x3e\n          \x3cdiv class\x3d"a-column a-span3 a-text-right a-span-last"\x3e\n            \x3cdiv class\x3d"a-switch-row ssf-caf-toggle"\x3e\n          \x3cinput class\x3d"a-declarative a-switch-input" data-action\x3d"a-switch-input" name\x3d"caf" type\x3d"checkbox"\x3e\n          \x3clabel class\x3d"a-switch-label a-declarative" data-action\x3d"a-switch-label"\x3e\n            \x3cdiv class\x3d"a-switch a-declarative" data-action\x3d"a-switch"\x3e\n              \x3ca class\x3d"a-switch-control" aria-label\x3d"caf" style\x3d"transform: translateX(-1px) translateZ(0px);"\x3e\x3c/a\x3e\n            \x3c/div\x3e\n          \x3c/label\x3e\n        \x3c/div\x3e\n          \x3c/div\x3e\n        \x3c/div\x3e':
"",f='\x3cspan class\x3d"a-button a-button-primary a-spacing-top-small ssf-customize-share-btn"\x3e\n          \x3cspan class\x3d"a-button-inner"\x3e\n            \x3cinput class\x3d"a-button-input" type\x3d"button" aria-labelledby\x3d"ssf-customize-share-btn"\x3e\n            \x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"ssf-customize-share-btn"\x3e\n              '+d.shareLabel+"\n              "+e("small")+"\n            \x3c/span\x3e\n          \x3c/span\x3e\n        \x3c/span\x3e";
return'\x3cdiv class\x3d"a-padding-base ssf-customize-container-one"\x3e'+b+k+n+a+f+"\x3c/div\x3e"+(d.customize?'\x3cdiv class\x3d"a-padding-base ssf-customize-container-two aok-hidden"\x3e'+c+k+n+'\x3cdiv class\x3d"a-row a-spacing-top-base a-padding-base ssf-tabs"\x3e\x3c/div\x3e'+f+"\x3c/div\x3e":"")}}}}});"use strict";t.when("jQuery","SocialShareWidget","SocialShareWidgetState","SocialShareWidgetLinkUtil","SocialShareWidgetAPI").register("SocialShareWidgetTiny",function(f,u,v,l,a){u=u.SocialShareCore;
var m=u.Metrics,b=u.Constants;return{fetch:function(e){var d=e.data,u=e.isAsync,c=u===g?!0:u,B=e.callback;try{if(0<d.refMarkerId){var k=new URL(d.url),w=k.searchParams.get("ref_");w&&(w=w+"_"+d.refMarkerId,k.searchParams.set("ref_",w),d.url=k.toString())}var r=v.get("shareData");if(v.get("dpx")){var n=v.get("shareAapiCsrfToken"),x=v.get("aapiBaseUrl");if("C"!==r.skipTwisterAPI){var E=new URL(d.url);E.searchParams.append("skipTwisterOG","T2"===r.skipTwisterAPI?2:1);d.url=E.toString()}if(r.isBestFormatEnabled){var q=
new URL(d.url);q.searchParams.append("bestFormat","true");d.url=q.toString()}d.url=l.getLinkWithFlippedStarsLeft(d.url);"dprv"===r.refId&&(d.shareAapiCsrfToken=n,d.aapiBaseUrl=x,d.tinyUrlEnabled=!0,m.logCounter("reviews.tiny"))}var R=h.location.protocol+"//";if(d.isOGTEnabled){var z=new URL(d.url);z.searchParams.append("newOGT","1");d.url=z.toString()}var p=d.deeplinkInfo;if(p&&p.isDisabled&&p.flag!=g){var C=new URL(d.url);C.searchParams.append("nodl",p.flag);d.url=C.toString()}if(d.isOnShareGatingEnabled)a.build(r).onShare(c,
d.url,d.extractedRef,d.osType,B);else if(d.tinyUrlEnabled)if(d.aapiBaseUrl&&d.shareAapiCsrfToken&&d.marketplaceId)(function(){var a=""+R+d.aapiBaseUrl+"/api/marketplaces/"+d.marketplaceId+"/social-share/tinyurl",e={longUrl:d.url},k={"Accept-Language":"en-US",Accept:'application/vnd.com.amazon.api+json; type\x3d"social-share.tinyurl/v1"',"x-api-csrf-token":d.shareAapiCsrfToken,"Content-Type":"application/x-www-form-urlencoded","x-amzn-encrypted-slate-token":v.get("slateToken")};m.startTimer("Tiny");
f.ajax(a,{type:"POST",headers:k,xhrFields:{withCredentials:!0},contentType:"application/x-www-form-urlencoded",async:c,data:e,success:function(a){m.logCounter("Tiny.Response");m.logCounter("Desktop.Tiny.Response");m.logCounterRefactor("Tiny.Response");a.entity&&a.entity.shortUrl?(B(a.entity.shortUrl.url),m.logCounter("Tiny.Success")):(t.log("Error Generating TinyURL. with share url "+d.url,"ERROR",b.SSF_AUI_PACKAGE_ATTRIBUTION),m.logCounter("Tiny.Error"),B(d.url))},error:function(c){t.log("Error Generating TinyURL. with share url "+
d.url+", Error Code: "+c.status+", Error Response: "+c.responseText+", Endpoint: "+a,"ERROR",b.SSF_AUI_PACKAGE_ATTRIBUTION);m.logCounter("Tiny.Error");m.logCounter("Desktop.Tiny.Error");m.logCounterRefactor("Tiny.Error");B(d.url)},complete:function(){m.stopTimer("Tiny")}})})();else return m.logCounter("Tiny.Unavailable"),B(d.url);else return B(d.url)}catch(M){return t.log("Error generating tinyURL: "+M.toString(),"ERROR",b.SSF_AUI_PACKAGE_ATTRIBUTION),d.url}}}});"use strict";t.when("A").register("SocialShareWidgetState",
function(f){var g="social-"+h.ue_id+"-share",v={slateToken:f.$('meta[name\x3d"encrypted-slate-token"]').attr("content")||"",dpx:!1};f.state(g,v);return{getCurrent:function(){return f.state(g)},get:function(f){return this.getCurrent()[f]},getAndReset:function(f){var a=this.get(f);a&&this.set(f,null);return a},set:function(l,a){var m=this.getCurrent();f.trigger("ssf:event:state:set",m);if(!l)return m;m[l]=a;m=f.state(g,m);f.trigger("ssf:event:state:changed",m);return m}}});"use strict";t.when("jQuery",
"SocialShareWidget","SocialShareWidgetState").register("SocialShareWidgetAPI",function(f,u,v){u=u.SocialShareCore;var l=u.Constants,a=u.Metrics,m=h.location.protocol+"//",b=a.getMetricName(f,l.customize),e=Object.freeze({GET:"GET",POST:"POST",PUT:"PUT"}),d=Object.freeze({generateImage:'application/vnd.com.amazon.api+json; type\x3d"aapi.socialshareapicontracts.custom.ssapis.product.generate.customized.image.response/v1"',externalizeImage:'application/vnd.com.amazon.api+json; type\x3d"aapi.socialshareapicontracts.custom.ssapis.product.externalize.customized.image.response/v1"',
fetchTabs:'application/vnd.com.amazon.api+json; type\x3d"aapi.socialshareapicontracts.custom.ssapis.product.shareable.attributes.response/v1"',getWeblabTreatmentAndTrigger:'application/vnd.com.amazon.api+json; type\x3d"aapi.socialshareapicontracts.weblab.treatment-and-trigger.response/v1"',onShare:'application/vnd.com.amazon.api+json; type\x3d"aapi.socialshareapicontracts.social-share.on-share.response/v1"',fetchCAFID:'application/vnd.com.amazon.api+json; type\x3d"aapi.consultafriendcontracts.custom.consult-a-friend.feedback-request.response/v1"'}),
D=function(a){return(a=a.entity)&&"SUCCEEDED"===a.status?a.tabs.map(function(a){var b={id:a.id,heading:a.shortDisplayName,text:a.longDisplayName,isQuote:!0};a.params&&(b.values=Object.values(a.params)[0],b.isQuote=!1);return b}):[]};return{build:function(c){var h=c.shareAapiCsrfToken,k=c.locale,w=c.cafAapiCsrfToken,r=c.productType,n=c.shareDataAttributes,x=n.marketplaceId,E=n.asin,q=n.ingress,u=m+c.aapiBaseUrl,z=v.get("slateToken");z||a.logCounter("slate.missing");var p=function(a){return u+"/custom/socialshareapicontracts/marketplaces/"+
x+"/products/"+E+"/shareframework/"+a},C=function(a){var b=a.async;f.ajax({url:a.url,type:a.type,async:b===g?!0:b,data:a.data,headers:{"Accept-Language":k,Accept:a.accept,"x-api-csrf-token":a.cafToken||h,"Content-Type":"application/x-www-form-urlencoded","x-amzn-encrypted-slate-token":z},xhrFields:{withCredentials:!0},success:a.success,error:a.error,complete:a.complete})};return{generateImage:function(c,k){var n=p("generatecustomizedimage");a.startTimer("GenerateCustomizeImage");C({url:n,type:e.POST,
data:c,accept:d.generateImage,success:function(c){a.logCounter(b,"generateCustomizeImageSuccess");a.logCounterRefactor("generateCustomizeImageSuccess",q);k(c)},error:function(c){a.logCounter(b,"generateCustomizeImageFail");a.logCounterRefactor("generateCustomizeImageFail",q);a.logCounter("generateCustomizeImageFail");t.log("Error generating customize image. with request URL "+n+", Error Code: "+c.status+". Error Response: "+c.responseText,"ERROR",l.SSF_AUI_PACKAGE_ATTRIBUTION);k(c)},complete:function(){a.stopTimer("GenerateCustomizeImage")}})},
externalizeImage:function(c,k,n){var f=p("externalizecustomizedimage?customizedImageUrl\x3d"+c);a.startTimer("ExternalizeImage");C({url:f,type:e.PUT,accept:d.externalizeImage,async:n,success:function(a){k(a)},error:function(c){a.logCounter(b,"externalizeImageFail");a.logCounterRefactor("externalizeImageFail",q);a.logCounter("externalizeImageFail");t.log("Error externalizing image. with request URL "+f+", Error Code: "+c.status+". Error Response: "+c.responseText,"ERROR",l.SSF_AUI_PACKAGE_ATTRIBUTION);
k({})},complete:function(){a.stopTimer("ExternalizeImage")}})},fetchTabs:function(c){var n=p("productshareableattributes?locale\x3d"+k+"\x26type\x3d"+r);a.startTimer("FetchTabs");C({url:n,type:e.GET,accept:d.fetchTabs,success:function(d){a.logCounter(b,"FetchTabsSuccess");a.logCounterRefactor("FetchTabsSuccess",q);c(D(d))},error:function(d){a.logCounter(b,"FetchTabsFail");a.logCounterRefactor("FetchTabsFail",q);a.logCounter("FetchTabsFail");t.log("Error Fetching customize share tabs. with request URL "+
n+", Error Code: "+d.status+". Error Response: "+d.responseText,"ERROR",l.SSF_AUI_PACKAGE_ATTRIBUTION);c([])},complete:function(){a.stopTimer("FetchTabs")}})},fetchCAFID:function(k){var n=1<arguments.length&&arguments[1]!==g?arguments[1]:!0,f=u+"/custom/consultafriendcontracts/marketplaces/"+x+"/consultafriend/feedback-request/"+E;a.logCounter(b,"CAF.createCAFID.called");a.logCounterRefactor("CAF.createCAFID.called",q);a.startTimer("CafIdGeneration");C({url:f,type:e.POST,accept:d.fetchCAFID,async:n,
cafToken:w,success:function(a){k(a.entity&&a.entity.cafId,E,c.url)},error:function(c){a.logCounter(b,"CAF.createCAFID.failed");a.logCounterRefactor("CAF.createCAFID.failed",q);t.log("Error Creating CAF Id. with request URL "+f+", Error Code: "+c.status+". Error Response: "+c.responseText,"ERROR",l.SSF_AUI_PACKAGE_ATTRIBUTION);k()},complete:function(){a.stopTimer("CafIdGeneration")}})},getWeblabTreatmentAndTrigger:function(b,c,k){var n=u+"/custom/socialshareapicontracts/marketplaces/"+x+"/weblab/get-weblab-treatment-and-record?name\x3d"+
c;a.startTimer("GetWeblabTreatmentAndTriggerMetric");C({url:n,type:e.GET,accept:d.getWeblabTreatmentAndTrigger,async:b,success:function(b){a.logCounter("GetWeblabTreatmentAndRecordSuccess");k(b)},error:function(b){a.logCounter("GetWeblabTreatmentAndRecordFail");t.log("Error calling weblab treatment and trigger. with request URL "+n+", Error Code: "+b.status+". Error Response: "+b.responseText,"ERROR",l.SSF_AUI_PACKAGE_ATTRIBUTION);k([])},complete:function(){a.stopTimer("GetWeblabTreatmentAndTriggerMetric")}})},
onShare:function(b,c,k,n,f){var g=u+"/custom/socialshareapicontracts/marketplaces/"+x+"/products/"+E+"/shareframework/onshare";a.startTimer("onShare");C({url:g,type:e.POST,accept:d.onShare,async:b,data:{longUrl:c,channel:k,osType:n},success:function(b){"SUCCEEDED"===b.entity.status?(f(b.entity.shortUrl.url),a.logCounter("OnShare.Success")):(t.log("The request was sent successfully, but the response status indicates a failure with request URL "+c,"ERROR",l.SSF_AUI_PACKAGE_ATTRIBUTION),a.logCounter("OnShare.Failure"),
f(c))},error:function(b){a.logCounter("OnShare.Error");t.log("Error calling on share. with request URL "+c,"ERROR",l.SSF_AUI_PACKAGE_ATTRIBUTION);f([])},complete:function(){a.stopTimer("onShare")}})}}}}});"use strict";t.when("A","SocialShareWidget").register("SocialShareWidgetCustomShareOptionsTemplate",function(f,h){var v=f.capabilities.rtl,l=h.SocialShareCore.Detection.isAndroid(),a=void 0,m=f.constants.HIDE_CLASS;t.when("mash").execute(function(b){return a=b});var b=function(b,d){if(!a)return d([]);
var c=b.length,f=[];b.forEach(function(a){e(a,function(a,b){c--;b&&(f[a.label.toLowerCase()]=a);(3<=f.length||0>=c)&&d(f)})})},e=function(b,d){var c="whatsapp"===b.label.toLowerCase()&&l;a.canLaunchIntentURL({url:b.schemeURI,successCallback:function(a){if(c)return d(b,!0);d(b,a)},failCallback:function(){if(c)return d(b,!0);d(b,!1)}})},d=function(a){var b=1<arguments.length&&arguments[1]!==g?arguments[1]:"";a=a.startsWith("http")?a:"https://m.media-amazon.com/images/G/01/share-icons/"+a;return'\x3cimg class\x3d"'+
b+'" src\x3d"'+a+'" /\x3e'},u=function(){return'\x3cspan class\x3d"a-size-mini ssf-rating-count"\x3e'+(0<arguments.length&&arguments[0]!==g?arguments[0]:"")+"\x3c/span\x3e"};return{getChannelsHtml:function(c,d){var e="";b(c.customShareOptions,function(b){b=f.extend(b,c.defaultCustomShareOptions);c.customShareBuiltChannels=b;for(var k in b)if(!("more"===k&&!a||"copy"===k&&l)){var n=e;var x=c;var h=b[k],q=h.stringId,v=h.className,w=h.label;h="https://m.media-amazon.com/images/G/01/share-icons/"+h.image;
x='\x3cli class\x3d"ssf-custom-share-option '+(v===g?"":v)+'"  data-name\x3d"'+w.toLowerCase()+'"\x3e\n                    \x3cdiv class\x3d"ssf-custom-share-spinner" role\x3d"button"\x3e\n                        '+('\x3cspan class\x3d"a-spinner a-spinner-medium a-align-center '+m+'"\x3e\x3c/span\x3e')+'\n                        \x3cimg src\x3d"'+h+'" title\x3d"'+w+'" aria-label\x3d"'+w+'"/\x3e\n                    \x3c/div\x3e\n                    \x3cspan class\x3d"label a-size-small"\x3e'+(x.t[q]||
w)+"\x3c/span\x3e\n                 \x3c/li\x3e";e=n+x}d('\x3cdiv class\x3d"ssf-custom-channels-container a-color-base-background"\x3e\x3cdiv class\x3d"ssf-no-border"\x3e\x3cul class\x3d"ssf-custom-share-options-container a-unordered-list a-nostyle"\x3e'+e+"\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e")})},getPreviewImage:function(a){var b=a.starRating,c=a.numberOfReviews,e=v?"r":"";a='\x3cdiv class\x3d"ssf-cso-p-image ssf-regular"\x3e'+d(a.productImage,"ssf-regular")+"\x3c/div\x3e";b=b?d("RIO"+b+e+".png",
"ssf-caf-stars"):"";c=u(c);return'\x3cdiv class\x3d"ssf-cso-p-image"\x3e'+a+('\x3cdiv class\x3d"ssf-cso-stickers ssf-regular"\x3e'+b+c+"\x3c/div\x3e")+"\x3c/div\x3e"},getErrorAlert:function(a){return'\x3cdiv class\x3d"ssf-error-text a-row '+m+'"\x3e\n          \x3cdiv class\x3d"a-box a-alert-inline a-alert-inline-error" role\x3d"alert"\x3e\n              \x3cdiv class\x3d"a-box-inner a-alert-container"\x3e\n                  \x3ci class\x3d"a-icon a-icon-alert"\x3e\x3c/i\x3e\n                  \x3cdiv class\x3d"a-alert-content"\x3e\n                    \x3cspan class\x3d"ssf-error-generic '+
m+'"\x3e'+a.taf_custshare_channel_error_generic+'\x3c/span\x3e\n                    \x3cspan class\x3d"ssf-error-email '+m+'"\x3e'+a.taf_custshare_channel_error_email+"\x3c/span\x3e\n                  \x3c/div\x3e\n              \x3c/div\x3e\n          \x3c/div\x3e\n        \x3c/div\x3e"}}});"use strict";t.when("A","SocialShareWidget","SocialShareWidgetAPI","SocialShareWidgetState").register("SocialShareWidgetCustomShareOptions",function(f,u,v,l){var a=f.$;u=u.SocialShareCore;var m=u.ShareSheet,b=
u.Metrics,e=u.Constants,d=void 0,D=void 0,c=void 0,B=void 0,k=!1,w=f.constants.HIDE_CLASS;t.when("mash").execute(function(a){D=a});t.when("SocialShareWidgetTiny").execute(function(a){d=a});t.when("SocialShareWidgetCustomizeUtils").execute(function(a){c=a});t.when("SocialShareWidgetCAFUtils").execute(function(a){B=a});return{init:function(r,n,x,v,q,u){var E=r.customShareBuiltChannels;n=r.isCustomShareOptionsSheetEnabled;var p=n===g?!1:n;n=r.isFallbackShareUrlEnabled;var R=n===g?!1:n;n=r.caf;var M=
n===g?!1:n,I=r.shareDataAttributes;n=r.incrementShareCount;var y=n===g?null:n;n=r.treatment;var A=n===g?"":n;n=r.weblab;var Y=n===g?"":n;n=r.refererURL;var F=n===g?"":n,N="C";r.cafIngressId===e.CAF_INFO_ICON_KEY?N="T1":r.cafIngressId===e.CAF_LEARN_MORE_KEY&&(N="T2");f.on("ssf:event:caf-switch-change",function(a){k=a});var O=function(a){a.addClass("ssf-noclick");a.find(".a-spinner").removeClass(w)},J=function(a){a.removeClass("ssf-noclick");a.find(".a-spinner").addClass(w)},T=function(){return k?(r.t["taf-share-caf-messageprefix"]||
"")+" "+r.title:r.title},U=function(a,b,e){k?B.prepareShareUrl(r,a,d,b,function(a,b){return e(a,b)}):c.prepareShareUrl(r,a,d,b,function(a){return e(a)})},H=function(a){a&&f.trigger("ssf:event:caf-share-complete-success",r)},G=function(a,b,c,d){try{var k=encodeURIComponent(d+" \n "+c);return"Messages"===b?f.capabilities.ios?"sms:///\x26body\x3d"+k:"mms:?\x26body\x3d"+k:"Email"===b?a=a.replace("\x26url\x3d{url}","").replace("{subject}",encodeURIComponent(r.emailSubject)).replace("{body}",""+k):"whatsApp"===
b?a=a.replace("{url}",""+k):a=a.replace("{text}",encodeURIComponent(d)).replace("{url}",encodeURIComponent(c)).replace("{titleAndURL}",encodeURIComponent(k))}catch(V){return t.log("Failed to generate shareUrl, error: "+V.toString(),"ERROR",e.SSF_AUI_PACKAGE_ATTRIBUTION),a}},S=function(a){if(k){b.logCounter("Caf.customShareOptions.ChannelClick."+a);var d="C";r.cafIngressId===e.CAF_INFO_ICON_KEY?d="T1":r.cafIngressId===e.CAF_LEARN_MORE_KEY&&(d="T2");b.logCounter("CAF.edIngress.ChannelClick."+a+"."+
d)}else c.imageState.isEmpty()?b.logCounter("CustomShareOptions.ChannelClick."+a):b.logCounter("Books.customShareOptions.ChannelClick."+a)},P=function(){var a=0<arguments.length&&arguments[0]!==g?arguments[0]:"";a=0<a.length?"."+a:"";return k?""+e.CAF_CUSTOM_SHEET_CLICK_LATENCY_METRIC+a:c.imageState.isEmpty()?""+e.CUSTOM_SHEET_CLICK_LATENCY_METRIC+a:""+e.BOOKS_CUSTOM_SHEET_CLICK_LATENCY_METRIC+a},X=function(){var a=P();b.startTimer(a);U(e.EMPTY_STRING,!0,function(c){var d=1<arguments.length&&arguments[1]!==
g?arguments[1]:"";r.tinyUrl=c;var e=r;d&&(e=f.extend({channelSelectCB:function(){H(d)},cafSwitchEnabled:k},r),e.title=T());(new m(e)).launch(function(){b.logCounter("customShareOptions.SheetOpen")});b.stopTimer(a)})},K=function(a,b){var c=l.getAndReset(e.customizeShareStateKey);return{channel:a,refMarker:b,refererURL:F,shareDataAttributes:I,treatment:A,weblab:Y,isCustomShareOptionsSheetEnabled:p,caf:M,cafSwitchEnabled:k,customizeShareCSAData:c,cafEdCXIngressWeblabTreatment:N}};a(".custom-share-native-sheet").unbind("click").click(function(a){try{S("more"),
x(),X()}catch(W){t.log('Failed to launch native share sheet via "More" button, error: '+W.toString(),"ERROR",e.SSF_AUI_PACKAGE_ATTRIBUTION)}});a(".custom-share-copy").unbind("click").click(function(d){var n=this;try{(function(){var d=P();b.startTimer(d);S("copy");var f=e.CUSTOM_SHARE_OPTIONS_CP_CHANNEL_REF,m=a(n);O(m);U(f,!1,function(n){var q=1<arguments.length&&arguments[1]!==g?arguments[1]:"";navigator.clipboard.writeText(n).then(function(){var n=r.shareUrl.refMarker.getClickForChannel(f);b.logCSAEvent(e.CSA_HIT_TYPE.SHARE,
K("copy",n));b.logCounterRefactor("CopySuccess",I.ingress);k?b.logCounter("Caf.CustomShareOptions.CopySuccess"):c.imageState.isEmpty()?b.logCounter("customShareOptions.CopySuccess"):b.logCounter("Books.CustomShareOptions.CopySuccess");a(".ssf-feedback").show();J(m);x();b.stopTimer(d);q&&H(q);"function"===typeof y&&y(n)},function(){b.stopTimer(d);k?b.logCounter("Caf.CustomShareOptions.CopyFail"):c.imageState.isEmpty()?b.logCounter("CustomShareOptions.CopyFail"):b.logCounter("Books.CustomShareOptions.CopyFail");
u({shareData:r,channelRef:f,caf:M,cafSwitchEnabled:k});J(m)})})})()}catch(Q){t.log("Failed to share using copy channel, error: "+Q.toString(),"ERROR",e.SSF_AUI_PACKAGE_ATTRIBUTION)}});a(".ssf-custom-share-option:not(.custom-share-copy,.custom-share-native-sheet)").unbind("click");a(".ssf-custom-share-option:not(.custom-share-copy,.custom-share-native-sheet)").click(function(c){var d=this;try{(function(){var c=a(d),k=c.data("name"),n=P(),f=P(k);b.startTimer(n);b.startTimer(f);var m=E[k],q=e.CUSTOM_SHARE_OPTIONS_REF_PREFIX+
"_"+m.ref,l=r.shareUrl.refMarker.getClickForChannel(q);a(".ssf-error-text").addClass(w);O(c);U(q,!0,function(a){var d=1<arguments.length&&arguments[1]!==g?arguments[1]:"",q=G(m.shareUrl,m.label,a,T());D?D.launchIntentURL({url:q,successCallback:function(){b.stopTimer(n);b.stopTimer(f);J(c);x();b.logCounterRefactor("ChannelClick",I.ingress);b.logCounter("ChannelClick");S(k);"function"===typeof y&&y(l);d&&H(d);b.logCSAEvent(e.CSA_HIT_TYPE.SHARE,K(k,l))},failCallback:function(d){t.log("Failed to launch intent URL "+
q+" with error code: "+d.code,"WARN",e.SSF_AUI_PACKAGE_ATTRIBUTION);b.logCounter("customShareOptions.LaunchShareIntentFail");J(c);b.stopTimer(n);b.stopTimer(f);R&&m.fallbackShareUrl?(b.logCSAEvent(e.CSA_HIT_TYPE.SHARE,K(k,l)),h.location=G(m.fallbackShareUrl,m.label,a,T())):(x(),X())}}):(J(c),b.logCSAEvent(e.CSA_HIT_TYPE.SHARE,K(k,l)),x(),h.open(q,"_blank"))})})()}catch(Q){t.log("Failed to share, error: "+Q.toString(),"ERROR",e.SSF_AUI_PACKAGE_ATTRIBUTION)}})}}});"use strict";t.when("A","SocialShareWidgetState",
"atf").execute(function(f,g){var h=f.$("#ssf-primary-widget-desktop");f=f.$("#ssf-share-action");h=h.data("ssfShareIcon")||f.data("ssfShareIcon")||{};g.set("shareAapiCsrfToken",h.shareAapiCsrfToken);g.set("aapiBaseUrl",h.aapiBaseUrl);g.set("dpx",!0)});"use strict";t.when("A","SocialShareWidget").execute(function(f,g){var h=void 0,l=g.SocialShareCore.Metrics;g=f.debounce(function(){clearTimeout(h)},200,!0);f.declarative("ssf-share-icon","touchstart",function(){h=setTimeout(function(){l.logCounter("longpress")},
500)});f.declarative("ssf-share-icon","touchmove touchend",g)});"use strict";t.when("A","SocialShareWidget").register("SocialShareWidgetMetrics",function(f,h){var v=h.SocialShareCore.Metrics,l=function(a){a=a.pathname.split("/").filter(function(a){return f.contains(a,"ref\x3d")});return(a.length?a[0]:"").replace("ref\x3d","")},a=function(a){return(a=a.match(/cm_sw_r_(?:cso_)?(.*?)_/))?a[1]:g};t.now("SocialShareWidgetLoadedBTF").execute(function(a){a?v.logCounter("btf:render"):v.logCounter("atf:render")});
t.when("atf").execute(function(){try{var g=f.capabilities,b=g.tablet;g.isIE&&v.logCounter("render.ie");(b||600<screen.width&&g.isAmazonApp)&&v.logCounter("render.tablet");var e=new URL(location.href);if(e.href.includes("cm_sw_r_")){var d=e.searchParams.get("ref")||e.searchParams.get("ref_");d||(d=l(e));if(d.startsWith("cm_sw_r_")){var h=a(d);h&&v.logCounter("return.visit."+h);v.logCounter("return.visit")}}e.searchParams.get("cafId")&&v.logCounter("CAF.cafDeepLink")}catch(c){v.logCounter("urlparam.issue")}});
return{getRefEq:l,getChannelFromRef:a}});"use strict";t.register("SocialShareWidgetLinkUtil",function(){return{getLinkWithFlippedStarsLeft:function(f){try{var g=new URL(f.href||f),h=g.searchParams;if(h.get("ref_")&&h.get("starsLeft")){var l=h.get("ref_"),a=h.get("starsLeft"),m=h.get("newPreview"),b=h.get("skipTwisterOG"),e=h.get("bestFormat");h.delete("ref_");h.delete("starsLeft");h.delete("newPreview");h.delete("skipTwisterOG");h.delete("bestFormat");g.searchParams.append("ref_",l);g.searchParams.append("starsLeft",
a);m&&g.searchParams.append("newPreview",m);b&&g.searchParams.append("skipTwisterOG",b);e&&g.searchParams.append("bestFormat",e)}return g.toString()}catch(d){return f.toString()}}}});"use strict";t.when("A","SocialShareWidget","SocialShareWidgetAPI","SocialShareWidgetCustomizeUtils").register("SocialShareWidgetCustomize",function(f,u,v,l){u=u.SocialShareCore;var a=f.$,m=u.ShareSheet,b=u.Url,e=u.Metrics,d=u.Constants,D=e.getMetricName(a,d.customize),c=f.constants.HIDE_CLASS,B=function(){},k,w=0,r=
void 0,n=void 0,x=void 0,E=!1;t.when("a-checkbox").execute(function(a){return n=a});t.when("a-button").execute(function(a){return r=a});try{(function(){var q=l.imageState;f.declarative("cafCheckboxAction","change",function(){x()});f.on(l.getEventName("Hide"),function(a){a.sheet.getContentContainer().remove();q.clear()});f.on("a:sheet:afterShow:ssf-customize-bottom-sheet",function(a){I(a.sheet)});var u=function(b,c,d){var n=a(".ssf-preview-container"),g=a(".ssf-caf-preview"),h=(k=c)?"CAF.switchOn":
"CAF.switchOff";e.logCounter(D,h);e.logCounterRefactor(h,d);f.trigger("ssf:event:caf-switch-change",c);q.isConsultAFriendPreview=c;d=l.getImageData(b,q);E?l.getBackendPreviewImage(b,d,function(a){a?C(a):f.trigger("ssf:event:preview-generation-failed",b)}):c?(g.fadeIn(100),n.hide()):(n.fadeIn(100),g.hide())},z=function(a){var b=a.shareData,c=a.channelRef,d=b.shareUrl;a=b.isOGTEnabled;a=a===g?!1:a;var e=b.aapiBaseUrl;e=e===g?"":e;var k=b.shareAapiCsrfToken;k=k===g?"":k;var n=b.tinyUrlEnabled;n=n===
g?!1:n;var f=b.deeplinkInfo;f=f===g?{}:f;var h=b.shareDataAttributes,q=b.storeId;q=q===g?"":q;d.refMarker.isBestFormatEnabled=b.isBestFormatEnabled;c=c?d.getReturnForChannel(c):d.return;d=h.marketplaceId;return{tinyUrlEnabled:n,aapiBaseUrl:e,shareAapiCsrfToken:k,marketplaceId:d===g?"":d,url:c,isOGTEnabled:a,originalUrl:b.url||c,refMarkerId:w++,deeplinkInfo:f,storeId:q}},p=function(k,n,q,l,x,p,w){var y=q.shareDataAttributes,E=q.url,v=y.asin,u=y.ingress;y=q.refId;a(".ssf-customize-share-btn").find(".a-spinner").addClass(c);
r(".ssf-customize-share-btn").enable();n();var A=!1;n=new URL(p===g?E:p);l&&(y=d.CAF_REF_PREFIX+"_"+y,n.searchParams.append("cafId",l),n.searchParams.append("cafASIN",x),x!==v&&e.logCounter(D,"CAF.ShareASINMismatch"),A=!0);n.searchParams.append("language",h.languageOfPreference||q.locale||"en_US");q.shareUrl=new b(n.toString(),y);var R=z({shareData:q});t.when("SocialShareWidgetTiny").execute(function(a){a.fetch({data:R,callback:function(a){q.tinyUrl=a;w&&w();a=f.extend({channelSelectCB:function(){l&&
f.trigger("ssf:event:caf-share-complete-success",q)},cafSwitchEnabled:A},q);(new m(a)).launch(function(){f.delay(function(a){k(q)},100);l?(e.logCounter(D,"CAF.ShareSheetOpen"),e.logCounterRefactor("CAF.ShareSheetOpen",u)):(e.logCounter(D,"ShareSheetOpen"),e.logCounterRefactor("ShareSheetOpen",u))})}})})},C=function(a){if(!(1<arguments.length&&arguments[1]!==g&&arguments[1])){var b=new Image;b.src=a;b.onload=function(){q.productImageProperties.width=this.width;q.productImageProperties.height=this.height}}},
M=function(a){a=a.popularHighlightStrings;var b=[];b.push({id:"BackgroundImageTab",physicalId:"417kcYISTOL.jpg",url:"https://m.media-amazon.com/images/I/417kcYISTOL.jpg"});a.length&&(defaultQuote=a[0].replace(/"|”|“/g,""),b.push({id:"BookQuotesTab",value:defaultQuote}));return b},I=function(a){var b=a.$contentContainer,c=parseInt(a.$container.css("max-height"));b=parseInt(b.height());c<b?(a.$contentContainer.css("height",c),e.logCounter("SmallDevice")):a.$contentContainer.css("height","auto")};B=
function(b,h,m,w){var y=b.shareDataAttributes,z=b.treatment,R=z===g?"":z;z=b.weblab;var B=z===g?"":z;z=b.caf;z=z===g?!1:z;var A=b.isCafPreviewGenerationMigrationEnabled,H=y.ingress;q.currentPreview=l.getRegularImage();k=b.cafSwitch;z&&A&&(E=!0);z=function(a,b){0<b.length&&b.forEach(function(a){q.set(a)})};var G=function(a){e.logCounter(D,a);e.logCounterRefactor(a,H);e.logCounter(a)},F=function(b,c){v.build(b).fetchTabs(function(d){t.now("SocialShareWidgetCustomizeTemplate").execute(function(e){a(".ssf-tabs").html(e.getTabs(b,
d));c(d)})})};x=function(){var a=n(".ssf-caf-toggle");u(b,a.isChecked(),H)};b.customize&&b.customizePreSelected?(A=M(b),q.defaultCustomizationOptions=A,z(b,A),z=l.getImageData(b,q),l.getBackendPreviewImage(b,z,function(a){q.currentImage=a;C(a);l.adjustPreviewHeight();I(w)})):E?(z=l.getImageData(b,q),l.getBackendPreviewImage(b,z,function(a){a?C(a):f.trigger("ssf:event:preview-generation-failed",b)})):u(b,k,H);a(".ssf-customize-share-btn").click(function(){r(".ssf-customize-share-btn").isEnabled()&&
(a(".ssf-customize-share-btn").find(".a-spinner").removeClass(c),r(".ssf-customize-share-btn").disable(),k?(G("CAF.shareClick"),e.startTimer("CAF.fetchCAFAndTinyURL"),b.title=(b.t["taf-share-caf-messageprefix"]||"")+" "+b.title,v.build(b).fetchCAFID(function(a,c,d){p(h,m,b,a,c,d,function(){e.stopTimer("CAF.fetchCAFAndTinyURL")})})):(G("shareClick"),e.logCSAEvent(d.CSA_HIT_TYPE.CUSTOMIZE_SHARE,{channel:d.EMPTY_STRING,refMarker:b.shareUrl.refMarker.click,shareDataAttributes:y,treatment:R,weblab:B}),
p(h,m,b)))});a(".ssf-caf-toggle-ed-ingress").click(function(){var a="C";b.cafIngressId===d.CAF_INFO_ICON_KEY?a="T1":b.cafIngressId===d.CAF_LEARN_MORE_KEY&&(a="T2");G("CAF.edIngressTapped"+a);l.transitionToCAFEducationPage();I(w)});a(".ssf-customize-icon").click(function(){r(this).isEnabled()&&(G("CustomizeButtonClick"),r(this).disable(),q.currentPreview=l.getCustomizeImage(),F(b,function(c){c.forEach(function(b){var c="input[type\x3dradio][name\x3d"+b.id+"]";a(c).change(function(b){b=JSON.parse(b.target.value);
P(b);a(c).unbind("click");a(this).one("click",function(a){a=a.target;a.checked=!1;a=JSON.parse(a.value);L(a)})})});b.customizePreSelected&&(a("#BackgroundImageTab1").trigger("click"),a("#BookQuotesTab0").trigger("click"));c=l.getImageData(b,q);l.getBackendPreviewImage(b,c,function(a){q.currentImage=a;l.transitionToCustomizePage();l.adjustCustomizedPreviewHeight();I(w);C(a)})}))});var P=function(a){l.setImage();Array.isArray(a)?a.forEach(function(a){q.set(a)}):q.set(a);var c=l.getImageData(b,q);G(a.id+
"Select");l.getBackendPreviewImage(b,c,function(a){q.currentImage=a;C(a)})},L=function(a){l.setImage();G(a.id+"Unselect");q.unset(a);a=l.getImageData(b,q);l.getBackendPreviewImage(b,a,function(a){q.currentImage=a;C(a)})};a(".ssf-back-btn").click(function(){l.isCAFEducationPageVisible()&&(b.cafIngressId===d.CAF_INFO_ICON_KEY?G("CAF.edBackTappedT1"):b.cafIngressId===d.CAF_LEARN_MORE_KEY?G("CAF.edBackTappedT2"):G("CAF.edBackTappedC"));q.currentPreview=l.getRegularImage();e.logCounter("BackButtonClick");
l.resetPreviewState(q);l.transitionToDefaultPage();I(w)});t.when("a-checkbox").execute(function(b){a(".ssf-caf-toggle-label").click(function(){var a=b(".ssf-caf-toggle");a.check(!a.isChecked())})});f.on("ssf:event:preview-generation-failed",function(b){E=!1;a(".ssf-backend-preview").addClass(c);a(".ssf-html-preview").removeClass(c);u(b,k,H)})}})()}catch(q){e.logCounter(D,"Error"),e.logLoad("Error"),e.logFatal("Error loading Customize widget, Share Framework AUI: "+q.toString())}finally{e.logCounter(D,
"Render"),e.logLoad("Render")}return{init:B}});"use strict";t.when("A","SocialShareWidget").register("SocialShareWidgetCustomizeTemplate",function(f,h){var v=f.capabilities.rtl,l=h.SocialShareCore.Constants,a=function(a){var b=1<arguments.length&&arguments[1]!==g?arguments[1]:"";a=a.startsWith("http")?a:"https://m.media-amazon.com/images/G/01/share-icons/"+a;return'\x3cimg class\x3d"'+b+'" src\x3d"'+a+'"/\x3e'},m=function(a){var b=1<arguments.length&&arguments[1]!==g?arguments[1]:"ssf-product-title-text";
f.on("a:sheet:afterShow:ssf-customize-bottom-sheet",function(){f.$(".ssf-title-label").text(a.title)});return'\x3cdiv class\x3d"a-color-secondary a-padding-small '+b+'"\x3e\n      \x3cspan class\x3d"ssf-title-label" id\x3d"ssf-title-label"\x3e\n        \x3c!-- TITLE  --\x3e\n      \x3c/span\x3e\n    \x3c/div\x3e'},b=function(b){var c=1<arguments.length&&arguments[1]!==g?arguments[1]:"",d=2<arguments.length&&arguments[2]!==g?arguments[2]:"",e=3<arguments.length&&arguments[3]!==g?arguments[3]:"";b=
b.startsWith("http")?b:"https://m.media-amazon.com/images/G/01/share-icons/"+b;return d||e?'\x3cimg class\x3d"'+c+'" '+(e?'aria-labelledby\x3d"'+e+'"':"")+" "+(d?'aria-label\x3d"'+d+'"':"")+' src\x3d"'+b+'"/\x3e':a(b,c)},e=function(){return'\x3cspan class\x3d"a-size-mini ssf-rating-count"\x3e'+(0<arguments.length&&arguments[0]!==g?arguments[0]:"")+"\x3c/span\x3e"},d=function(a){return'\x3cul class\x3d"ssf-options-box-container a-unordered-list a-nostyle"\x3e'+a.values.map(function(b,c){var d=f.extend(b,
{id:a.id}),e={id:a.id,position:c,val:d,background:b.url};a.isQuote&&(e=f.extend(e,{center:!0,width:150,content:d.displayText,background:g}));d=e.id;c=e.position;b=e.content;b=b===g?"":b;var k=e.width,h=k===g?100:k,l=e.background;k=e.center;k=k===g?!1:k;e=e.val;h='style\x3d"width: '+h+"px;background-image: url("+(l===g?"":l)+");background-size: "+h+"px "+h+'px;"';l=JSON.stringify(e);c=d+c;e=e.label||"";var m='\x3cspan class\x3d"aok-offscreen"\x3e'+e+"\x3c/span\x3e";k&&(m='\x3cspan class\x3d"a-box-inner a-text-center ssf-q-text"\x3e'+
b+"\x3c/span\x3e");return'\x3cli class\x3d"ssf-options-box" aria-label\x3d\''+e+"'\x3e\n              \x3cinput id\x3d\""+c+'" type\x3d"radio" name\x3d"'+d+"\" value\x3d'"+l+"' aria-label\x3d'"+e+"'\x3e\x3c/input\x3e\n              \x3clabel for\x3d\""+c+'" class\x3d"a-box a-text-normal" '+h+"\x3e"+m+"\x3c/label\x3e\n            \x3c/li\x3e"}).join("")+"\x3c/ul\x3e"},u=function(a){var b=1<arguments.length&&arguments[1]!==g?arguments[1]:"",c=2<arguments.length&&arguments[2]!==g?arguments[2]:!1;return'\x3cli class\x3d"a-tab-heading ssf-customize-tab '+
(c?"a-active":"")+'" data-a-tab-name\x3d"ssf-tab-'+a+'" role\x3d"presentation"\x3e\n              \x3ca aria-label\x3d"'+b+'" href\x3d"#" role\x3d"tab" aria-selected\x3d"'+(c?"true":"false")+'" '+(c?"":'tabindex\x3d"-1"')+"\x3e"+b+"\x3c/a\x3e\n            \x3c/li\x3e"},c=function(a){return'\x3cdiv data-a-name\x3d"ssf-tab-'+a+'" class\x3d"ssf-tab-'+a+" a-box a-box-tab a-tab-content "+(3<arguments.length&&arguments[3]!==g&&arguments[3]?"":"a-hidden")+' a-padding-mini" role\x3d"tabpanel" tabindex\x3d"0"\x3e\n              '+
(1<arguments.length&&arguments[1]!==g?arguments[1]:"")+"\n            \x3c/div\x3e"},t=function(){return(0<arguments.length&&arguments[0]!==g?arguments[0]:[]).map(function(a){a=a.replace(/"|”|“/g,"");return{displayText:"“"+a+"”",value:a}})};return{getTabs:function(a,b){var e=a.popularHighlightStrings;if(!b.length)return"";var n="",f="",k=-1;b.forEach(function(a,b){a.isQuote&&(a.values=t(e));if(!a.values.length)return"";-1===k&&(k=b);b=b===k;n+=u(a.id,a.heading,b);f+=c(a.id,d(a),a.text,b)});return'\x3cdiv class\x3d"a-tab-container a-size-small"\x3e'+
('\x3cul data-action\x3d"a-tabs" class\x3d"a-tabs a-declarative ssf-customize-tab a-spacing-small" role\x3d"tablist" data-a-tabs\x3d\'{"name": "customize-tabs"}\'\x3e\n        '+n+"\x3c/ul\x3e"+f)+"\x3c/div\x3e"},getCustomizeBox:function(a){return'\x3cdiv class\x3d"a-box a-color-alternate-background a-spacing-top-large a-padding-base ssf-customize-box"\x3e\n      '+('\x3ch5 class\x3d"a-size-small a-spacing-micro"\x3e'+a.taf_custshare_customizelong+"\x3c/h5\x3e")+('\x3cp class\x3d"a-size-small a-color-secondary"\x3e'+
a.taf_custshare_customizedesc+"\x3c/p\x3e")+('\x3cspan class\x3d"a-button a-button-small" id\x3d"ssf-customize-share"\x3e\n      \x3cspan class\x3d"a-button-inner"\x3e\n        \x3cbutton class\x3d"a-button-text" type\x3d"button"\x3e'+a.taf_custshare_customizeshort+"\x3c/button\x3e\n      \x3c/span\x3e\n    \x3c/span\x3e")+"\n    \x3c/div\x3e"},getBackArrow:function(a){a=a["taf-share-general-gobacktopage"]||"";return'\x3cbutton type\x3d"button" class\x3d"ssf-back-btn a-padding-small" aria-label\x3d"'+
a+'" tabindex\x3d"0"\x3e'+('\x3cimg src\x3d"https://m.media-amazon.com/images/G/01/share-icons/arrow-left.svg" alt\x3d"'+a+'"\x3e')+"\x3c/button\x3e"},tabsContainer:'\x3cdiv class\x3d"a-row a-spacing-top-micro ssf-tabs a-color-base-background a-padding-mini"\x3e\x3c/div\x3e',getImageSection:function(c){var d=m(c);var f=c.isCafPreviewGenerationMigrationEnabled;var n=c.customize,k=c.customizePreSelected;f=c.caf&&f?!0:n&&k?!0:!1;n='\x3cdiv class\x3d"a-padding-base ssf-preview-container"\x3e\n      '+
(c.customize?'\x3cspan id\x3d"ssf-customize-icon" class\x3d"ssf-customize-icon"\x3e'+a("customize")+"\x3c/span\x3e":"")+'\n      \x3cspan class\x3d"a-spinner a-spinner-medium a-align-center ssf-preview-spinner aok-hidden"\x3e\x3c/span\x3e\n    \x3c/div\x3e';f='\x3cdiv class\x3d"a-box ssf-preview-box"\x3e\n              \x3cdiv class\x3d"ssf-backend-preview '+(f?"":"aok-hidden")+'"\x3e'+n+'\x3c/div\x3e\n              \x3cdiv class\x3d"ssf-html-preview '+(f?"aok-hidden":"")+'"\x3e';var h=c.customize;
k=c.t;n='\x3cdiv class\x3d"ssf-product-preview"\x3e'+b({productImage:c.productImage}.productImage,"","","ssf-title-label")+"\x3c/div\x3e";var l=c.starRating,u=l===g?"ZERO":l;l=c.customize;l=l===g?!1:l;var z=c.numberOfReviews,p=c.cafStarAlignmentLeft;c=c.isUnrecognizedUsersRichPreviewEnabled;u=b("RIO"+u+(v?"r":"")+".png","ssf-caf-stars",u+" star rating");z=e(z);c='\x3cdiv class\x3d"ssf-caf-rating"\x3e\n              \x3cdiv class\x3d"'+(p||c||l?"ssf-caf-rating-left":"ssf-caf-rating-right")+'"\x3e\n                '+
u+z+"\n              \x3c/div\x3e\n            \x3c/div\x3e";h=h?'\x3cspan id\x3d"ssf-customize-icon" class\x3d"ssf-customize-icon"\x3e'+a("customize")+"\x3c/span\x3e":"";k='\x3cp class\x3d"a-size-base a-spacing-micro ssf-caf-text"\x3e'+k.taf_custshare_caf_recipientemoji+"\x3c/p\x3e";l=b("caf-emojis"+(v?"r":"")+".png","ssf-caf-emojis","A heart eyes emoji, a thinking emoji, and a frowning emoji");return f+('\x3cdiv class\x3d"a-padding-base ssf-preview-container"\x3e\n              '+h+'\n              \x3cspan class\x3d"a-spinner a-spinner-medium a-align-center ssf-preview-spinner aok-hidden"\x3e\x3c/span\x3e\n              '+
n+"\n              "+c+"\n            \x3c/div\x3e "+('\x3cdiv class\x3d"ssf-caf-preview"\x3e\n              \x3cdiv class\x3d"a-padding-base ssf-caf-image"\x3e\n                \x3cdiv class\x3d"a-row ssf-caf-image-stickers"\x3e'+n+('\x3cdiv class\x3d"a-column ssf-caf-stickers"\x3e'+k+l+"\x3c/div\x3e")+"\x3c/div\x3e\n                  "+c+"\n                \x3c/div\x3e\n            \x3c/div\x3e"))+"\x3c/div\x3e\n              "+d+"\n            \x3c/div\x3e"},getCustomizePreviewImage:function(a){return'\x3cdiv class\x3d"a-box ssf-no-border ssf-cus-img-container"\x3e\n      \x3cdiv class\x3d"ssf-cus-img"\x3e\x3cspan class\x3d"a-spinner a-spinner-medium a-align-center ssf-preview-spinner aok-hidden"\x3e\x3c/span\x3e\x3c/div\x3e\n      '+
m(a,"ssf-product-title-text-small")+"\n    \x3c/div\x3e"},getToggleContainer:function(b){var c=2<arguments.length&&arguments[2]!==g?arguments[2]:"",d=(1<arguments.length&&arguments[1]!==g?arguments[1]:"").match(/^T(\d+)$/);d=b["taf_custshare_caf_ingress"+(d?"_alt"+d[1]:"")];var e='\x3csmall\x3e\x3ca class\x3d"ssf-caf-toggle-ed-ingress a-size-base a-link-normal"\x3e'+(b.taf_custshare_caf_ingress_learn_more||"Learn more")+"\x3c/a\x3e\x3c/small\x3e",f=a("https://m.media-amazon.com/images/G/01/AppFirst/ConsultAFriend/information-default.png");
return'\x3cdiv class\x3d"a-row a-spacing-top-medium-plus a-grid-vertical-align a-grid-center a-spacing-micro"\x3e\n      \x3cdiv class\x3d"a-column a-span1"\x3e\x3cdiv class\x3d"a-checkbox a-declarative a-checkbox-fancy ssf-caf-toggle" data-action\x3d"cafCheckboxAction"\x3e\n      \x3clabel class\x3d"a-padding-none" aria-labelledby\x3d"caf-checkbox-label"\x3e\n        \x3cinput class\x3d"a-declarative" name\x3d"caf" type\x3d"checkbox"\x3e\n        \x3ci class\x3d"a-icon a-icon-checkbox"\x3e\x3c/i\x3e\n      \x3c/label\x3e\n    \x3c/div\x3e\n  \x3c/div\x3e\n      \x3cdiv class\x3d"a-column a-span10"\x3e\n        \x3csmall id\x3d"caf-checkbox-label" class\x3d"ssf-caf-toggle-label a-size-base"\x3e'+
d+".\x3c/small\x3e\n        "+(c===l.CAF_INFO_ICON_KEY?'\x3cspan class\x3d"ssf-info-icon ssf-caf-toggle-ed-ingress"\x3e\x3cstrong\x3e'+f+"\x3c/strong\x3e\x3c/span\x3e":c===l.CAF_LEARN_MORE_KEY?e:"")+"\n      \x3c/div\x3e\n    \x3c/div\x3e"},getEducationCXBody:function(a){return'\x3cdiv class\x3d"a-box ssf-no-border"\x3e\n        '+('\x3cdiv class\x3d"a-color-secondary a-padding-small"\x3e\n      \x3cspan\x3e\n        '+(a.taf_custshare_caf_education_body||"Ask your friends for help. Use this option to ask friends to react to the item with an emoji. You can share the link by messaging your friends or posting on social media. You’ll get a notification for each reaction.")+
"\n      \x3c/span\x3e\n    \x3c/div\x3e")+'\n        \x3cdiv class\x3d"ssf-caf-education-video a-padding-base"\x3e\n          \x3cvideo id\x3d"ssf-caf-education-video" loop playsinline\x3e\n            \x3csource src\x3d"https://m.media-amazon.com/images/G/01/AppFirst/ConsultAFriend/caf-education-no-audio.mp4" type\x3d"video/mp4"\x3e\n          \x3c/video\x3e\n        \x3c/div\x3e\n      \x3c/div\x3e'}}});"use strict";t.when("A","SocialShareWidget","SocialShareWidgetAPI","SocialShareWidgetState").register("SocialShareWidgetCustomizeUtils",
function(f,u,v,l){function a(a){var b=a.values,c=b.BackgroundImageTab,d=b.DeviceCoverImageTab,e=b.BookQuotesTab;b=b.isConsultAFriendPreview;var f=a.productImageProperties;a=f.width;f=f.height;return{bgId:(c===g?{}:c).physicalId||"",deviceId:(d===g?{}:d).physicalId||"",quoteValue:(e===g?{}:e).value||"",isConsultAFriendPreview:b===g?!1:b,width:a===g?"":a,height:f===g?"":f}}function m(a,b){var c=a.shareUrl,e=a.socialLinks,f=e===g?{}:e;e=a.isOGTEnabled;e=e===g?!1:e;c.refMarker.isBestFormatEnabled=a.isBestFormatEnabled;
c=b?c.getReturnForChannel(b):c.return;b=b.replace(B.CUSTOM_SHARE_OPTIONS_REF_PREFIX+"_","");f=f.shareframework||a.url;var n=a.aapiBaseUrl;n=n===g?"":n;var h=a.shareAapiCsrfToken;h=h===g?"":h;var k=a.tinyUrlEnabled;k=k===g?!1:k;var l=a.deeplinkInfo;l=l===g?{}:l;var m=a.isOnShareGatingEnabled;m=m===g?!1:m;var x=a.shareDataAttributes;a=x.marketplaceId;a=a===g?"":a;x=x.asin;x=x===g?"":x;var t=d();return{tinyUrlEnabled:k,aapiBaseUrl:n,shareAapiCsrfToken:h,marketplaceId:a,asin:x,url:c,osType:t,isOGTEnabled:e,
originalUrl:f||c,refMarkerId:r++,deeplinkInfo:l,isOnShareGatingEnabled:m,extractedRef:b}}function b(a,b,c,d){if(c.isEmpty()||!c.currentImage.length)return d({});c=encodeURIComponent(c.currentImage);v.build(a).externalizeImage(c,d,b)}function e(a,b,c){v.build(a).generateImage(b,function(a){c(a.entity)})}function d(){switch(!0){case f.capabilities.ios:return"ios";case f.capabilities.android:return"android";default:return"unknown"}}u=u.SocialShareCore;var t=f.constants.HIDE_CLASS,c=f.$,B=u.Constants,
k=u.Metrics,w=u.Url,r=0;return{getEventName:function(a){return"a:sheet:after"+a+":ssf-customize-bottom-sheet"},getCustomizeImage:function(){return c(".ssf-cus-img")},getCustomizeImageContainer:function(){return c(".ssf-cus-img-container")},getRegularImage:function(){return c(".ssf-backend-preview .ssf-preview-container")},getPreviewBox:function(){return c(".ssf-preview-box")},setImage:function(a){this.imageState.currentPreview.css("background-image",'url("'+a+'")')},showSpinner:function(){this.imageState.currentPreview.find(".a-spinner").removeClass(t)},
hideSpinner:function(){this.imageState.currentPreview.find(".a-spinner").addClass(t)},transitionToCustomizePage:function(){c(".ssf-customize-container-one").addClass(t);c(".ssf-customize-container-two").removeClass(t).addClass("ssf-customize-transition")},transitionToCAFEducationPage:function(){c(".ssf-customize-container-one").addClass(t);c(".ssf-customize-container-three").removeClass(t).addClass("ssf-customize-transition");var a=c("#ssf-caf-education-video").get(0);a&&(a.currentTime=0,a.play())},
isCAFEducationPageVisible:function(){return c(".ssf-customize-container-three").is(":visible")},adjustCustomizedPreviewHeight:function(){this.getCustomizeImageContainer().css({width:.76*h.innerWidth});var a=parseInt(this.getCustomizeImage().css("border-left-width"))+parseInt(this.getCustomizeImage().css("border-right-width")),b=this.getCustomizeImage().innerWidth();this.getCustomizeImage().css({height:(b+a)/1.91})},adjustPreviewHeight:function(){this.getPreviewBox().css({width:.93*h.innerWidth});
var a=parseInt(this.getRegularImage().css("border-left-width"))+parseInt(this.getRegularImage().css("border-right-width")),b=this.getRegularImage().innerWidth();this.getRegularImage().css({height:(b+a)/1.91})},transitionToDefaultPage:function(){c(".ssf-customize-container-two").addClass(t);c(".ssf-customize-container-three").addClass(t);c(".ssf-customize-container-one").removeClass(t).addClass("ssf-customize-transition-back")},getImageData:function(b,c){var d=a(c);return{productImageUrl:b.productImage,
starRating:b.starRating||"",numberOfReviews:b.numberOfReviews||"",backgroundImagePhysicalId:d.bgId,deviceCoverImagePhysicalId:d.deviceId,bookQuote:d.quoteValue,productImageWidth:d.width,productImageHeight:d.height,consultAFriendPreviewEnabled:c.isConsultAFriendPreview,previewDohEnabled:b.previewDoh}},resetPreviewState:function(a){a.clear();0<a.defaultCustomizationOptions.length&&a.defaultCustomizationOptions.forEach(function(b){a.set(b)})},getBackendPreviewImage:function(a,b,c){var d=this;d.setImage("");
d.showSpinner();e(a,b,function(a){a&&"SUCCEEDED"===a.status?(a=a.customizedImage.url,d.hideSpinner(),d.setImage(a),c(a)):c()})},setCustomizeCSAData:function(b,c){var d=B.customizeShareStateKey;c=a(c);var e=B.TRUE,f=B.FALSE;l.set(d,{backgroundImagePhysicalId:c.bgId,deviceCoverImagePhysicalId:c.deviceId,hasQuote:0<c.quoteValue.length?e:f,isCustomizedExperienceEnabled:b.customize?e:f,isCustomized:c.bgId||c.deviceId||c.quoteValue?e:f,customizePreSelected:b.customizePreSelected?e:f,isQuotesAvailable:b.popularHighlightStrings?
e:f})},prepareShareUrl:function(a,c,d,e,f){this.setCustomizeCSAData(a,this.imageState);b(a,e,this.imageState,function(b){b=b.entity;var h=new URL(a.url),g=c;b&&b.physicalId?(k.logCounterRefactor("externalizeImageSuccess"),h.searchParams.append("cspi",b.physicalId),g=c+"_"+B.BOOKS_REF_PREFIX):(a.customizePreSelected&&(k.logCounter("booksPreviewNotAvailable"),g=c+"_"+B.BOOKS_REF_PREFIX+"_"+B.BOOKS_CUSTOMIZE_PREVIEW_NOT_AVAILABLE),(a.cafStarAlignmentLeft||a.isUnrecognizedUsersRichPreviewEnabled||a.customize)&&
h.searchParams.append("starsLeft","1"));a.shareUrl=new w(h.toString(),a.refId);b=m(a,g);d.fetch({data:b,isAsync:e,callback:function(a){f(a)}})})},imageState:{clear:function(){this.values={}},isEmpty:function(){return c.isEmptyObject(this.values)},values:{},unset:function(a){delete this.values[a.id]},set:function(a){this.values[a.id]=a},defaultCustomizationOptions:[],currentImage:"",isConsultAFriendPreview:!1,currentPreview:"",productImageProperties:{width:0,height:0}}}});"use strict";t.when("SocialShareWidget",
"SocialShareWidgetAPI").register("SocialShareWidgetCAFUtils",function(f,t){function u(a,d){var e=a.shareUrl,c=a.socialLinks;c=c===g?{}:c;var f=a.isOGTEnabled;f=f===g?!1:f;e.refMarker.isBestFormatEnabled=a.isBestFormatEnabled;d=d?e.getReturnForChannel(l.CAF_REF_PREFIX+"_"+d):e.return;d=new URL(d);a.cafStarAlignmentLeft||a.isUnrecognizedUsersRichPreviewEnabled?d.searchParams.append("starsLeft","1"):a.caf&&d.searchParams.append("cafHiResImg","1");d.searchParams.has("language")||d.searchParams.append("language",
h.languageOfPreference||a.locale||"en_US");d=d.toString();e=a.aapiBaseUrl;var k=a.shareAapiCsrfToken,m=a.tinyUrlEnabled,r=a.deeplinkInfo;r=r===g?{}:r;var n=a.shareDataAttributes.marketplaceId;return{tinyUrlEnabled:m===g?!1:m,aapiBaseUrl:e===g?"":e,shareAapiCsrfToken:k===g?"":k,marketplaceId:n===g?"":n,url:d,isOGTEnabled:f,originalUrl:c.shareframework||a.url||d,refMarkerId:b++,deeplinkInfo:r}}var l=f.SocialShareCore.Constants,a=f.SocialShareCore.Url,m=f.SocialShareCore.Metrics,b=0;return{prepareShareUrl:function(b,
d,f,c,h){var e=b.refId;m.logCounterRefactor("CAF.shareChannelClick",b.ingress);m.startTimer("CAF.fetchCAFAndTinyURL");e=l.CAF_REF_PREFIX+"_"+e;t.build(b).fetchCAFID(function(g,k){var l=new URL(b.url);g&&l.searchParams.append("cafId",g);k&&l.searchParams.append("cafASIN",k);b.shareUrl=new a(l.toString(),e);k=u(b,d);f.fetch({data:k,isAsync:c,callback:function(a){m.stopTimer("CAF.fetchCAFAndTinyURL");h(a,g)}})},c)}}})});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("DetailPageLoyaltyRewardPointsEarningsAssets",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("DetailPageLoyaltyRewardPointsRedemptionAssets",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
